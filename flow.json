[
    {
        "id": "c4cabdfe9549c77b",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f1a202e8.6987c",
        "type": "tab",
        "label": "Mode",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6abc28ed.f003a8",
        "type": "tab",
        "label": "Security System",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fd9f1c1.a5554e",
        "type": "tab",
        "label": "Passerelles",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "65d53490.95139c",
        "type": "tab",
        "label": "Nextion",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8a56250a.f42758",
        "type": "tab",
        "label": "Lumière ",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5fe8574ef0d6675d",
        "type": "tab",
        "label": "Chauffage Light",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b3af9cb9.a9fa9",
        "type": "tab",
        "label": "Multimédia",
        "disabled": false,
        "info": ""
    },
    {
        "id": "43631d17.597e84",
        "type": "tab",
        "label": "Monitoring",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4c110565.89018c",
        "type": "tab",
        "label": "Notif et Divers",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b57132d6949dd8f7",
        "type": "tab",
        "label": "AWTRIX",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "797e40da.11773",
        "type": "tab",
        "label": "TEST",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5316d42f.ab97dc",
        "type": "tab",
        "label": "Chauffage",
        "disabled": true,
        "info": ""
    },
    {
        "id": "263d20821b09b78e",
        "type": "tab",
        "label": "Backup Alarm",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "770255e9.0155ec",
        "type": "subflow",
        "name": "Mode Jour",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "2d156a6e.35fff6"
                    },
                    {
                        "id": "330b7925.aaa0e6"
                    },
                    {
                        "id": "c5a03ac41fdddec1"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#3FADB5",
        "icon": "node-red-contrib-tasmota/contrib-tasmota-button.svg"
    },
    {
        "id": "3d40e23b.ebcdce",
        "type": "subflow",
        "name": "Devices OFF -> dodo",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 80,
                "y": 220,
                "wires": [
                    {
                        "id": "90cb8282.4f801"
                    },
                    {
                        "id": "7c490510.d48eac"
                    },
                    {
                        "id": "78dde222438cf313"
                    },
                    {
                        "id": "f2dcb6360f9346c6"
                    },
                    {
                        "id": "78a6870dad2d635a"
                    },
                    {
                        "id": "8c50e59caf8028c6"
                    },
                    {
                        "id": "b992d1e40c8f54ce"
                    },
                    {
                        "id": "de4430af4a8e161f"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#3FADB5",
        "icon": "node-red-contrib-tasmota/contrib-tasmota-button.svg"
    },
    {
        "id": "39624737.4b1738",
        "type": "subflow",
        "name": "Alarme",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 240,
                "wires": []
            }
        ],
        "out": [
            {
                "x": 1220,
                "y": 140,
                "wires": []
            }
        ],
        "env": [],
        "meta": {},
        "color": "#FF4040",
        "icon": "node-red-contrib-tasmota/contrib-tasmota-light.svg"
    },
    {
        "id": "167adec2.4f41e1",
        "type": "subflow",
        "name": "Sirène Faible",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 180,
                "wires": [
                    {
                        "id": "afa1237f.85e9d"
                    },
                    {
                        "id": "189bc26c.4e094e"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 240,
                "wires": [
                    {
                        "id": "afa1237f.85e9d",
                        "port": 0
                    },
                    {
                        "id": "ee64bd77.74b41",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#FF4040",
        "icon": "node-red-contrib-tasmota/contrib-tasmota-light.svg"
    },
    {
        "id": "6574230f.4c620c",
        "type": "subflow",
        "name": "Déclencheurs -> triggered",
        "info": "",
        "category": "",
        "in": [],
        "out": [],
        "env": [],
        "color": "#FF4040",
        "icon": "node-red-contrib-tasmota/contrib-tasmota-light.svg"
    },
    {
        "id": "d6013eec.a94ed",
        "type": "subflow",
        "name": "House disarmed",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 80,
                "y": 100,
                "wires": [
                    {
                        "id": "b18d4130.ebad"
                    },
                    {
                        "id": "14548d6ec4db918d"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#FF4040",
        "icon": "node-red-contrib-tasmota/contrib-tasmota-light.svg"
    },
    {
        "id": "5e7c5319.89a77c",
        "type": "subflow",
        "name": "Armed away ",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 200,
                "wires": [
                    {
                        "id": "89d99519.bceb78"
                    },
                    {
                        "id": "c21c5d10.36212"
                    },
                    {
                        "id": "598ce8fc84f3362b"
                    },
                    {
                        "id": "8ab08914a26a7e95"
                    },
                    {
                        "id": "69b1e12c82b35923"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#FF4040",
        "icon": "node-red-contrib-tasmota/contrib-tasmota-light.svg",
        "status": {
            "x": 660,
            "y": 400,
            "wires": []
        }
    },
    {
        "id": "b1abe7bc.8854d8",
        "type": "subflow",
        "name": "Armed Home",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 40,
                "wires": [
                    {
                        "id": "2087b6f5.6ed7da"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#FF4040",
        "icon": "node-red-contrib-tasmota/contrib-tasmota-light.svg",
        "status": {
            "x": 220,
            "y": 260,
            "wires": []
        }
    },
    {
        "id": "b70f79aa.1b96a8",
        "type": "subflow",
        "name": "rflink2mqtt",
        "info": "# rflink2mqtt\nThis subflow parse a RFLink message like: 20;2C;Oregon TempHygro;ID=2DE9;TEMP=00e5;HUM=54;HSTATUS=1;BAT=LOW\n\nParsing is based on [RFLink specifications](http://www.rflink.nl/blog2/protref)\n\n### Inputs\n - `payload`: The RFLink message\n\n### Output\n - `msg`: The parsed RFLink object:\n```\n{\n   \"_msgid\": \"cf6e3cc2.ac997\",\n   \"payload\": \"20;2C;Oregon TempHygro;ID=2DE9;TEMP=00e5;HUM=54;HSTATUS=1;BAT=LOW\",\n   \"topic\": \"\",\n   \"msg433\": {\n     \"p1\": \"20\",\n     \"p2\": \"2C\",\n     \"name\": \"Oregon TempHygro\",\n     \"ID\": 11753,\n     \"TEMP\": 22.9,\n     \"HUM\": 54,\n     \"HSTATUS\": \"1\",\n     \"BAT\": \"LOW\"\n   }\n}\n```\n\n### Details: MQTT messages\n - A MQTT message is also sent for each field on 'RFlink/{name}_{deviceId}/{type}/state'\n - if the device is detected as a cover, extra-cover messages will be sent on topics\n   -  'RFlink/{name}_{deviceId}/cover/set'\n   -  'RFlink/{name}_{deviceId}/cover/state'\n   -  'RFlink/{name}_{deviceId}/cover/availability'\n - A MQTT message is also sent, with the RFlink message converted to an object, on 'RFlink/{name}_{deviceId}'\n\n### Home Assistant Integration\nTo add a sensor temperature, add a similar block code:\n\n```\n- platform: mqtt\n  name: \"Test Temp\"\n  state_topic: \"RFlink/[NAME]_[ID]/temperature\"\n  unit_of_measurement: \"°C\"\n```\n\nTo add a cover, add a similar block code:\n\n```\n- platform: mqtt\n  name: \"MQTT Cover\"\n  command_topic: \"RFlink/[NAME]_[ID]/cover/command\"\n  state_topic: \"RFlink/[NAME]_[ID]/cover/state\"\n  availability_topic: \"RFlink/[NAME]_[ID]/cover/availability\"\n  qos: 0\n  retain: true\n  payload_open: \"UP\"\n  payload_close: \"DOWN\"\n  payload_stop: \"STOP\"\n  state_open: \"open\"\n  state_opening: \"opening\"\n  state_closed: \"closed\"\n  state_closing: \"closing\"\n  payload_available: \"online\"\n  payload_not_available: \"offline\"\n  optimistic: false\n  value_template: \"{{ value }}\"\n```",
        "category": "",
        "in": [
            {
                "x": 160,
                "y": 40,
                "wires": [
                    {
                        "id": "e6d1cecd.00c33"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1060,
                "y": 1520,
                "wires": [
                    {
                        "id": "d0eff0ba.5b77d",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#D8BFD8",
        "icon": "node-red/bridge.svg"
    },
    {
        "id": "711f44dc.b8379c",
        "type": "subflow",
        "name": "Notification",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 480,
                "wires": [
                    {
                        "id": "bb6496b6.c5fb38"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#4A88C0",
        "icon": "font-awesome/fa-comment",
        "status": {
            "x": 1740,
            "y": 100,
            "wires": [
                {
                    "id": "4e1a58dc.5faf88",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "4a0b6520.d97434",
        "type": "subflow",
        "name": "OctoPrint",
        "info": "### Octoprint\n\nConfigure the node; IP/hostname, API key.\nSelect an option to query from OctoPrint\n\nConnected an inject node and a debug node\nInject anything\n",
        "category": "",
        "in": [
            {
                "x": 44,
                "y": 48,
                "wires": [
                    {
                        "id": "9803ec2a.54fff"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 572,
                "y": 48,
                "wires": [
                    {
                        "id": "e2150a4b.e1878",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "url",
                "type": "str",
                "value": "192.168.1.1",
                "ui": {
                    "label": {
                        "en-US": "http://"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str"
                        ]
                    }
                }
            },
            {
                "name": "api",
                "type": "str",
                "value": "",
                "ui": {
                    "label": {
                        "en-US": "API key"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str"
                        ]
                    }
                }
            },
            {
                "name": "request",
                "type": "str",
                "value": "",
                "ui": {
                    "label": {
                        "en-US": "Type"
                    },
                    "type": "select",
                    "opts": {
                        "opts": [
                            {
                                "l": {
                                    "en-US": "Printer Operations"
                                },
                                "v": "printer"
                            },
                            {
                                "l": {
                                    "en-US": "Jobs"
                                },
                                "v": "job"
                            },
                            {
                                "l": {
                                    "en-US": "Files"
                                },
                                "v": "files"
                            }
                        ]
                    }
                }
            }
        ],
        "color": "#C7E9C0",
        "icon": "font-awesome/fa-print"
    },
    {
        "id": "65d645b.a57d1bc",
        "type": "group",
        "z": "fd9f1c1.a5554e",
        "name": "Telco Blanche ",
        "style": {
            "fill": "#9363b7",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "9189fa3.ccee608",
            "b1df8b44.c7d148"
        ],
        "x": 634,
        "y": 279
    },
    {
        "id": "c6abcca2.0502d",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Salle De bain",
        "style": {
            "stroke": "#0070c0",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#3f93cf"
        },
        "nodes": [
            "eb6f3f21.547ed",
            "124d60c9.1182bf",
            "a4fbc399.901a4",
            "2e020e9.55d27f2",
            "d03c30d3.0fa5d",
            "4e65ea4b.f4ba04",
            "60050347.4d487c",
            "b5bd2242.04f81",
            "f5af4720.fe5858",
            "9cd19889.9afd88",
            "3a57d8c0.f94b08",
            "1f9449a7.75e286",
            "1fa8ccb2.6e4e93",
            "bcd7c930.726808",
            "29c56d84.3d0e02",
            "8adfefcf.29a02",
            "ced47d30.a08ac",
            "6f21181a.c92b98",
            "eb046a1057f54bdf",
            "207f6227ea98a627",
            "33b460a1df6f980e"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "9252146b.03fc08",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Chambre Parents",
        "style": {
            "stroke": "#bfdbef",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#bfdbef"
        },
        "nodes": [
            "4cea06b0.d9b558",
            "c2565bc4.61f098",
            "4ec2d4346ab03bf2",
            "5138750f5cc6dd63"
        ],
        "x": 1354,
        "y": 19
    },
    {
        "id": "5543a07b.da5c6",
        "type": "group",
        "z": "4c110565.89018c",
        "name": "Cast Google Hub + Nextion Gar sur pres",
        "style": {
            "stroke": "#c8e7a7",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#addb7b"
        },
        "nodes": [
            "fcb1d1cd.b9b9b",
            "e36fdaa2.0ac7b8",
            "219b0cbb.7f93a4",
            "e69b0ab1.61b128",
            "583c593f.203cb8",
            "5740efd4.78854",
            "c9529f9f.ce82e",
            "155f1d0e.1760a3",
            "fcf793ac.7e76",
            "ffa97af9.a90818",
            "7aaa450e.efea8c",
            "d19650ba.76ba9",
            "ddd76ccf.e35ee"
        ],
        "x": 1034,
        "y": 479
    },
    {
        "id": "65dad809.9aa608",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Atelier",
        "style": {
            "stroke": "#92d04f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#92d04f",
            "fill-opacity": "0.9"
        },
        "nodes": [
            "d964ce3e.1899b",
            "efc9e388.61e13",
            "ff491878.269048",
            "14df9d8e.b5c182",
            "961328ea.cd4ea8",
            "44298cc9.555e34",
            "eb218a28.2791d8",
            "14cbfe5b.cc3b52",
            "4f12203e.96e41",
            "292679bb.8985a6",
            "686e8395a8a61ebc",
            "3ff8201f91ef1e76",
            "5a52d8badfe41e2e",
            "7a6f93f1213e8ca8",
            "72f7cf2559d579b7",
            "49988c0962f264d7"
        ],
        "x": 794,
        "y": 459
    },
    {
        "id": "a0b00255.fbed9",
        "type": "group",
        "z": "797e40da.11773",
        "name": "Prise Chacon",
        "style": {
            "stroke": "#ffC000",
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "e5a5fa56.2bdc98",
            "e24496a2.dbe1f8",
            "48c9eb9c.dadfa4",
            "29e57792.c46908"
        ],
        "x": 1214,
        "y": 399
    },
    {
        "id": "626f2fe9.095fe",
        "type": "group",
        "z": "65d53490.95139c",
        "name": "Nextion CH_________________",
        "style": {
            "stroke": "#92d04f",
            "label": true,
            "color": "#92d04f",
            "fill": "#3f3f3f"
        },
        "nodes": [
            "f3ba350b.3d3cf8",
            "54b19ea8.31c8e",
            "a232715b.ebd34",
            "9634b113.58cfc",
            "7d060c17.51e654",
            "46bbc050.e7341"
        ],
        "x": 34,
        "y": 819
    },
    {
        "id": "aed256f1.649fa8",
        "type": "group",
        "z": "4c110565.89018c",
        "name": "Gestion sonnette & facteur",
        "style": {
            "stroke": "#92d04f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#addb7b"
        },
        "nodes": [
            "82eae0d5.637ec",
            "ac40b47b.30eb08",
            "a0970a40.cd8968",
            "cbe69ae6.559a48",
            "21197c0.3fe7584",
            "83db67.48a97498",
            "ceca726c.bf2c9",
            "350f73fa.f8fdbc",
            "996db514.80df38",
            "c40d8c63.bf7c2",
            "2020894.b011e76",
            "6d2073d2.df7c6c",
            "97646e78.60946",
            "898e3ea7.00b5f",
            "250773fb.73583c",
            "bb8f8fa6.6ce38",
            "8db0cc01.cef13",
            "618b67ad.c61c08",
            "58f33afb.3f8b34",
            "c7f7133d.b7377",
            "2e12f162.ff1b2e",
            "3dca016a.0fd64e",
            "24052892.6d09d8",
            "695fdf8.b59cd2",
            "667fc863.98d8a8",
            "125eac8b.d1f583",
            "ac676011.5d7c7",
            "84b206cc.6d8448",
            "a17cbc4e.1b69e",
            "9ab42cc7.b3142",
            "3090c70.7f51a3a",
            "e53dc66c.12cac8",
            "61fdfc1.4f0b904",
            "d49be46c.bf2978",
            "c9161089.6aaa1",
            "a173b00e.0f394",
            "20ca9bd58fcb5b3e"
        ],
        "x": -6,
        "y": 19
    },
    {
        "id": "5b43065d.519348",
        "type": "group",
        "z": "4c110565.89018c",
        "name": "Poubelles",
        "style": {
            "stroke": "#ffcf3f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffcf3f"
        },
        "nodes": [
            "1f6ac4a6.e34d8b",
            "c0e67c61.d00e",
            "8e5f72a4.18ebb",
            "11ba9958.a32057",
            "4ac6ccf0.880734",
            "3e994ad5.5aed86"
        ],
        "x": 1034,
        "y": -1
    },
    {
        "id": "5531669a.697438",
        "type": "group",
        "z": "f1a202e8.6987c",
        "name": "Jour",
        "style": {
            "stroke": "#ffffff",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffffff"
        },
        "nodes": [
            "989760f9.aa3b1",
            "e004d122.d1bab",
            "ff460633.36f108",
            "fae87fcb.5a66",
            "28e60c5b.680884",
            "c07fac25.22edc",
            "6e46c151.a24bf",
            "a413b73c.9bc8b8",
            "9c22adc2.4661d",
            "7de0c191.9dc65",
            "a656ebd0.6ff898",
            "3def507a.f86fb",
            "b67b7feb.baf81",
            "bb7f261c.00dae8",
            "1a046b62.dead85",
            "1af16578.f5323b",
            "c744af9a.85d0e",
            "25b5d131.4b44ae",
            "8dd51851.82fdf8",
            "5ab8b46f.6c582c"
        ],
        "x": 14,
        "y": 19,
        "w": 1452,
        "h": 302
    },
    {
        "id": "6688e9c2.1e3678",
        "type": "group",
        "z": "797e40da.11773",
        "name": "Notif",
        "style": {
            "label": true
        },
        "nodes": [
            "5dc93e2e.a062a",
            "f0b8dcce.917a8",
            "80f0ba5b.812bb8",
            "68a67a32.73a2c4",
            "3af1c5fc.14661a",
            "c3735e49.6614e",
            "413e5e10.3cf13",
            "fcfdb1bc.fc1b7",
            "3c1128c0.26fa18"
        ],
        "x": 1214,
        "y": 19
    },
    {
        "id": "f894ff9b.c4edc",
        "type": "group",
        "z": "4c110565.89018c",
        "name": "Cast Google Hub + Nextion Ch sur pres",
        "style": {
            "stroke": "#ff7f7f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ff7f7f"
        },
        "nodes": [
            "465d2bde.b7b864",
            "56faba78.c51514",
            "dfc19222.66163",
            "932764fd.b23488",
            "7a1a9aab.379844",
            "ac3d1bae.47c058",
            "e5d1b097.5d461",
            "ec353f52.3d826",
            "a5e01a9a.265848",
            "8d6ecead.cd36b",
            "c462d85f.0c69c8",
            "3c53cfff.26c38",
            "3f54e7d5.cf1d78",
            "bf3731c5.dbafd",
            "56b0fb48.a33b14"
        ],
        "x": 1034,
        "y": 159
    },
    {
        "id": "9afb718d.493d",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "Alerte Incendie",
        "style": {
            "stroke": "#ffC000",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffC000"
        },
        "nodes": [
            "727ba882.fab928",
            "51eca803.208d88",
            "6c8c1a67.de1a54",
            "4dd0ab40.7420c4",
            "cf949bb.d214768",
            "a506d1c8.b920e",
            "44507e12.13a58",
            "6af3be7e.4f417",
            "c1e8e03b.e59ee",
            "d758434e.b0ec6"
        ],
        "x": 994,
        "y": 39
    },
    {
        "id": "22d3e8bf.c3c6f8",
        "type": "group",
        "z": "f1a202e8.6987c",
        "name": "Soir & Nuit",
        "style": {
            "stroke": "#001f60",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#bfbfbf"
        },
        "nodes": [
            "77858987.1b3c98",
            "6d9bfc9.3b89204",
            "d466e8f1.19d358",
            "6599d42d.5e2a0c",
            "7a9da41.38e4f5c",
            "ef44ba97.952898",
            "18da1d4d.164223",
            "dad84cc9.2b001",
            "23c0a06d.fefca",
            "11d9ba56.d644a6",
            "c4b54d66.9639b",
            "ff8aa5f8.74cb28",
            "512193e6.d6e98c",
            "eaabc1ca.35b56",
            "e9231b3.c2c56e8",
            "17c00b9d.c0e704",
            "1fa045a02039297f",
            "271bbc0ddab81578",
            "32e8a156d06b7942",
            "4c05e45fc1503cae",
            "403d332637fac155"
        ],
        "x": 14,
        "y": 339,
        "w": 1292,
        "h": 382
    },
    {
        "id": "74b2a6a2.9e98b8",
        "type": "group",
        "z": "797e40da.11773",
        "name": "Nitof mobile HA app",
        "style": {
            "stroke": "#9363b7",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#9363b7"
        },
        "nodes": [
            "fcae0e2b.aea49",
            "aab3de1d.9993c",
            "972e847d.d50688",
            "c4392aad.4befa8",
            "c9218987.519048"
        ],
        "x": 1214,
        "y": 239
    },
    {
        "id": "5ea4b337.ab2bcc",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "Cam Captures intrusion",
        "style": {
            "stroke": "#9363b7",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#9363b7"
        },
        "nodes": [
            "d174f796.680eb8",
            "835e0bbe.e32548",
            "e31f9362.876d6",
            "5ca7ec7a.6fe184",
            "62b42bba.b562a4",
            "55ed66d8.a78e98",
            "160ba6d.7278b59",
            "77f58c47.78ffe4",
            "b2d5b588.ce9c28",
            "34535e05b45226ae",
            "2d05e7f1abf41f65",
            "3e55ee0a87aad251"
        ],
        "x": 994,
        "y": 559
    },
    {
        "id": "8eaaebb5.727948",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Prise sapin",
        "style": {
            "stroke": "#ffC000",
            "fill": "#3f3f3f",
            "label": true
        },
        "nodes": [
            "349e53bf.0de9fc",
            "6e108fcc.ac08d",
            "1e2b301c.484df",
            "c7775a57.9bded8",
            "6ee2cf2e.d6fae",
            "a233314b.2f10e",
            "dfe297eb.4c59e8"
        ],
        "x": 1014,
        "y": 779
    },
    {
        "id": "4a69ca19.2da874",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Extérieur",
        "style": {
            "stroke": "#9363b7",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#9363b7"
        },
        "nodes": [
            "f4c8956c.c72948",
            "1422772e.16bca9",
            "476bff7e.3dd8c",
            "4ba83aee.c63364",
            "fd200963.5b2998",
            "69f839e0.d65ac8",
            "ffd3e7f7.44ec18",
            "b72bb6a6.9eb048"
        ],
        "x": 14,
        "y": 559
    },
    {
        "id": "ec77e8f6.b62408",
        "type": "group",
        "z": "f1a202e8.6987c",
        "name": "Volets",
        "style": {
            "stroke": "#6f2fa0",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffff00"
        },
        "nodes": [
            "118d8233.a3164e",
            "32259a9e.f65d76",
            "12dc46e0.23cb59"
        ],
        "x": 1494,
        "y": 19,
        "w": 392,
        "h": 142
    },
    {
        "id": "64acaad.81af854",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "set parameters",
        "style": {
            "stroke": "#ffff00",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffff00"
        },
        "nodes": [
            "db0742c9.c207f",
            "a3644352.942da",
            "65d49a3c.097ad4",
            "d2706a2c.2df268",
            "2da6ef2c.c8c01",
            "5b96cb42.220294",
            "40967acc.b10f44",
            "69911.670426ef8",
            "e983b2e0.2e458",
            "a939ca81.cff148",
            "b7463a39.655388",
            "c940d183.3527e",
            "252b54b7.35d51c",
            "11f36ffc.1f467",
            "a1d56fc2.e671f"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "6177905c.1d86",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "probe sensors",
        "style": {
            "stroke": "#92d04f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#92d04f"
        },
        "nodes": [
            "86133cf8.f7ce4",
            "90407985.fbd0c8",
            "8f7d2532.cd5958",
            "6eb156e3.a95a78",
            "d178cc61.9825c",
            "da010c39.896b1",
            "8a2e8e6c.6c60d",
            "27dc91ff.88c0de",
            "1abd3991.6c7cd6",
            "19413449.27c3ec",
            "8b80fd11.6e616",
            "cdad6abf.0c27d8",
            "1039e0ad.186e5f",
            "6941d16a.41299",
            "a956d5d4.2fc4a8",
            "33a24e68.670002",
            "337eb353.e14c6c",
            "78dca0f.9ae0e6",
            "decf01d4.99f6e",
            "31c901d1.e5842e",
            "459d3155.f0f08"
        ],
        "x": 14,
        "y": 299
    },
    {
        "id": "2b3a788f.9c40d8",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "Manual triggers",
        "style": {
            "stroke": "#001f60",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#001f60"
        },
        "nodes": [
            "85d00bb6.8a15c8",
            "7ef871c8.9b21a",
            "bd519d8a.209ce",
            "d03bf577.917b98",
            "bbd1993b.9f4a88",
            "350bcb42.7f3ed4",
            "b3435c78.d5178",
            "7aee84fb.28371c",
            "2bd79bc9.d809c4",
            "a5c44e77.b060b",
            "e0d99edd.b33ee",
            "46abd808.25a858",
            "b82cf43d.059698",
            "32d75399.6d2a3c",
            "f2e99cf0.3212a",
            "b278f0e4.da466",
            "9a7f7114.0b502",
            "6da07b9.dae7884",
            "244f7773.d6cf78",
            "55ceb40c.9ba0bc",
            "b6afba77.ee63b8",
            "4021fdef.2dc5d4"
        ],
        "x": 534,
        "y": 299
    },
    {
        "id": "12bd6589.118aba",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "main function",
        "style": {
            "stroke": "#6f2fa0",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#b797cf"
        },
        "nodes": [
            "f5225c15.f42b8",
            "998e83ab.a74bb",
            "6d1065a5.49037c",
            "bf79dbd5.609718"
        ],
        "x": 534,
        "y": 599
    },
    {
        "id": "d0789cc6.3bfb8",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "loop off",
        "style": {
            "stroke": "#777777",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#d1d1d1"
        },
        "nodes": [
            "1f253a30.6bf6c6",
            "11bbdbe3.ec8ed4",
            "239bf4e0.af23fc",
            "b5b88804.3ba0b8"
        ],
        "x": 1054,
        "y": 599
    },
    {
        "id": "6e05e79b.e13118",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "notifications",
        "style": {
            "label": true,
            "fill": "#3f3f3f"
        },
        "nodes": [
            "c911efa5.aaee5",
            "feb94bbe.be1038",
            "8276d7b9.4b4818",
            "2b8b0fe.db714f",
            "dbc6f0c.f2db81"
        ],
        "x": 534,
        "y": 719
    },
    {
        "id": "449a1278.f6048c",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "Gestion Pres",
        "style": {
            "stroke": "#c8e7a7",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#c8e7a7"
        },
        "nodes": [
            "87c39f7.5ac086",
            "f7941bb4.4e7cb8",
            "17d9aef.722b051",
            "f7059103.4472a",
            "af37765f.ff1fe8",
            "9b90e987.a8b4e8",
            "6f477ab8.52b6b4",
            "6443a49b.69f77c",
            "725a0328.37e16c",
            "c2aa47a9.a52bb8",
            "3b5c1318.1cc38c",
            "f859dc03.678eb",
            "83408481.0713c8",
            "625ce033.28ad5",
            "b5b0323a.bb924",
            "dd7d60dd.faa3"
        ],
        "x": 14,
        "y": 859
    },
    {
        "id": "ece9d4bb.8ea598",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "T° matin/nuit",
        "style": {
            "stroke": "#7fb7df",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#7fb7df"
        },
        "nodes": [
            "ffb2503b.66ba2",
            "367944cb.95f89c",
            "ddc05028.38801",
            "2e6ef18c.80b20e",
            "2e36fcca.134b74",
            "9b253da4.3af51",
            "34e7c104.b3cdbe",
            "64e09796.df9918",
            "85b5a9ab.dff898",
            "2c67dc8.23a0624",
            "3c6b4976.f551f6",
            "a7ff1532.fc7e98",
            "cbcfbaa0.eb8648",
            "e11a551a.747ee8",
            "d6efedf8.9d3e3",
            "ec60e73.5894a18",
            "7a9a9345.eb9f1c",
            "feef8515.675498",
            "38d58f7a.08e0c",
            "f599be67.52147",
            "5af38d30.24c1c4",
            "a7bda212.07d05",
            "2eb8d5a8.be4f4a",
            "d49564bb.4c1998",
            "3fafaf8f.20d2a",
            "c5b37eaf.0c796",
            "40ae5376.25507c",
            "3afddd80.866692",
            "2b024ea3.78f8c2",
            "b8d4d752.9dc418",
            "b3827640.f5ca68",
            "8bc6e501.94bc38",
            "1f85e450.63502c",
            "35734743.2aa508",
            "8d9ba74f.4c86b8",
            "1e47434e.41b6dd",
            "b861131.a9f39f",
            "5be57e9c.ec668",
            "640d9069.79a23",
            "7819f490.69f12c",
            "51f68b3.c5ce874",
            "336a6d11.28fcd2",
            "9b35f35a.e6a5a",
            "f7fc7abf.4f6578",
            "1cf982e1.43812d",
            "cf824ce2.2f2bb",
            "acffb982.450bc8",
            "580c5c77.8b24a4",
            "450e2f64.b653c",
            "b9263148.8f736",
            "18910328.9c3c0d",
            "be4815df.6538c8",
            "2d274f18.ceee",
            "368cad4c.90efc2",
            "80532a8.7d95ed8",
            "a2f58bf0.c33858",
            "9dbbef8b.74a79",
            "3759a47d.64fe3c",
            "938e111e.e21e3",
            "e888cdb5.664d7"
        ],
        "x": 14,
        "y": 1179
    },
    {
        "id": "ecef5432.e60ef8",
        "type": "group",
        "z": "711f44dc.b8379c",
        "name": "Home Assistant",
        "style": {
            "stroke": "#000000",
            "fill": "#bfdbef",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "21b0610e.4e7cbe",
            "4fa3a02b.4b12f",
            "868b8ddb.892fa",
            "24afc5e8.8aadfa",
            "e9da4b4c.c20068"
        ],
        "x": 874,
        "y": 339
    },
    {
        "id": "92cd7bed.1088b8",
        "type": "group",
        "z": "711f44dc.b8379c",
        "name": "Awtrix",
        "style": {
            "label": true
        },
        "nodes": [
            "3a88bff2.0f885",
            "2106adfe.6f48b2",
            "ca7ad5a4.1f19e8",
            "bef8f932.7769a8",
            "c16b5b24.539fa8"
        ],
        "x": 874,
        "y": 739
    },
    {
        "id": "5cda64bd.38daec",
        "type": "group",
        "z": "711f44dc.b8379c",
        "name": "HTML5",
        "style": {
            "stroke": "#000000",
            "fill": "#3f93cf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "8b310362.7bd2d",
            "4fba970c.85c0c8",
            "81b3a930.d07b08",
            "4e1a58dc.5faf88"
        ],
        "x": 874,
        "y": 59
    },
    {
        "id": "57b5e8a3.37d5e8",
        "type": "group",
        "z": "711f44dc.b8379c",
        "name": "E-Mail",
        "style": {
            "stroke": "#000000",
            "fill": "#ffcf3f",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "ecea9947.6e5848",
            "e8221.6da3addf8",
            "bb7809ff.a41588",
            "7bedaa16.93eda4"
        ],
        "x": 874,
        "y": 459
    },
    {
        "id": "53f4a8db.b4d4",
        "type": "group",
        "z": "711f44dc.b8379c",
        "name": "SMS",
        "style": {
            "stroke": "#000000",
            "fill": "#6f2fa0",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "75261914.04f268",
            "8dd71a85.f2d438",
            "a3064f17.e8a538"
        ],
        "x": 884,
        "y": 1219
    },
    {
        "id": "3ba17f01.1ad71",
        "type": "group",
        "z": "711f44dc.b8379c",
        "name": "TTS",
        "style": {
            "stroke": "#000000",
            "fill": "#7fb7df",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "3804914.3e0396e",
            "9be43a39.86fb38",
            "50d5d992.12f778",
            "5d1f7d2d.00d694",
            "ce050387.d13e9",
            "eaee88f3.fe9138",
            "45b1fc9f.afafc4",
            "b8f7a36e.3e1aa",
            "5214f35f.538f4c",
            "3ed2b5a9.244f3a",
            "5d7f8264.16666c",
            "1af7d6f3.9aaa19",
            "ca608072.a3c81",
            "e5fe9d8c.96704",
            "60a2789f.1842a8",
            "4bbdd1c0.ff6a7",
            "18cbe457.1dfa6c"
        ],
        "x": 874,
        "y": 179
    },
    {
        "id": "286dba59.7ed416",
        "type": "group",
        "z": "711f44dc.b8379c",
        "name": "Telegram",
        "style": {
            "stroke": "#000000",
            "fill": "#7f8faf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "fe563f3b.27a4",
            "a5718a48.8221c8",
            "a1937b5e.f10f08",
            "74de5d62.659ac4",
            "6bccc1cf.04292",
            "ba9c06f3.258228",
            "8098137f.117d6",
            "fdc2c34.6b5b44",
            "4adb3e12.c6031",
            "8c1c7eae.f4fe8",
            "10f56b1e.f606e5"
        ],
        "x": 874,
        "y": 839
    },
    {
        "id": "1fa64f61.9df3e1",
        "type": "group",
        "z": "711f44dc.b8379c",
        "name": "Discord",
        "style": {
            "stroke": "#000000",
            "fill": "#b797cf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "b9f33582.bb5ff8",
            "8bf6525b.bb012",
            "57ced8cc.3f7d88",
            "f1e1845b.c0dff8",
            "3d3d5736.e773b8",
            "8e056486.259da8",
            "fb7c0c90.8d512",
            "94be41c3.f9686",
            "3ec2e2a2.c26d7e",
            "10057575.e300cb"
        ],
        "x": 874,
        "y": 559
    },
    {
        "id": "c009a51c.e26758",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "Set SBD Matin",
        "style": {
            "label": true,
            "fill": "#3f3f3f"
        },
        "nodes": [
            "768ddad7.a78fd4",
            "b6b736fb.a4a748",
            "f8ef8c71.b1114"
        ],
        "x": 1164,
        "y": 719
    },
    {
        "id": "8ecdd734.879d78",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Chambre Stelio",
        "style": {
            "stroke": "#0070c0",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#3f93cf"
        },
        "nodes": [
            "f52a8158.1efc1",
            "f7d7b5cc.01db28",
            "f8ab7ab7.5f0f78",
            "96600213.6a69a",
            "86bc0cc4.545c3",
            "e5ae609.5abbca",
            "6059695f.d663f8",
            "9a2502d4.5ef11",
            "cb0ad85a.3a1618",
            "564c8b8.2d69374"
        ],
        "x": 794,
        "y": 259
    },
    {
        "id": "319c7d7d.cd7122",
        "type": "group",
        "z": "797e40da.11773",
        "name": "Exemple Function",
        "style": {
            "stroke": "#ffC000",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffcf3f"
        },
        "nodes": [
            "78fe26c0.005fb8",
            "f8b278b.08bca88",
            "81bb9d24.9941e"
        ],
        "x": 1214,
        "y": 539
    },
    {
        "id": "3deb6699.aaf26a",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "loop on",
        "style": {
            "stroke": "#0070c0",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#0070c0"
        },
        "nodes": [
            "922f45e6.ea3f58",
            "677fe3f3.a5cacc",
            "49125c55.e618a4",
            "41f2ec18.f327a4",
            "cfc8aba9.c066b8",
            "3990396e.63cee6",
            "402f6f6d.aedda",
            "90c01ec7.300d4",
            "2f8b2d3a.71b222",
            "2e003dec.c3bb52",
            "4158019f.c2d1",
            "830572c.899969",
            "5db845bd.b77a5c",
            "2fb540db.2c9ce"
        ],
        "x": 954,
        "y": 19
    },
    {
        "id": "4d74fffb.c8d92",
        "type": "group",
        "z": "b3af9cb9.a9fa9",
        "name": "Impression 3D",
        "style": {
            "stroke": "#ffcf3f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffcf3f"
        },
        "nodes": [
            "645fc10b.0843d",
            "7740db99.635714",
            "d93e3f97.db658",
            "d481f5cd.78d968",
            "27392255.e6a49e",
            "63a3b2a6.c0e1cc",
            "45a40d7a.d6d044",
            "1a3e6dfb.17c532",
            "4f5dbc00.6bde54",
            "fca77777.a83d58",
            "a3cf8886.d7ef08",
            "16eb3a34.b899a6",
            "d53ec72b.128158",
            "46380030.f3a17",
            "d750f01a.e524b",
            "3ec919b0.8257d6",
            "5290af11.7a204",
            "a345ee15.2db5f",
            "2eeaeb97.4a4134"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "7cb351c1.77e2f",
        "type": "group",
        "z": "43631d17.597e84",
        "name": "Conso Rack",
        "style": {
            "stroke": "#9363b7",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#9363b7"
        },
        "nodes": [
            "111c981.7343568",
            "46e01a77.3e99a4",
            "232322ca.82827e",
            "b74b15a5.58f4c8",
            "4d1dcfb3.9e47b",
            "f11ff816.a19e78",
            "2fd4dd28.7d9492"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "b401b79a.2d5288",
        "type": "group",
        "z": "43631d17.597e84",
        "name": "Check Batteries ",
        "style": {
            "stroke": "#92d04f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#92d04f"
        },
        "nodes": [
            "abddf2de.c5457",
            "d001ef9f.eb484",
            "e0030f37.de5c4",
            "fcb8b799.77e558",
            "d6f6f394.c393c",
            "5b8a82e4.2e1d6c",
            "e3d606dd.708bf8",
            "b607f01d.00487",
            "5cc3fa12.c78824",
            "94ae90fd.41307",
            "da576a24.9a7248",
            "d1a39f3e.e2e1b",
            "32cc5073.3e74f",
            "6fceab19.d25d24",
            "8521c9b0.c116b8",
            "a1789897.8da638",
            "dab08bfd.f8e128",
            "4b9e1661.60d398",
            "665721ef.8d92c",
            "f6a315b6.ddc668",
            "2baf1977.8b1bb6",
            "2d77c3e1.c9cb8c",
            "8cdb9914.79a628",
            "acd5581b.45ced8",
            "20a761d1688fa15d"
        ],
        "x": 14,
        "y": 179
    },
    {
        "id": "a873e43.347ec18",
        "type": "group",
        "z": "43631d17.597e84",
        "name": "Capteurs HS",
        "style": {
            "stroke": "#0070c0",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#0070c0"
        },
        "nodes": [
            "5c3e0e25.e27ca",
            "9c24cf95.9f84a",
            "4ed3171e.4499e8",
            "54e9090c.e888c8",
            "167a35.58bbd5cc",
            "67dfd50ac22e3071"
        ],
        "x": 814,
        "y": 19
    },
    {
        "id": "a788e3d5.f7c9e",
        "type": "group",
        "z": "43631d17.597e84",
        "name": "TAG NFC",
        "style": {
            "stroke": "#e3f3d3",
            "fill": "#3f3f3f",
            "fill-opacity": "0.6",
            "label": true,
            "color": "#e3f3d3"
        },
        "nodes": [
            "f1391237.cfec1",
            "1238228a.01b7ed",
            "4481614f.bbbf8",
            "4a767e3a.53b6e",
            "70a466fd.365958",
            "a7eb8d3a.cb258"
        ],
        "x": 1014,
        "y": 179
    },
    {
        "id": "de698d74.637d3",
        "type": "group",
        "z": "43631d17.597e84",
        "name": "Coupure Courant - Shutdown VM",
        "style": {
            "stroke": "#ff7f7f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ff7f7f"
        },
        "nodes": [
            "495b6c7b.6c4d84",
            "23e5c16a.8af20e",
            "276ced2.8e36512",
            "ed21e799.78cfe8",
            "c63aba53.158e58",
            "76291eba.ee847",
            "9f27525e.ca35f",
            "422d7b57.0458a4",
            "ce5aa226.d370d",
            "5155b3ba.f303cc",
            "fc35a2c6.79c3f",
            "1ea69f68.6f0a81",
            "b31f00a3.65799",
            "c723f0d5.6d4fd",
            "b33ed78e.50fcc8",
            "856e7de3.6152b",
            "c391c00c.c0fa3",
            "efe91cd9.9a261",
            "e8a99f89.ba011",
            "d66a1bf1.b5b688",
            "ef231521.271688",
            "40bd9aee.999974"
        ],
        "x": 14,
        "y": 599
    },
    {
        "id": "f57f6f98.777c3",
        "type": "group",
        "z": "fd9f1c1.a5554e",
        "name": "Variables Globales",
        "style": {
            "stroke": "#ffff3f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffC000"
        },
        "nodes": [
            "f6af11d9.f01dd",
            "85a1a30d.5e179",
            "eac29933.ad61e8"
        ],
        "x": 634,
        "y": 39
    },
    {
        "id": "61c30ffd.1ff36",
        "type": "group",
        "z": "fd9f1c1.a5554e",
        "name": "Sonoff Bridge",
        "style": {
            "stroke": "#3f93cf",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#3f93cf"
        },
        "nodes": [
            "411a1a06.a2ba04",
            "c6cffe61.013b1",
            "6438d432.8fdfec",
            "5d4d457d.4cf20c",
            "2cd52b4ff0be2af0"
        ],
        "x": 14,
        "y": 39
    },
    {
        "id": "760ad0d2.b9337",
        "type": "group",
        "z": "4c110565.89018c",
        "name": "Installer CATT",
        "style": {
            "stroke": "#ffff00",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffff00"
        },
        "nodes": [
            "a350f1ac.201e4",
            "c5c2de51.94265",
            "e7b7aea.7ebc35",
            "ec510563.9ddc98",
            "81d2472e.775fe8",
            "59949868.d644e8",
            "fdb20386.983a3",
            "bdc8335b.43c23"
        ],
        "x": 1034,
        "y": 791.5
    },
    {
        "id": "61f68869.5ef4c8",
        "type": "group",
        "z": "65d53490.95139c",
        "name": "Nextion GARAGE",
        "style": {
            "label": true,
            "color": "#ffff00",
            "fill": "#3f3f3f",
            "stroke": "#ffff3f"
        },
        "nodes": [
            "6001c89d.e43da8",
            "e8ceefc4.90699",
            "9e90bc2d.212d9",
            "4361dc2d.937134",
            "2982b32d.6a4bdc",
            "7755dc3b.f5b6a4",
            "1a844289.8b818d",
            "88a633cb.6690f",
            "69c3b2a.756a74c",
            "46f4af92.56cc2",
            "cc612518.46c1d8",
            "d8cbe6a4.e386b8",
            "6dd3a25.e90ab5c",
            "b94cecce.fb719",
            "330fbb1a.095464",
            "b6047678.d8c488",
            "732de5ec.d9a65c",
            "d852843b.1e97b8",
            "a003ec17.59aca",
            "8c3fcfe9.50f7b",
            "631792fa.6f43cc",
            "15aafdcb.e32572",
            "46255461.e9dabc",
            "80299da7.cc121",
            "8187bc8f.94a51",
            "19546a32.db4366",
            "bcddfe48.5feb3",
            "f447f2a3.a8207",
            "ba06087.68efcf8",
            "951228d6.5677d8",
            "f17644df.971198",
            "d101516a.f91d8",
            "f4dc0da9.61341",
            "48484cdb.e1bd44",
            "c45c16f1.cbb798",
            "57d411b8.28473",
            "5b0ed2d.6b9682c",
            "44e64c2d.c04cb4",
            "2087dcc4.823314",
            "773c2827.43d9b8",
            "244bc4e8.bbebbc",
            "d54f2572.264d18",
            "dd8afbdb.98d058",
            "ffc96653.2bde08",
            "70d4a31b.09b06c",
            "287038db.f7bcf8",
            "441ed0a5728af34d"
        ],
        "x": 754,
        "y": 19
    },
    {
        "id": "97bd8de5.cac92",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Bureau",
        "style": {
            "stroke": "#ff0000",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ff3f3f"
        },
        "nodes": [
            "62a936181fa99036",
            "9570b71a2fed884e",
            "b4d0d73718855e7a",
            "680b5b73f58d4a3c",
            "fbdf9c106761da95",
            "f65497d7a5f44bad",
            "8a4d6ade10fc258e",
            "b47f00f5bffb9dca",
            "beef7f3be2fbecca",
            "f7732e0c9ac2eb34",
            "6f25b021db94d843",
            "aa5b98fe89729c88",
            "cfbb5ea3ec342ab3",
            "05f4ba2812777998",
            "c064f072de0c38e0",
            "d185ef8b3681029b",
            "55f1e1b5bba447fa"
        ],
        "x": 14,
        "y": 1039
    },
    {
        "id": "e6854997.1052a8",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Cuisine",
        "style": {
            "stroke": "#0070c0",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#3f93cf"
        },
        "nodes": [
            "e73bd1e4.49997",
            "2bd4086.a2ab8f8",
            "b5b08cee.b17e8",
            "b110bffe.686c7",
            "64d59c9d612634af",
            "ca5989c09666cc57",
            "91f69284ba8ff373",
            "87dad04bca425372"
        ],
        "x": 794,
        "y": 19
    },
    {
        "id": "98e748f4598d0b92",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "Reset Chaudiere",
        "style": {
            "stroke": "#ff3f3f",
            "fill": "#ffff3f",
            "label": true,
            "color": "#ff0000"
        },
        "nodes": [
            "d24570b0d5a62f60",
            "bba20cc89393abcd",
            "fb04e7c36c8153cb",
            "46d2df53d6d8dd76",
            "ba522bb983727114",
            "90c18c516416799f",
            "6aefb37fe32bd79e"
        ],
        "x": 34,
        "y": 1859
    },
    {
        "id": "a37d6622.935938",
        "type": "group",
        "z": "65d53490.95139c",
        "name": "Nextion Salon",
        "style": {
            "fill": "#3f3f3f",
            "label": true,
            "color": "#92d04f",
            "stroke": "#92d04f"
        },
        "nodes": [
            "7630e5a4.71c8dc",
            "9d2fac91.275ba",
            "7b435d0d.625884",
            "e49f5093.3662a",
            "a6a38a3a.3ff4f8",
            "d5e7a12f.e0cdc",
            "7cff101f.f9062",
            "1ef9b770.a3abd9",
            "432305fe.05b22c",
            "33d5f98d.7c22f6",
            "a191745d.c65c58",
            "b7f423b7.04ca1",
            "d57ddf0a.6e8c6",
            "a0a8d5e3.fcb518",
            "3181eedf.3c4d52",
            "3980af78.4ba2f",
            "825bcbd1.282688",
            "a872615.3b4d5a",
            "57c12c0d.bebcc4",
            "494c4894.f4bea8",
            "9e11d1ba.45b8a",
            "1ac72dc8.8a5ef2",
            "4556b1a.9ceeb5",
            "b25c0ff1.c649a",
            "983470e5.1a89d",
            "70623a5.112e1c4",
            "fc9cc11a.ec672",
            "ec3ef16e.27b2a",
            "c201a0ed.258a3",
            "5ecfcbfb.47a154",
            "4a5c78c0.ba5358",
            "b77196b9.25e2a8",
            "f3dd4d0a.02579",
            "8d024c9fdc13f056",
            "c45d32588de0687f"
        ],
        "x": 34,
        "y": 19
    },
    {
        "id": "a886b72e2c3d2cda",
        "type": "group",
        "z": "4c110565.89018c",
        "name": "Gar Aliki & Portail",
        "style": {
            "label": true
        },
        "nodes": [
            "b092bf1c7c9e22b9",
            "a5d9052c18165e8c",
            "59425842fa7c157f",
            "fe6d1f9a6caba1f1",
            "974d4afb981235cb",
            "1996c36472bd838d",
            "71149ee06cfb27f9",
            "9dc9370c4bf4c8f5",
            "8bf24650f1832383",
            "925e406343ad82bc",
            "41ea3534f0054ea0"
        ],
        "x": 1034,
        "y": 959
    },
    {
        "id": "de9a5bfb0704e2ae",
        "type": "group",
        "z": "4c110565.89018c",
        "name": "Monitoring Frigate",
        "style": {
            "label": true
        },
        "nodes": [
            "3d6ae18841165a91",
            "40c3642829a8218f",
            "4f582706fe4b3efe"
        ],
        "x": 24,
        "y": 979
    },
    {
        "id": "637fbef2c6f5e0a5",
        "type": "group",
        "z": "43631d17.597e84",
        "name": "HA restart",
        "style": {
            "label": true
        },
        "nodes": [
            "41852e35193abbdb",
            "f97c7a42bc8ba469",
            "ba16cf1cc5a537a4"
        ],
        "x": 1374,
        "y": 19
    },
    {
        "id": "cd39ecf3.69ae3",
        "type": "group",
        "z": "8a56250a.f42758",
        "name": "Salon",
        "style": {
            "stroke": "#7f8faf",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#7f8faf",
            "fill-opacity": "0.91"
        },
        "nodes": [
            "5a442802.a2c278",
            "bed3fff.32e4b",
            "bd696112.8770f",
            "88a27d31.9625",
            "98c3cda0.3c957",
            "5ca93243.3270ec",
            "8190d0cf.d8f1b",
            "e34a1ee5.3a9ad",
            "69a2ce8b58c7650a",
            "8fdf82f3ef9b68dd",
            "11c9c8fc154dcbb8",
            "c025155a47da75ed",
            "c5b0a6cbb86d81f6",
            "269843cdf016aa16",
            "bfa73c8e7ac8a253"
        ],
        "x": 14,
        "y": 779
    },
    {
        "id": "a4d10e3019b9b0f6",
        "type": "group",
        "z": "b57132d6949dd8f7",
        "name": "Portail",
        "style": {
            "label": true,
            "stroke": "#addb7b",
            "fill": "#3f3f3f"
        },
        "nodes": [
            "e77a52ac394b4826",
            "e05ab56dc40ccc41",
            "947546aad46b6082",
            "ba065a0fa7166d3e",
            "9ecd91a36a8c6e76",
            "99c8946ef341c73e"
        ],
        "x": 14,
        "y": 579
    },
    {
        "id": "ec989bf1829ff60d",
        "type": "group",
        "z": "b57132d6949dd8f7",
        "name": "CustomApp 1",
        "style": {
            "stroke": "#3f93cf",
            "fill": "#3f3f3f",
            "label": true
        },
        "nodes": [
            "5281da51728d7e47",
            "ac7d37867b2bd0ba",
            "3930cc1c03e06704",
            "05c3b0ef466e9be0",
            "9f1f796dc69f03a9",
            "b09191f1fda8674d",
            "7f12a642b00e03c9",
            "ab36c081391a5506",
            "e99f35035f8a1318",
            "f1330bed88397b2a",
            "c2e6a75b4f1d5566",
            "148cdeee2ef9f9bf",
            "9def0d26596b36bf"
        ],
        "x": 14,
        "y": 39
    },
    {
        "id": "4fc89c93f3f2dd2d",
        "type": "group",
        "z": "b57132d6949dd8f7",
        "name": "CustomApp 1",
        "style": {
            "stroke": "#ffff3f",
            "fill": "#3f3f3f",
            "label": true
        },
        "nodes": [
            "44006c1d04398a3c",
            "d35c43defc7cbd24",
            "82318ead05fc29bb",
            "61a3a0c5e5546e94",
            "30308f742db3f165"
        ],
        "x": 14,
        "y": 479
    },
    {
        "id": "ec122d7706b9e41c",
        "type": "group",
        "z": "5316d42f.ab97dc",
        "name": "Gestion relais via notif ha app",
        "style": {
            "stroke": "#9363b7",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#9363b7"
        },
        "nodes": [
            "c90b24dbf3ab0105",
            "d20af4f085bc9480",
            "c942b62767d1ee82",
            "b01a4f6ca32e69b7",
            "db2fd94a50ff3fde",
            "6804063ea0604dc8"
        ],
        "x": 14,
        "y": 1999
    },
    {
        "id": "d2c4d43f63530996",
        "type": "group",
        "z": "5fe8574ef0d6675d",
        "name": "T° matin/nuit",
        "style": {
            "stroke": "#7fb7df",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#7fb7df"
        },
        "nodes": [
            "381d86827aa23c55",
            "e76f635e756bc66c",
            "cfce5dcf44d42a62",
            "e43fb234cd1dcdb9",
            "96bd9ce4d8148c9c",
            "a8fd0204265ba7f3",
            "dc7d41247f5082c6",
            "2640d8c7d3c5cce4",
            "3697ca490d7f8eb0",
            "4522de0c45cb8d3a",
            "b7dbe348caebb638",
            "e81e6103ae3312db",
            "13c9b345eed17358",
            "4ba9284e29ec5537",
            "3f6dc082579a0408",
            "409309f8433bd9ad",
            "87d195ba893451bb",
            "3cf44831bf1589d8",
            "45a2ccb22039f395",
            "03ef0b013b6d649d",
            "c50a9941e13b3e83",
            "8ab5a367fda23a58",
            "27fb722f2687df20",
            "8a3bef89df83e3f3",
            "45423eaecee054c5",
            "5b6276bfb71ef86e",
            "8520f54323c88666",
            "fb14352a7d95e916",
            "0ad34d6a5e39f26e",
            "7127c99f78e910ec",
            "453a4cc34ddb7d22",
            "d20ec00c394355b9",
            "f7a88318b0bfd7ff",
            "ec5c7fcb668f2f8c",
            "23329e095db6e81b",
            "aa1b7a85c10dcc89",
            "d67e6d7c1c2750cf",
            "5ac982ec818c78b5",
            "d2e1cc255fc45dbe",
            "d57516690e76c799",
            "3368e644241cfb0e",
            "7196659f52101b46",
            "077d7eabf59aa0b8",
            "9998c504179b8df2"
        ],
        "x": 34,
        "y": 67
    },
    {
        "id": "67fc0d9319bad7b9",
        "type": "group",
        "z": "5fe8574ef0d6675d",
        "name": "Reset Chaudiere",
        "style": {
            "stroke": "#ff3f3f",
            "fill": "#ffff3f",
            "label": true,
            "color": "#ff0000"
        },
        "nodes": [
            "8dc5533ab2e9eb0e",
            "085894d5d6bf71fb",
            "59a1cc1ac2071fe8",
            "4e644c3146d63227",
            "cbc0c2b70494c3fd",
            "2094da57f2a7d3f6",
            "11d2e476c18eb38d"
        ],
        "x": 34,
        "y": 579
    },
    {
        "id": "64d017b7402143d1",
        "type": "group",
        "z": "5fe8574ef0d6675d",
        "name": "Gestion relais via notif ha app",
        "style": {
            "stroke": "#9363b7",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#9363b7"
        },
        "nodes": [
            "747aac706ad582cd",
            "bfb9952dbef38bb3",
            "c0dd2d90be860c2a",
            "a3994a0264cd190f",
            "bf9f6ab4fc0ea587",
            "6b68626e2a3ead1d"
        ],
        "x": 34,
        "y": 719
    },
    {
        "id": "cb3057f3e5080ce3",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "Event",
        "style": {
            "label": true,
            "stroke": "#ffC000",
            "fill": "#7f7f7f"
        },
        "nodes": [
            "9fdabc8f7e8082e9",
            "2b1fab8ff8a48680",
            "975dc9f66d98ed83"
        ],
        "x": 54,
        "y": 251.5
    },
    {
        "id": "0b27e68a463c22e0",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "Désarmer",
        "style": {
            "stroke": "#0070c0",
            "label": true
        },
        "nodes": [
            "f8197256168272d2",
            "f00a7c8667e77272"
        ],
        "x": 54,
        "y": 19
    },
    {
        "id": "e8fad96c304ee70f",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "Armer",
        "style": {
            "stroke": "#ff0000",
            "label": true
        },
        "nodes": [
            "e979f42820fb2461",
            "a71d499024b02988",
            "419c62449c2f2dfe",
            "289b8033bce72f0f"
        ],
        "x": 54,
        "y": 119
    },
    {
        "id": "0eba983f137ff62c",
        "type": "group",
        "z": "263d20821b09b78e",
        "name": "Alarm Panel",
        "style": {
            "stroke": "#ff0000",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ff0000"
        },
        "nodes": [
            "d9485414201a85b0",
            "0775f79c333d2cae",
            "bf2c1e5afb50b175",
            "58932bddee668cd7",
            "94b8f5d3bf9f5e53",
            "027c2e59cae0384b",
            "bfb725b83259f2cf",
            "531068958d33d3af",
            "ccd349fa94172973",
            "94142499b7ebf664",
            "15175bfd97b6fdb2",
            "471d72c424dc741c",
            "cd0b6b2fd1412e93",
            "4cba1e705fcaa022",
            "e4e7358fc695d372",
            "ec945dab9b6ba07b"
        ],
        "x": 14,
        "y": 19
    },
    {
        "id": "9105dff9c696bb0b",
        "type": "group",
        "z": "263d20821b09b78e",
        "name": "Check Capteurs",
        "style": {
            "stroke": "#ffcf3f",
            "fill": "#3f3f3f",
            "label": true,
            "color": "#ffcf3f"
        },
        "nodes": [
            "9ef1d6f537c3ad3c",
            "443a5b9f060b9a41",
            "5eeb3110497e52a1",
            "e218c78833b1311c",
            "519d470d0ae1fe69",
            "196b01a3084a84ae",
            "ba62bebc1790567e",
            "829c81b0260784bc",
            "596477291cb39cb7",
            "3c0a6eb6f5fe61de",
            "fd339fa9457ad791",
            "a35fe8ed6f473973",
            "bb7f2244e0a43b88",
            "3f334373d0af2c05",
            "6b02246508612df0",
            "084d5126d66e1842",
            "ffbc3ea924677dfd",
            "372f97f89b3b87e3",
            "8b2f82fb40695986",
            "1cddf54f28ad91d6",
            "9320c6fe7a53ae8d",
            "4ccde99b034a3d61",
            "c04b1cdce59c5080",
            "d25b5f2df9a2fe01",
            "9511dabae5df82f9",
            "f2cc26b9f50da218",
            "2be6503ef6db922a",
            "7fc668e7a75e2651"
        ],
        "x": 14,
        "y": 339
    },
    {
        "id": "fb930c5a15eda4b7",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "FAILED TO ARM",
        "style": {
            "label": true,
            "fill": "#ffcf3f",
            "fill-opacity": "0.27",
            "color": "#000000"
        },
        "nodes": [
            "b5091d5212a71a8a",
            "594ae84fa8ee17ba"
        ],
        "x": 514,
        "y": 259
    },
    {
        "id": "98198cf891c2ace2",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "TRIGGER",
        "style": {
            "label": true,
            "fill": "#ff3f3f",
            "color": "#000000"
        },
        "nodes": [
            "8686df4b89a6de13"
        ],
        "x": 514,
        "y": 359
    },
    {
        "id": "bec07b1174c81ee8",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "Notif",
        "style": {
            "label": true,
            "fill": "#addb7b",
            "color": "#000000"
        },
        "nodes": [
            "831259707a84d6fc",
            "b5abcf9b28b062ab",
            "32c2a1af6815b986",
            "6c6477c49352dc80"
        ],
        "x": 994,
        "y": 259
    },
    {
        "id": "067203cde61e34b0",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "Sirene Alarme",
        "style": {
            "label": true,
            "fill": "#ff0000",
            "color": "#000000"
        },
        "nodes": [
            "133419cd7a61082f",
            "5b1ca58a93748c9d",
            "4ed17faf1b2a2c57"
        ],
        "x": 994,
        "y": 439
    },
    {
        "id": "b469cb58f322bf8d",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "ARMING",
        "style": {
            "fill": "#0070c0",
            "label": true
        },
        "nodes": [
            "08321701017ef81f"
        ],
        "x": 514,
        "y": 459
    },
    {
        "id": "85a97edfa1d2390b",
        "type": "group",
        "z": "797e40da.11773",
        "name": "Awtrix",
        "style": {
            "label": true
        },
        "nodes": [
            "e302f6749b7f3c50",
            "3fea72d5a3dd20fb",
            "fdea6814b2e92985",
            "f9309445854b6453",
            "c5eb0710d25f5545"
        ],
        "x": 1174,
        "y": 719
    },
    {
        "id": "bdbdf04ba46f69a3",
        "type": "group",
        "z": "6abc28ed.f003a8",
        "name": "Trappe",
        "style": {
            "label": true
        },
        "nodes": [
            "06bf762192c56c4d",
            "6c9cac2d9da909b6"
        ],
        "x": 54,
        "y": 459
    },
    {
        "id": "cc0c4690.5682a8",
        "type": "tls-config",
        "name": "local-tls",
        "cert": "",
        "key": "",
        "ca": "",
        "certname": "",
        "keyname": "",
        "caname": "",
        "verifyservercert": false
    },
    {
        "id": "2297c927.8c4f56",
        "type": "SSH_Credentials",
        "host": "192.168.100.96",
        "port": "22",
        "userlabel": "root@192.168.100.96"
    },
    {
        "id": "256b5521.24a2aa",
        "type": "googleCredentials",
        "name": "Gcal"
    },
    {
        "id": "a8fc6cf3.c8e82",
        "type": "hue-bridge",
        "name": "Philips hue",
        "bridge": "192.168.100.221",
        "key": "xbrzwN8ItG46YOtb2y-Mjk9AfN5BfSbHokKmFuWt",
        "worker": "10",
        "disableupdates": false
    },
    {
        "id": "d52de313.05495",
        "type": "sonos-config",
        "name": "Symfonisk G",
        "serialnum": "34-7E-5C-F1-1B-FC",
        "ipaddress": "192.168.100.176"
    },
    {
        "id": "c1426766.b1af18",
        "type": "sonos-config",
        "name": "Symfonisk D",
        "serialnum": "34-7E-5C-F1-56-60",
        "ipaddress": "192.168.100.198"
    },
    {
        "id": "2f6fb87d.e70d18",
        "type": "sonos-config",
        "name": "Play5",
        "serialnum": "5C-AA-FD-0A-06-10",
        "ipaddress": "192.168.100.97"
    },
    {
        "id": "1f5b8792.6858c8",
        "type": "sonos-config",
        "name": "Bureau",
        "serialnum": "54-2A-1B-62-D9-04",
        "ipaddress": "192.168.100.202"
    },
    {
        "id": "385343e236d2fa0f",
        "type": "sonos-config",
        "name": "Beam",
        "serialnum": "94-9f-3e-c7-32-96",
        "ipaddress": "192.168.100.108"
    },
    {
        "id": "fa3f205e.4c762",
        "type": "position-config",
        "name": "Anderlues",
        "isValide": "true",
        "longitude": "0",
        "latitude": "0",
        "angleType": "deg",
        "timeZoneOffset": "99",
        "timeZoneDST": "0",
        "stateTimeFormat": "3",
        "stateDateFormat": "12",
        "contextStore": ""
    },
    {
        "id": "f44b5ef2b6e7f443",
        "type": "telegram bot",
        "z": "f1a202e8.6987c",
        "botname": "DCjonaBot",
        "usernames": "5077529871",
        "chatids": "5077529871",
        "baseapiurl": "",
        "updatemode": "polling",
        "pollinterval": "300",
        "usesocks": false,
        "sockshost": "",
        "socksport": "6667",
        "socksusername": "anonymous",
        "sockspassword": "",
        "bothost": "",
        "botpath": "",
        "localbotport": "8443",
        "publicbotport": "8443",
        "privatekey": "",
        "certificate": "",
        "useselfsignedcertificate": false,
        "sslterminated": false,
        "verboselogging": false
    },
    {
        "id": "3d8a2f1140f9129c",
        "type": "telegram bot",
        "z": "711f44dc.b8379c",
        "botname": "Dcjona4_bot",
        "usernames": "5077529871",
        "chatids": "5077529871",
        "baseapiurl": "",
        "updatemode": "polling",
        "pollinterval": "300",
        "usesocks": false,
        "sockshost": "",
        "socksport": "6667",
        "socksusername": "anonymous",
        "sockspassword": "",
        "bothost": "",
        "botpath": "",
        "localbotport": "8443",
        "publicbotport": "8443",
        "privatekey": "",
        "certificate": "",
        "useselfsignedcertificate": false,
        "sslterminated": false,
        "verboselogging": false
    },
    {
        "id": "47ace9966baf50cb",
        "type": "node-red-contrib-whatsapp-cmb-account",
        "name": "dcjona whatsapp"
    },
    {
        "id": "e17f99a94c99cbb8",
        "type": "zigbee2mqtt-server",
        "name": "z2m truenas",
        "host": "192.168.100.253",
        "mqtt_port": "1883",
        "mqtt_username": "dcjona",
        "mqtt_password": "Willowversus1",
        "mqtt_qos": "0",
        "tls": "cc0c4690.5682a8",
        "usetls": false,
        "base_topic": "zigbee2mqtt"
    },
    {
        "id": "acc87831.f8a8a8",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "5261c37d2408eef8",
        "type": "server",
        "name": "Home Assistant TrueNas",
        "version": 4,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": false,
        "heartbeatInterval": "30",
        "areaSelector": "friendlyName",
        "deviceSelector": "friendlyName",
        "entitySelector": "friendlyName",
        "statusSeparator": ": ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "default",
        "statusTimeFormat": "h:m"
    },
    {
        "id": "ecafd0c1.a73ed",
        "type": "SSH_Credentials",
        "host": "192.168.100.254",
        "port": "22",
        "userlabel": "root@192.168.100.254"
    },
    {
        "id": "6ab4d33316cf218b",
        "type": "mqtt-broker",
        "name": "MQTT TN",
        "broker": "192.168.100.253",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "2d156a6e.35fff6",
        "type": "change",
        "z": "770255e9.0155ec",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{'power': true}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 120,
        "wires": [
            [
                "3f3e4999.c05c36"
            ]
        ]
    },
    {
        "id": "3f3e4999.c05c36",
        "type": "mqtt out",
        "z": "770255e9.0155ec",
        "name": "Awtrix Salon",
        "topic": "Salon/Awtrix_salon/basics",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 470,
        "y": 120,
        "wires": []
    },
    {
        "id": "1ff9830d.a459dd",
        "type": "http request",
        "z": "770255e9.0155ec",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 530,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "330b7925.aaa0e6",
        "type": "function",
        "z": "770255e9.0155ec",
        "name": "Nextion Salon Wake Up",
        "func": "var url = \"http://192.168.100.34/control?cmd=Nextion,sleep=0\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 180,
        "wires": [
            [
                "1ff9830d.a459dd"
            ]
        ]
    },
    {
        "id": "19b47fdb0f1989d5",
        "type": "http request",
        "z": "770255e9.0155ec",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.49:5000/api/brightness",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 550,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "c5a03ac41fdddec1",
        "type": "function",
        "z": "770255e9.0155ec",
        "name": "PingPongClock Sleep",
        "func": "msg.payload = { 'brightness': '80' };\nmsg.headers = {\n    'content-type': 'application/x-www-form-urlencoded'\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 60,
        "wires": [
            [
                "19b47fdb0f1989d5"
            ]
        ]
    },
    {
        "id": "bc148218.96727",
        "type": "mqtt out",
        "z": "3d40e23b.ebcdce",
        "name": "Awtrix Salon",
        "topic": "Salon/Awtrix_salon/basics",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 490,
        "y": 420,
        "wires": []
    },
    {
        "id": "90cb8282.4f801",
        "type": "change",
        "z": "3d40e23b.ebcdce",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{'power': false}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 420,
        "wires": [
            [
                "bc148218.96727"
            ]
        ]
    },
    {
        "id": "bb795a21.455e08",
        "type": "http request",
        "z": "3d40e23b.ebcdce",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 530,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "7c490510.d48eac",
        "type": "function",
        "z": "3d40e23b.ebcdce",
        "name": "Nextion Salon Sleep",
        "func": "var url = \"http://192.168.100.34/control?cmd=Nextion,sleep=1\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 120,
        "wires": [
            [
                "bb795a21.455e08"
            ]
        ]
    },
    {
        "id": "78dde222438cf313",
        "type": "zigbee2mqtt-out",
        "z": "3d40e23b.ebcdce",
        "name": "Spot Lidl Salon 1",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Spot Lidl Salon 1 (HG06106A)",
        "device_id": "0x842e14fffe125429",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "off",
        "payloadType": "z2m_payload",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 350,
        "y": 240,
        "wires": []
    },
    {
        "id": "f2dcb6360f9346c6",
        "type": "zigbee2mqtt-out",
        "z": "3d40e23b.ebcdce",
        "name": "Spot Lidl Salon 2",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Spot Lidl Salon 2 (HG06106A)",
        "device_id": "0x842e14fffe9e2110",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "off",
        "payloadType": "z2m_payload",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 350,
        "y": 280,
        "wires": []
    },
    {
        "id": "78a6870dad2d635a",
        "type": "zigbee2mqtt-out",
        "z": "3d40e23b.ebcdce",
        "name": "Spot Lidl Salon 3",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Spot Lidl Salon 3 (HG06106A)",
        "device_id": "0x588e81fffeef3f7c",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "off",
        "payloadType": "z2m_payload",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 350,
        "y": 320,
        "wires": []
    },
    {
        "id": "8c50e59caf8028c6",
        "type": "api-call-service",
        "z": "3d40e23b.ebcdce",
        "name": "Hue",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.hue_color_spot_1",
            "light.hue_color_spot_2",
            "light.hue_color_spot_3",
            "light.hue_color_spot_4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 310,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "fe2869a0cab5e33c",
        "type": "http request",
        "z": "3d40e23b.ebcdce",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 530,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "b992d1e40c8f54ce",
        "type": "function",
        "z": "3d40e23b.ebcdce",
        "name": "Magic Mirror Sleep",
        "func": "var url = \"http://192.168.100.11:8000/default.htm?COMMAND=SCREENOFF\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 60,
        "wires": [
            [
                "fe2869a0cab5e33c"
            ]
        ]
    },
    {
        "id": "73c80c6d41ba7ad2",
        "type": "http request",
        "z": "3d40e23b.ebcdce",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.49:5000/api/brightness",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 570,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "de4430af4a8e161f",
        "type": "function",
        "z": "3d40e23b.ebcdce",
        "name": "PingPongClock Sleep",
        "func": "msg.payload = { 'brightness': '0' };\nmsg.headers = {\n    'content-type': 'application/x-www-form-urlencoded'\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 180,
        "wires": [
            [
                "73c80c6d41ba7ad2"
            ]
        ]
    },
    {
        "id": "3bdde393.d0109c",
        "type": "function",
        "z": "39624737.4b1738",
        "name": "prepare snap",
        "func": "const filename = msg.payload.filename\nmsg.payload = {\n    data: {\n        entity_id: msg.payload.camera.entity_id,\n        filename: filename\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "20823af8.3a82c6",
        "type": "function",
        "z": "39624737.4b1738",
        "name": "prepare notifs",
        "func": "//node.warn(msg);\nconst baseUrl = \"https://hassos.dcjona.one/local/cam_captures/\";\nconst imagePath = msg.payload.data.filename;\nconst imageFilename = imagePath.split(/[\\s\\/]+/).pop();\nconst imageUrl = baseUrl + imageFilename;\nmsg.dest = \"discord_notifications;telegram_jona\";\nmsg.message = \"Alarme\"\n\n//Telegram\nmsg.image = imageUrl;\n\n//Discord\nmsg.embeds_title = \"Effraction\";\nmsg.embeds_image = imageUrl;\nmsg.embeds_footer = \"By Dcjona\";\nmsg.embeds_color = \"FF0000\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "1246299.25fe9d6",
        "type": "delay",
        "z": "39624737.4b1738",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 240,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "daef85d3.e81298",
        "type": "function",
        "z": "39624737.4b1738",
        "name": "get camera info",
        "func": "const camera = msg.payload;\nconst date = (new Date()).toISOString()\nconst camera_name = camera.entity_id.split('.')[1];\nconst filename = '/config/www/cam_captures/' + camera_name + date +'.jpg'\nmsg.payload = {\n    camera: camera,\n    name: camera_name,\n    filename: filename\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 560,
        "wires": [
            [
                "3bdde393.d0109c"
            ]
        ]
    },
    {
        "id": "a3f62ba97a2628fa",
        "type": "change",
        "z": "39624737.4b1738",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Alarme déclenchée",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "afa1237f.85e9d",
        "type": "change",
        "z": "167adec2.4f41e1",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_garage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "vous avez 60 secondes pour désactiver l‘alarme",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 180,
        "wires": [
            [
                "1c5aaffe.bb44f"
            ]
        ]
    },
    {
        "id": "1c5aaffe.bb44f",
        "type": "subflow:711f44dc.b8379c",
        "z": "167adec2.4f41e1",
        "name": "",
        "env": [],
        "x": 490,
        "y": 180,
        "wires": []
    },
    {
        "id": "ee64bd77.74b41",
        "type": "change",
        "z": "167adec2.4f41e1",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_salon",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "vous avez 60 secondes pour désactiver l‘alarme",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 240,
        "wires": [
            [
                "1c5aaffe.bb44f"
            ]
        ]
    },
    {
        "id": "189bc26c.4e094e",
        "type": "delay",
        "z": "167adec2.4f41e1",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 180,
        "y": 240,
        "wires": [
            [
                "ee64bd77.74b41"
            ]
        ]
    },
    {
        "id": "a9706e0d.e0937",
        "type": "comment",
        "z": "6574230f.4c620c",
        "name": "Déclenchement par un capteur Volumétriques",
        "info": "",
        "x": 190,
        "y": 440,
        "wires": []
    },
    {
        "id": "f1ad19b2.271ca8",
        "type": "comment",
        "z": "6574230f.4c620c",
        "name": "Déclenchement par un capteur Périmétriques",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "c76e5225.a0ac7",
        "type": "comment",
        "z": "6574230f.4c620c",
        "name": "Check Capteurs resté ouvert",
        "info": "",
        "x": 800,
        "y": 40,
        "wires": []
    },
    {
        "id": "c8116e29.93b94",
        "type": "template",
        "z": "6574230f.4c620c",
        "name": "Nom du déclencheur",
        "field": "message_alarme",
        "fieldType": "global",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{{data.new_state.attributes.friendly_name}}} a déclénché l'alarme",
        "output": "str",
        "x": 600,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "f75ee3fb.3dc6f",
        "type": "template",
        "z": "6574230f.4c620c",
        "name": "Nom du déclencheur",
        "field": "message_alarme",
        "fieldType": "global",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{{data.new_state.attributes.friendly_name}}} a déclénché l'alarme",
        "output": "str",
        "x": 580,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "51d575a4.0a759c",
        "type": "http request",
        "z": "d6013eec.a94ed",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 470,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "b18d4130.ebad",
        "type": "function",
        "z": "d6013eec.a94ed",
        "name": "Nextion Salon Wake Up",
        "func": "var url = \"http://192.168.100.34/control?cmd=Nextion,sleep=0\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 290,
        "y": 100,
        "wires": [
            [
                "51d575a4.0a759c"
            ]
        ]
    },
    {
        "id": "4eedb04d2d640282",
        "type": "http request",
        "z": "d6013eec.a94ed",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.49:5000/api/brightness",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 470,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "14548d6ec4db918d",
        "type": "function",
        "z": "d6013eec.a94ed",
        "name": "PingPongClock Wakeup",
        "func": "msg.payload = { 'brightness': '80' };\nmsg.headers = {\n    'content-type': 'application/x-www-form-urlencoded'\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 160,
        "wires": [
            [
                "4eedb04d2d640282"
            ]
        ]
    },
    {
        "id": "89d99519.bceb78",
        "type": "change",
        "z": "5e7c5319.89a77c",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_80_garage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Alarme activée en mode absent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 320,
        "wires": [
            [
                "20b33362.5be23c"
            ]
        ]
    },
    {
        "id": "20b33362.5be23c",
        "type": "subflow:711f44dc.b8379c",
        "z": "5e7c5319.89a77c",
        "name": "",
        "env": [],
        "x": 410,
        "y": 320,
        "wires": []
    },
    {
        "id": "6567d7d3.b788b8",
        "type": "mqtt out",
        "z": "5e7c5319.89a77c",
        "name": "Awtrix Salon",
        "topic": "Salon/Awtrix_salon/basics",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 410,
        "y": 80,
        "wires": []
    },
    {
        "id": "c21c5d10.36212",
        "type": "change",
        "z": "5e7c5319.89a77c",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{'power': false}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 80,
        "wires": [
            [
                "6567d7d3.b788b8"
            ]
        ]
    },
    {
        "id": "4a2ae37a511efd06",
        "type": "http request",
        "z": "5e7c5319.89a77c",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 430,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "8ab08914a26a7e95",
        "type": "function",
        "z": "5e7c5319.89a77c",
        "name": "Nextion Salon Sleep",
        "func": "var url = \"http://192.168.100.34/control?cmd=Nextion,sleep=1\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 200,
        "wires": [
            [
                "4a2ae37a511efd06"
            ]
        ]
    },
    {
        "id": "d50187f5c562bc84",
        "type": "http request",
        "z": "5e7c5319.89a77c",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 430,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "598ce8fc84f3362b",
        "type": "function",
        "z": "5e7c5319.89a77c",
        "name": "Magic Mirror Sleep",
        "func": "var url = \"http://192.168.100.11:8000/default.htm?COMMAND=SCREENOFF\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 140,
        "wires": [
            [
                "d50187f5c562bc84"
            ]
        ]
    },
    {
        "id": "47735413b075334d",
        "type": "http request",
        "z": "5e7c5319.89a77c",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.49:5000/api/brightness",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 430,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "69b1e12c82b35923",
        "type": "function",
        "z": "5e7c5319.89a77c",
        "name": "PingPongClock Sleep",
        "func": "msg.payload = { 'brightness': '0' };\nmsg.headers = {\n    'content-type': 'application/x-www-form-urlencoded'\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 260,
        "wires": [
            [
                "47735413b075334d"
            ]
        ]
    },
    {
        "id": "50c5aa2f.7b6064",
        "type": "change",
        "z": "b1abe7bc.8854d8",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_20_salon",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Alarme activée en mode présent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 100,
        "wires": [
            [
                "e30f8e95.b762a"
            ]
        ]
    },
    {
        "id": "e30f8e95.b762a",
        "type": "subflow:711f44dc.b8379c",
        "z": "b1abe7bc.8854d8",
        "name": "",
        "x": 270,
        "y": 100,
        "wires": []
    },
    {
        "id": "ac6e5f12.bc215",
        "type": "mqtt out",
        "z": "b1abe7bc.8854d8",
        "name": "Awtrix Salon",
        "topic": "Salon/Awtrix_salon/basics",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 330,
        "y": 220,
        "wires": []
    },
    {
        "id": "2087b6f5.6ed7da",
        "type": "change",
        "z": "b1abe7bc.8854d8",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{'power': false}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 220,
        "wires": [
            [
                "ac6e5f12.bc215"
            ]
        ]
    },
    {
        "id": "e6d1cecd.00c33",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "Parse message",
        "func": "var msg433 = {};\nmsg.payload = msg.payload.replace(/(\\r\\n|\\n|\\r)/gm,\"\");\nvar parts433 = msg.payload.split(\";\");\n\nmsg433.p1 = parts433[0];\nmsg433.p2 = parts433[1];\nmsg433.name = parts433[2];\nfor (var i=3; i<parts433.length; i++) {\n    var keyvalue = parts433[i].split(\"=\");\n    if (keyvalue.length===2) {\n        msg433[keyvalue[0]] = keyvalue[1];\n    }\n}\n\nmsg.msg433 = msg433;\n\nreturn msg;\n\n/*\n\n// So firstly a generic means of getting incoming items into an object\n\nvar the433 = {};\nmsg.payload = msg.payload.replace(/(\\r\\n|\\n|\\r)/gm,\"\");\nnode.warn(msg.payload);\nvar parts433 = msg.payload.split(\";\");\n\nthe433.p1 = parts433[0];\nthe433.p2 = parts433[1];\nthe433.name = parts433[2];\n\nvar a = 3;\nwhile (a < parts433.length) {\n    var bits433 = parts433[a].split(\"=\");\n    switch (bits433[0]) {\n        case \"ID\": the433.id = bits433[1]; break;\n        case \"SWITCH\": the433.switch = bits433[1]; break;\n        case \"CMD\": the433.cmd = bits433[1]; break;\n        case \"SET_LEVEL\": the433.set_level = parseInt(bits433[1], 10); break;\n        case \"TEMP\": the433.temp = parseInt(bits433[1], 16) / 10; break;\n        case \"HUM\": the433.hum = parseInt(bits433[1], 10); break;\n        case \"BARO\": the433.baro = parseInt(bits433[1], 16); break;\n        case \"HSTATUS\": the433.hstatus = parseInt(bits433[1], 10); break;\n        case \"BFORECAST\": the433.bforecast = parseInt(bits433[1], 10); break;\n        case \"UV\": the433.uv = parseInt(bits433[1], 16); break;\n        case \"LUX\": the433.lux = parseInt(bits433[1], 16); break;\n        case \"BAT\": the433.bat = bits433[1]; break;\n        case \"RAIN\": the433.rain = parseInt(bits433[1], 16) / 10; break;\n        case \"RAIN\": the433.rainrate = parseInt(bits433[1], 16) / 10; break;\n        case \"WINSP\": the433.winsp = parseInt(bits433[1], 16) / 10; break;\n        case \"AWINSP\": the433.awinsp = parseInt(bits433[1], 16) / 10; break;\n        case \"WINGS\": the433.wings = parseInt(bits433[1], 16); break;\n        case \"WINDIR\": the433.windir = parseInt(bits433[1], 10); break;\n        case \"WINCHL\": the433.winchl = parseInt(bits433[1], 16); break;\n        case \"WINTMP\": the433.wintmp = parseInt(bits433[1], 16); break;\n        case \"CHIME\": the433.chime = parseInt(bits433[1], 10); break;\n        case \"SMOKEALERT\": the433.smokealert = bits433[1]; break;\n        case \"PIR\": the433.pir = bits433[1]; break;\n        case \"CO2\": the433.co2 = parseInt(bits433[1], 10); break;\n        case \"SOUND\": the433.sound = parseInt(bits433[1], 10); break;\n        case \"KWATT\": the433.kwatt = parseInt(bits433[1], 16); break;\n        case \"WATT\": the433.watt = parseInt(bits433[1], 16); break;\n        case \"CURRENT\": the433.current = parseInt(bits433[1], 10); break;\n        case \"CURRENT2\": the433.current2 = parseInt(bits433[1], 10); break;\n        case \"CURRENT3\": the433.current3 = parseInt(bits433[1], 10); break;\n        case \"DIST\": the433.dist = parseInt(bits433[1], 10); break;\n        case \"METER\": the433.meter = parseInt(bits433[1], 10); break;\n        case \"VOLT\": the433.volt = parseInt(bits433[1], 10); break;\n        case \"RGBW\": the433.rgbc = parseInt(bits433[1].substring(0, 2), 16);\n            the433.rgbw = parseInt(bits433[1].substring(2, 4), 16); break;\n    }\n    a++;\n}\n\n// SO - the above is general... here is my specific setup for temporarily displaying\n// the Acurite info\nif ((the433.p1 == \"20\") && (the433.name == \"Acurite\") && (the433.id == \"c826\")) {\n    if (typeof the433.temp !== 'undefined') temp = the433.temp;\n    if (typeof the433.hum !== 'undefined') hum = the433.hum;\n    if (typeof the433.bat !== 'undefined') bat = the433.bat;\n    if (typeof the433.rain !== 'undefined') rain = the433.rain;\n    if (typeof the433.winsp !== 'undefined') winsp = the433.winsp;\n    if (typeof the433.windir !== 'undefined') windir = the433.windir;\n\n    node.warn(\"Temperature: \" + temp + \"c\");\n    node.warn(\"Humidity: \" + hum + \"%\");\n    node.warn(\"Battery: \" + bat);\n    node.warn(\"Rain: \" + rain + \"mm\");\n    node.warn(\"Wind Speed: \" + winsp + \"km/h\");\n    node.warn(\"Wind Dir: \" + (windir * 22.5) + \" degrees\");\n}\n\n*/",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 40,
        "wires": [
            [
                "46ea85d4.9e15fc"
            ]
        ]
    },
    {
        "id": "3d24fcaf.3e5e94",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "TEMP conversion",
        "func": "if (msg.msg433.TEMP!==undefined) {\n    if (parseInt(msg.msg433.TEMP, 16) >= 0x8000) {\n        msg.msg433.TEMP = (parseInt(msg.msg433.TEMP, 16) & 0x7FFF) / 10 * -1;\n    } else {\n        msg.msg433.TEMP = parseInt(msg.msg433.TEMP, 16) / 10;\n    }\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'temperature',\n            payload: msg.msg433.TEMP\n        }];    \n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 340,
        "wires": [
            [
                "923cae94.01a55"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "923cae94.01a55",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "HUM conversion",
        "func": "if (msg.msg433.HUM!==undefined) {\n    msg.msg433.HUM = parseInt(msg.msg433.HUM, 10);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'humidity',\n            payload: msg.msg433.HUM\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 400,
        "wires": [
            [
                "d6304ae7.9c0bd8"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "46ea85d4.9e15fc",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "ID conversion",
        "func": "if (msg.msg433.ID !== undefined) {\n    msg.msg433.ID = parseInt(msg.msg433.ID, 16);\n}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 100,
        "wires": [
            [
                "b82bc27e.11519"
            ]
        ]
    },
    {
        "id": "e8316e79.e62d1",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "RAIN conversion",
        "func": "if (msg.msg433.RAIN!==undefined) {\n    msg.msg433.RAIN = parseInt(msg.msg433.RAIN, 16) /10;\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'rain',\n            payload: msg.msg433.RAIN\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 820,
        "wires": [
            [
                "d1c704f8.07b7c8"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "a45814a.3235de8",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "WINSP conversion",
        "func": "if (msg.msg433.WINSP!==undefined) {\n    msg.msg433.WINSP = parseInt(msg.msg433.WINSP, 16) /10;\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'wind_speed',\n            payload: msg.msg433.WINSP\n        }];\n}\nelse {\n    return [msg]\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 932,
        "wires": [
            [
                "c00d08e3.0a5158"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "8c8abede.6fb6e",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "WINGS conversion",
        "func": "if (msg.msg433.WINGS!==undefined) {\n    msg.msg433.WINGS  = parseInt(msg.msg433.WINGS , 16);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'wind_gust',\n            payload: msg.msg433.WINGS\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 1040,
        "wires": [
            [
                "940913fd.7d4f8"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "b82bc27e.11519",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "SWITCH conversion",
        "func": "if (msg.msg433.SWITCH !==undefined) {\n    msg.msg433.SWITCH   = parseInt(msg.msg433.SWITCH  , 16);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'switch',\n            payload: msg.msg433.SWITCH\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 160,
        "wires": [
            [
                "f1c39d8a.ccffe"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "918d374a.c715e8",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "CHIME conversion",
        "func": "if (msg.msg433.CHIME !==undefined) {\n    msg.msg433.CHIME = parseInt(msg.msg433.CHIME, 16);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'chime',\n            payload: msg.msg433.CHIME\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 1160,
        "wires": [
            [
                "77864d4.d4264b4"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "9ffaac51.6e8c9",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Temperature",
        "info": "",
        "x": 190,
        "y": 340,
        "wires": []
    },
    {
        "id": "6dfa71c3.d1597",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Humidity",
        "info": "",
        "x": 200,
        "y": 400,
        "wires": []
    },
    {
        "id": "c6845645.7ea888",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "device ID",
        "info": "# device ID\noften a rolling code and/or device channel number",
        "x": 200,
        "y": 100,
        "wires": []
    },
    {
        "id": "6cba423c.2cc5bc",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Rain",
        "info": "",
        "x": 210,
        "y": 820,
        "wires": []
    },
    {
        "id": "ae0a846e.f10378",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Wind Speed",
        "info": "",
        "x": 190,
        "y": 932,
        "wires": []
    },
    {
        "id": "1d484240.ff3a3e",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Wind Gust",
        "info": "",
        "x": 200,
        "y": 1040,
        "wires": []
    },
    {
        "id": "87e4864d.474768",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Switch",
        "info": "",
        "x": 210,
        "y": 160,
        "wires": []
    },
    {
        "id": "3dcb5172.95e7be",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Chime/Doorbell melody number",
        "info": "",
        "x": 130,
        "y": 1160,
        "wires": []
    },
    {
        "id": "d1605dbc.e3e8",
        "type": "switch",
        "z": "b70f79aa.1b96a8",
        "name": "is cover",
        "property": "$exists(msg433.SWITCH) and\t$exists(msg433.CMD) and\t(\t  msg433.CMD = 'UP' or\t  msg433.CMD = 'DOWN' or\t  msg433.CMD = 'STOP'\t)\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 220,
        "wires": [
            [
                "c2733067.67258",
                "95c39f9e.f85db",
                "602ca1ac.aa847"
            ],
            []
        ]
    },
    {
        "id": "895a8b58.798378",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "prepare message state",
        "func": "new_msg = {};\nnew_msg.topic = 'RFlink/' + msg.name + '_' + msg.deviceId + '/' + msg.type;\nnew_msg.qos = 1;\nnew_msg.retain = true;\nnew_msg.payload=msg.payload;\nreturn new_msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1340,
        "y": 620,
        "wires": [
            [
                "b26ad8c.695b828",
                "bfc5e2e7.b769e"
            ]
        ]
    },
    {
        "id": "bfc5e2e7.b769e",
        "type": "mqtt out",
        "z": "b70f79aa.1b96a8",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 1710,
        "y": 420,
        "wires": []
    },
    {
        "id": "f1c39d8a.ccffe",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "CMD conversion",
        "func": "if (msg.msg433.CMD !==undefined) {\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'command',\n            payload: msg.msg433.CMD\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 220,
        "wires": [
            [
                "d1605dbc.e3e8",
                "50eb5708.26ff48"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "ff049108.b92bb",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Command",
        "info": "",
        "x": 200,
        "y": 220,
        "wires": []
    },
    {
        "id": "a0832902.161d48",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "HSTATUS conversion",
        "func": "if (msg.msg433.HSTATUS !== undefined) {\n    let level = 'Unknown';\n    switch(msg.msg433.HSTATUS) {\n        case \"0\":\n          level = \"Normal\";\n          break;\n        case \"1\":\n          level = \"Comfortable\";\n          break;\n        case \"2\":\n          level = \"Dry\";\n          break;\n        case \"3\":\n          level = \"Wet\";\n          break;\n    }\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'humidity_status',\n            level: level,\n            payload: parseInt(msg.msg433.HSTATUS, 10)\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 520,
        "wires": [
            [
                "914a25a0.8b5498"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "6e17448c.d4b34c",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Humidity Status",
        "info": "",
        "x": 180,
        "y": 520,
        "wires": []
    },
    {
        "id": "68e85cf2.5aba84",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "BAT conversion",
        "func": "if (msg.msg433.BAT !== undefined) {\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'battery',\n            payload: msg.msg433.BAT\n        }];    \n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 760,
        "wires": [
            [
                "e8316e79.e62d1"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "54f73149.0916e",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Battery",
        "info": "# Battery\n\nPossible values are:\n - OK\n - LOW",
        "x": 210,
        "y": 760,
        "wires": []
    },
    {
        "id": "b26ad8c.695b828",
        "type": "debug",
        "z": "b70f79aa.1b96a8",
        "d": true,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1690,
        "y": 620,
        "wires": []
    },
    {
        "id": "77864d4.d4264b4",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "SMOKEALERT conversion",
        "func": "if (msg.msg433.SMOKEALERT !== undefined) {\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'smoke_alert',\n            payload: msg.msg433.SMOKEALERT\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 1220,
        "wires": [
            [
                "a1138e03.1e00c"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "a1138e03.1e00c",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "PIR conversion",
        "func": "if (msg.msg433.PIR !==undefined) {\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'pir',\n            payload: msg.msg433.PIR\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 1280,
        "wires": [
            [
                "f042f66e.b01558"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "a398ec67.396e2",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Smoke Alert",
        "info": "# Smoke Alert\n\nPossible values are:\n - ON\n - OFF",
        "x": 190,
        "y": 1220,
        "wires": []
    },
    {
        "id": "580b2acf.78c2a4",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "PIR",
        "info": "# PIR\n\nPossible values are:\n - ON\n - OFF",
        "x": 210,
        "y": 1280,
        "wires": []
    },
    {
        "id": "d1c704f8.07b7c8",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "RAINRATE conversion",
        "func": "if (msg.msg433.RAINRATE !== undefined) {\n    msg.msg433.RAINRATE = parseInt(msg.msg433.RAINRATE, 16) /10;\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'rain_rate',\n            payload: msg.msg433.RAINRATE\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 880,
        "wires": [
            [
                "a45814a.3235de8"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "c00d08e3.0a5158",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "AWINSP conversion",
        "func": "if (msg.msg433.AWINSP !== undefined) {\n    msg.msg433.AWINSP = parseInt(msg.msg433.AWINSP, 16) /10;\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'average_wind_speed',\n            payload: msg.msg433.AWINSP\n        }];\n}\nelse {\n    return [msg]\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 980,
        "wires": [
            [
                "8c8abede.6fb6e"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "dc97870.d1f2b78",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Rain Rate",
        "info": "",
        "x": 200,
        "y": 880,
        "wires": []
    },
    {
        "id": "919b4105.69d2e",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Average Wind Speed",
        "info": "",
        "x": 160,
        "y": 980,
        "wires": []
    },
    {
        "id": "bba7313e.1fed6",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Dimming Level",
        "info": "",
        "x": 180,
        "y": 280,
        "wires": []
    },
    {
        "id": "50eb5708.26ff48",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "SET_LEVEL conversion",
        "func": "if (msg.msg433.SET_LEVEL !==undefined) {\n    msg.msg433.SET_LEVEL = parseInt(msg.msg433.SET_LEVEL, 10);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'set_level',\n            payload: msg.msg433.SET_LEVEL\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 510,
        "y": 280,
        "wires": [
            [
                "3d24fcaf.3e5e94"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "d6304ae7.9c0bd8",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "BARO conversion",
        "func": "if (msg.msg433.BARO !== undefined) {\n    msg.msg433.BARO = parseInt(msg.msg433.BARO, 16)\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'barometric_pressure',\n            payload: msg.msg433.BARO\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 460,
        "wires": [
            [
                "a0832902.161d48"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "c806bfdf.809f2",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Barometric pressure",
        "info": "",
        "x": 170,
        "y": 460,
        "wires": []
    },
    {
        "id": "914a25a0.8b5498",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "BFORECAST conversion",
        "func": "if (msg.msg433.BFORECAST !== undefined) {\n    let level = 'Unknown';\n    switch(msg.msg433.BFORECAST) {\n        case \"1\":\n          level = \"Sunny\";\n          break;\n        case \"2\":\n          level = \"Partly Cloudy\";\n          break;\n        case \"3\":\n          level = \"Cloudy\";\n          break;\n        case \"3\":\n          level = \"Rain\";\n          break;\n        default:\n          level = 'Unknown';\n    }\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'bforecast',\n            level: level,\n            payload: parseInt(msg.msg433.BFORECAST, 10)\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 510,
        "y": 580,
        "wires": [
            [
                "8d2dfacb.474aa8"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "e70071b0.89246",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Weather forecast",
        "info": "# Weather forecast\n\nPossible values are:\n - Unknown\n - Sunny\n - Partly Cloudy\n - Cloudy\n - Rain",
        "x": 180,
        "y": 580,
        "wires": []
    },
    {
        "id": "8d2dfacb.474aa8",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "UV conversion",
        "func": "if (msg.msg433.UV !== undefined) {\n    msg.msg433.UV = parseInt(msg.msg433.UV, 16)\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'uv',\n            payload: msg.msg433.UV\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 640,
        "wires": [
            [
                "e4646f60.97cb7"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "9b49792c.957a58",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Ultra-Violet",
        "info": "",
        "x": 200,
        "y": 640,
        "wires": []
    },
    {
        "id": "e4646f60.97cb7",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "LUX conversion",
        "func": "if (msg.msg433.LUX !== undefined) {\n    msg.msg433.LUX = parseInt(msg.msg433.LUX, 16)\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'lux',\n            payload: msg.msg433.LUX\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 700,
        "wires": [
            [
                "68e85cf2.5aba84"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "369b3cfb.456124",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "LUX",
        "info": "",
        "x": 210,
        "y": 700,
        "wires": []
    },
    {
        "id": "940913fd.7d4f8",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "WINDIR conversion",
        "func": "if (msg.msg433.WINDIR !== undefined) {\n    msg.msg433.WINDIR = parseInt(msg.msg433.WINDIR, 10)\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'wind_direction',\n            payload: msg.msg433.WINDIR * 22.5\n        }];\n}\nelse {\n    return [msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 1100,
        "wires": [
            [
                "918d374a.c715e8"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "995974bd.a1b6c8",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Wind Direction in degrees",
        "info": "",
        "x": 150,
        "y": 1100,
        "wires": []
    },
    {
        "id": "f042f66e.b01558",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "CO2 conversion",
        "func": "if (msg.msg433.CO2 !==undefined) {\n    msg.msg433.CO2 = parseInt(msg.msg433.CO2, 10);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'co2',\n            payload: msg.msg433.CO2\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 1340,
        "wires": [
            [
                "9f24777b.d617e8"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "fa14d099.aa612",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "CO2",
        "info": "",
        "x": 210,
        "y": 1340,
        "wires": []
    },
    {
        "id": "9f24777b.d617e8",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "SOUND conversion",
        "func": "if (msg.msg433.SOUND !==undefined) {\n    msg.msg433.SOUND = parseInt(msg.msg433.SOUND, 10);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'sound',\n            payload: msg.msg433.SOUND\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 1400,
        "wires": [
            [
                "59063fc8.e65e1"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "2d72c499.0aec3c",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Sound",
        "info": "",
        "x": 210,
        "y": 1400,
        "wires": []
    },
    {
        "id": "59063fc8.e65e1",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "KWATT conversion",
        "func": "if (msg.msg433.KWATT !==undefined) {\n    msg.msg433.KWATT = parseInt(msg.msg433.KWATT, 16);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'kwatt',\n            payload: msg.msg433.KWATT\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 1460,
        "wires": [
            [
                "d0eff0ba.5b77d"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "93859fd3.c93f4",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "KWatt",
        "info": "",
        "x": 210,
        "y": 1460,
        "wires": []
    },
    {
        "id": "d0eff0ba.5b77d",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "WATT conversion",
        "func": "if (msg.msg433.WATT !== undefined) {\n    msg.msg433.WATT = parseInt(msg.msg433.WATT, 16);\n\n    return [\n        msg, \n        {\n            deviceId: msg.msg433.ID,\n            name: msg.msg433.name,\n            type: 'watt',\n            payload: msg.msg433.WATT\n        }];\n}\nelse {\n    return [msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 1520,
        "wires": [
            [
                "f8c48514.3a74a8"
            ],
            [
                "895a8b58.798378"
            ]
        ]
    },
    {
        "id": "ff139831.8732f8",
        "type": "comment",
        "z": "b70f79aa.1b96a8",
        "name": "Watt",
        "info": "",
        "x": 210,
        "y": 1520,
        "wires": []
    },
    {
        "id": "776d93a5.0cddbc",
        "type": "debug",
        "z": "b70f79aa.1b96a8",
        "d": true,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 160,
        "wires": []
    },
    {
        "id": "bc95f460.ad85b8",
        "type": "debug",
        "z": "b70f79aa.1b96a8",
        "d": true,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 200,
        "wires": []
    },
    {
        "id": "872ab2fa.69a0f",
        "type": "debug",
        "z": "b70f79aa.1b96a8",
        "d": true,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 240,
        "wires": []
    },
    {
        "id": "c2733067.67258",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "Set cover button",
        "func": "msg.topic = 'RFlink/' + msg.msg433.name + '_' + msg.msg433.ID + '/cover/command';\nmsg.payload = msg.msg433.CMD;\nmsg.qos = 1;\nmsg.retain = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1370,
        "y": 160,
        "wires": [
            [
                "776d93a5.0cddbc",
                "bfc5e2e7.b769e"
            ]
        ]
    },
    {
        "id": "95c39f9e.f85db",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "Set cover availability",
        "func": "msg.topic = 'RFlink/' + msg.msg433.name + '_' + msg.msg433.ID + '/cover/availability';\nmsg.payload = 'online';\nmsg.qos = 1;\nmsg.retain = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1380,
        "y": 240,
        "wires": [
            [
                "872ab2fa.69a0f",
                "bfc5e2e7.b769e"
            ]
        ]
    },
    {
        "id": "602ca1ac.aa847",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "Set cover state",
        "func": "msg.topic = 'RFlink/' + msg.msg433.name + '_' + msg.msg433.ID + '/cover/state';\nif (msg.msg433.CMD == 'UP') {\n  msg.payload = 'opening';\n}\nelse if (msg.msg433.CMD == 'DOWN') {\n  msg.payload = 'closing';\n}\nelse if (msg.msg433.CMD == 'STOP') {\n  msg.payload = 'closed'; //TODO: Fix with previous state\n}\nmsg.qos = 1;\nmsg.retain = true;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1360,
        "y": 200,
        "wires": [
            [
                "bc95f460.ad85b8",
                "bfc5e2e7.b769e"
            ]
        ]
    },
    {
        "id": "f8c48514.3a74a8",
        "type": "function",
        "z": "b70f79aa.1b96a8",
        "name": "prepare message payload",
        "func": "//node.warn(msg);\nnew_msg = {};\nnew_msg.topic = 'RFlink/' + msg.msg433.name + '_' + msg.msg433.ID;\nnew_msg.qos = 1;\nnew_msg.retain = true;\nnew_msg.payload=msg.msg433;\n//node.warn(new_msg);\nreturn new_msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1350,
        "y": 1440,
        "wires": [
            [
                "bfc5e2e7.b769e"
            ]
        ]
    },
    {
        "id": "11d2840b.c4c60c",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "name": "Redirect to dest",
        "property": "dest",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "html5",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "tts_",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "tel_",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "mail_",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "discord_",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "awtrix_",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "telegram_",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "sms_",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 720,
        "y": 580,
        "wires": [
            [
                "4fba970c.85c0c8"
            ],
            [
                "45b1fc9f.afafc4"
            ],
            [
                "4fa3a02b.4b12f"
            ],
            [
                "e8221.6da3addf8"
            ],
            [
                "8bf6525b.bb012"
            ],
            [
                "c16b5b24.539fa8"
            ],
            [
                "fe563f3b.27a4"
            ],
            [
                "a3064f17.e8a538"
            ]
        ],
        "outputLabels": [
            "",
            "",
            "mobile_clement",
            "email",
            "discord",
            "",
            "",
            ""
        ]
    },
    {
        "id": "4fba970c.85c0c8",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "5cda64bd.38daec",
        "name": "Check Short Message",
        "func": "if (msg.short_message !== 'undefined' ) {\n    msg.short_message = msg.message;\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1000,
        "y": 100,
        "wires": [
            [
                "81b3a930.d07b08"
            ]
        ]
    },
    {
        "id": "21b0610e.4e7cbe",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "ecef5432.e60ef8",
        "name": "Get Configuration",
        "func": "dest = msg.dest ;\nconfig = global.get(\"notif.home_assistant.dest.\"+dest) || 'undefined'\nmsg.entity_id = config;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1330,
        "y": 380,
        "wires": [
            [
                "868b8ddb.892fa"
            ]
        ]
    },
    {
        "id": "4fa3a02b.4b12f",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "ecef5432.e60ef8",
        "name": "Check Short Message",
        "func": "if (msg.short_message !== 'undefined' ) {\n    msg.short_message = msg.message;\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1000,
        "y": 380,
        "wires": [
            [
                "24afc5e8.8aadfa"
            ]
        ]
    },
    {
        "id": "ecea9947.6e5848",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "57b5e8a3.37d5e8",
        "name": "Get Configuration",
        "func": "dest = msg.dest ;\nconfig = global.get(\"notif.email.dest.\"+dest) || 'undefined'\nmsg.to = config;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1290,
        "y": 500,
        "wires": [
            [
                "bb7809ff.a41588",
                "7bedaa16.93eda4"
            ]
        ]
    },
    {
        "id": "e8221.6da3addf8",
        "type": "change",
        "z": "711f44dc.b8379c",
        "g": "57b5e8a3.37d5e8",
        "name": "Message2Payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "message",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 500,
        "wires": [
            [
                "ecea9947.6e5848"
            ]
        ]
    },
    {
        "id": "82df49fa.94fce8",
        "type": "split",
        "z": "711f44dc.b8379c",
        "name": "",
        "splt": ";",
        "spltType": "str",
        "arraySplt": "1",
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 130,
        "y": 580,
        "wires": [
            [
                "b75dca3b.2834b8"
            ]
        ]
    },
    {
        "id": "bb6496b6.c5fb38",
        "type": "change",
        "z": "711f44dc.b8379c",
        "name": "Convert dest2payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "dest",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 480,
        "wires": [
            [
                "82df49fa.94fce8"
            ]
        ]
    },
    {
        "id": "b75dca3b.2834b8",
        "type": "delay",
        "z": "711f44dc.b8379c",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 280,
        "y": 580,
        "wires": [
            [
                "91588395.e426"
            ]
        ]
    },
    {
        "id": "91588395.e426",
        "type": "change",
        "z": "711f44dc.b8379c",
        "name": "Convert payload2dest",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 580,
        "wires": [
            [
                "11d2840b.c4c60c"
            ]
        ]
    },
    {
        "id": "8c9a6e88.26e9f",
        "type": "comment",
        "z": "711f44dc.b8379c",
        "name": "========== DOCUMENTATION FR ==========",
        "info": "# Information\n\nCe subflow va vous permettre de notifier plusieurs service en même temps.\n\nActuellement il gérée les services :\n- HTML5 (by Home Assistant)\n- Discord\n- Telegram\n- Email\n- TTS\n- Home Assistant (Mobile App)\n- SMS via JPI8\n\n# Pré-requis\n\n- node-red-contrib-chatbot\n- node-red-contrib-chatbot-discord\n- node-red-contrib-string\n- node-red-contrib-home-assistant-websocket\n- node-red-node-email\n\n\n# Entrée\n\nVoici la liste des inputs actuellement possible :\n\n```\nmsg.title = \"Home Assistant - New version available\"\nmsg.dest = \"tel_clement;mail_clement;tts_80_hall\"  \nmsg.message = \"Home Assistant : New version available => 0.113.0 \\n\nhttps://github.com/home-assistant/core/releases/tag/0.113.0\"\nmsg.short_message = \"Home Assistant : New version available (0.113.0)\"\nmsg.image = \"/data/image.jpeg\"\nmsg.document = \"/data/doc.js\"\nmsg.video = \"/data/video.mp4\"\n```\n> Tout les inputs ne sont pas forcement compatible avec les differents services.\n\n## Titre / `msg.title`\n\n_Disponible sur : Email_\n\nTitre du mail.\n\n_Exemple:_\n\n```\nmsg.title = \"Home Assistant - New version available\"\n```\n\n## Message / `msg.message`\n\n_Disponible sur : Email / Telegram / Discord_\n\nVersion longue du message.\n\n_Exemple:_\n\n```\nmsg.message = \"Home Assistant : New version available => 0.113.0 \\n https://github.com/home-assistant/core/releases/tag/0.113.0\"\n```\n\n## Message court / `msg.short_message`\n\n_Disponible sur : HTML5 / Home Assistant_\n\nMessage reduit pour les services type \"popup\".\n\n_Exemple:_\n```\nmsg.short_message = \"Home Assistant : New version available (0.113.0)\"\n```\n\n**ATTENTION : Les messages est `trim` et les `\\n` sont remplacer par des espace**\n> => Si il n'est pas défini, je reprend les `msg.message`\n\n## Image / `msg.image`\n\n_Disponible sur : Telegram_\n\n_Exemple:_\n```\nmsg.image = \"/data/image.jpeg\"\nmsg.image = \"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg\"\n```\n## Document / `msg.document`\n\n_Disponible sur : Telegram_\n\n_Exemple:_\n```\nmsg.document = \"/data/doc.js\"\n```\n## Video / `msg.video`\n\n_Disponible sur : Telegram_\n\n_Exemple:_\n```\nmsg.video = \"/data/video.mp4\"\n```\n\n## Destinatation / `msg.dest`\nUn string qui contient la liste des services que vous désirez notifier séparer par des \"`;`\"\n\n_Exemple:_\n\n```\nmsg.dest = \"tel_clement;mail_clement;tts_80_hall\"  \n```\n\nLe message sera envoyé à :\n- tel_clement \n- mail_clement\n- tts_80_hall       \n\n### HTML5\nLa totalité des messages passe par ce système par défaut, pas besoin de l'ajouter en destination.\n\n### Discord \ndest doit commencer par `discord_`\n\n_Exemple:_\n```\nmsg.dest = \"discord_communaute_news;discord_maison_information;discord_maison_network\"  \n```\n\n### Home Assistant \ndest doit commencer par `tel_`\n\n_Exemple:_\n```\nmsg.dest = \"tel_clement;tel_papa;tel_maman\n```\n### Email \ndest doit commencer par `mail_`\n\n_Exemple:_\n```\nmsg.dest = \"mail_clement;mail_thomas\"\n```\n### Telegram\ndest doit commencer par `telegram_`\n\n_Exemple:_\n```\nmsg.dest = \"telegram_smarthome;telegram_familly\"\n```\n### TTS\ndest doit commencer par `tts_`\n\nFormat : `tts_{VOLUME}_{ENTITY_ID_DU_MEDIA_PLAYER}`\n\n_Exemple:_\n```\nmsg.dest = \"tts_80_hall\"\n```\n### SMS\ndest doit commencer par `sms_`\n\n_Exemple:_\n```\nmsg.dest = \"sms_clement\"\n```\n\n# Configuration\n\nLe subflow récupére sa configuration via la variable Global `notif.`\n\n> TTS n'a besoin d'aucune configuration particulière\n\n_Exemple:_\n\n```\nvar configuration = \n{\n    \"discord\": {\n        \"dest\": {\n            \"discord_communaute_news\": \"https://discord.com/api/webhooks/XXXXXXXXXXXXXXXX\",\n            \"discord_communaute_zwave\": \"https://discord.com/api/webhooks/YYYYYYYYYYYYYYYY\",\n            \"discord_communaute_diy\": \"https://discord.com/api/webhooks/ZZZZZZZZZZZZZZZZZ\",\n        }\n    },\n    \"home_assistant\": {\n        \"dest\": {\n            \"tel_clement\": \"mobile_app_oneplus_a6010\",\n            \"tel_nathalie\": \"mobile_app_oneplus_a5000\"\n        }\n    },\n    \"email\": {\n        \"dest\": {\n            \"mail_clement\": \"email1@domain.fr\",\n            \"mail_john\": \"email2@domain.fr\",\n            \"mail_bibi\": \"email3@domain.fr\"        \n        }\n    },\n    \"telegram\": {\n        \"dest\": {\n            \"telegram_smarthome\": \"ID1\",\n            \"telegram_bot\": \"ID2\"        \n        }\n    },\n    \"mattermost\": {\n        \"dest\": {\n            \"mattermost_home\" : \"https://mattermost.domain.fr/hooks/XXXXXXXXXXXXXXXXXXXXXXXXX\",\n            \"mattermost_volets\" : \"https://mattermost.domain.fr/hooks/YYYYYYYYYYYYYYYYYYYYYYYY\",\n        }\n    },\n    \"jpi\": {\n        \"address\": \"192.168.1.1:8080\",\n        \"dest\": {\n            \"sms_clement\": \"06XXXXXXXXX\",\n            \"sms_nathalie\": \"06YYYYYYYYY\",\n        }\n    }\n}\nglobal.set(\"notif\",configuration)\n\nreturn msg;\n```\n\nPour vous aidez dans la configuration voici une function qui va vous permettres de pousser votre configuration à chaque deploiement.\n\nTout ce passe dans le node `Function`.\n\n\n```\n[{\"id\":\"bbda9cf1.ad8ba\",\"type\":\"inject\",\"z\":\"4787bdd6.9aa874\",\"name\":\"\",\"props\":[{\"p\":\"payload\"}],\"repeat\":\"\",\"crontab\":\"\",\"once\":true,\"onceDelay\":0.1,\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"x\":130,\"y\":130,\"wires\":[[\"513d2c9.069c3d4\"]]},{\"id\":\"dacca689.055138\",\"type\":\"function\",\"z\":\"4787bdd6.9aa874\",\"name\":\"Configurateur EXEMPLE\",\"func\":\"var configuration = \\n{\\n    \\\"discord\\\": {\\n        \\\"dest\\\": {\\n            \\\"discord_communaute_news\\\": \\\"https://discord.com/api/webhooks/XXXXXXXXXXXXXXXX\\\",\\n            \\\"discord_communaute_zwave\\\": \\\"https://discord.com/api/webhooks/YYYYYYYYYYYYYYYY\\\",\\n            \\\"discord_communaute_diy\\\": \\\"https://discord.com/api/webhooks/ZZZZZZZZZZZZZZZZZ\\\",\\n        }\\n    },\\n    \\\"home_assistant\\\": {\\n        \\\"dest\\\": {\\n            \\\"tel_clement\\\": \\\"mobile_app_oneplus_a6010\\\",\\n            \\\"tel_nathalie\\\": \\\"mobile_app_oneplus_a5000\\\"\\n        }\\n    },\\n    \\\"email\\\": {\\n        \\\"dest\\\": {\\n            \\\"mail_clement\\\": \\\"email1@domain.fr\\\",\\n            \\\"mail_john\\\": \\\"email2@domain.fr\\\",\\n            \\\"mail_bibi\\\": \\\"email3@domain.fr\\\"        \\n        }\\n    },\\n    \\\"telegram\\\": {\\n        \\\"dest\\\": {\\n            \\\"telegram_smarthome\\\": \\\"ID1\\\",\\n            \\\"telegram_bot\\\": \\\"ID2\\\"        \\n        }\\n    },\\n    \\\"mattermost\\\": {\\n        \\\"dest\\\": {\\n            \\\"mattermost_home\\\" : \\\"https://mattermost.domain.fr/hooks/XXXXXXXXXXXXXXXXXXXXXXXXX\\\",\\n            \\\"mattermost_volets\\\" : \\\"https://mattermost.domain.fr/hooks/YYYYYYYYYYYYYYYYYYYYYYYY\\\",\\n        }\\n    },\\n    \\\"jpi\\\": {\\n        \\\"address\\\": \\\"192.168.1.1:8080\\\",\\n        \\\"dest\\\": {\\n            \\\"sms_clement\\\": \\\"06XXXXXXXXX\\\",\\n            \\\"sms_nathalie\\\": \\\"06YYYYYYYYY\\\",\\n        }\\n    }\\n}\\nglobal.set(\\\"notif\\\",configuration)\\n\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"x\":540,\"y\":130,\"wires\":[[]]},{\"id\":\"513d2c9.069c3d4\",\"type\":\"change\",\"z\":\"4787bdd6.9aa874\",\"name\":\"Remove old config\",\"rules\":[{\"t\":\"delete\",\"p\":\"notif\",\"pt\":\"global\"}],\"action\":\"\",\"property\":\"\",\"from\":\"\",\"to\":\"\",\"reg\":false,\"x\":310,\"y\":130,\"wires\":[[\"dacca689.055138\"]]}]\n```\n\nEt voici un exemple de flow d'input :\n\n```\n[{\"id\":\"66da3fb7.1e4ff\",\"type\":\"change\",\"z\":\"8a8a63c5.0c3c2\",\"name\":\"\",\"rules\":[{\"t\":\"set\",\"p\":\"title\",\"pt\":\"msg\",\"to\":\"Coucou\",\"tot\":\"str\"},{\"t\":\"set\",\"p\":\"message\",\"pt\":\"msg\",\"to\":\"Long Message\",\"tot\":\"str\"},{\"t\":\"set\",\"p\":\"short_message\",\"pt\":\"msg\",\"to\":\"Short Message\",\"tot\":\"str\"},{\"t\":\"set\",\"p\":\"dest\",\"pt\":\"msg\",\"to\":\"tel_clement;mail_clement\",\"tot\":\"str\"}],\"action\":\"\",\"property\":\"\",\"from\":\"\",\"to\":\"\",\"reg\":false,\"x\":740,\"y\":1880,\"wires\":[[\"7300bcc2.c97c34\"]]}]\n```",
        "x": 300,
        "y": 300,
        "wires": []
    },
    {
        "id": "50d5d992.12f778",
        "type": "delay",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1780,
        "y": 260,
        "wires": [
            [
                "9be43a39.86fb38"
            ]
        ]
    },
    {
        "id": "ce050387.d13e9",
        "type": "change",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Save Current Volume",
        "rules": [
            {
                "t": "set",
                "p": "current_volume",
                "pt": "msg",
                "to": "data.attributes.volume_level",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2180,
        "y": 260,
        "wires": [
            [
                "5d1f7d2d.00d694"
            ]
        ]
    },
    {
        "id": "45b1fc9f.afafc4",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Split Message",
        "func": "dest = msg.dest.split('_');\nmsg.volume = dest[1]/100;\nmsg.dest = msg.dest.replace('tts_'+dest[1]+\"_\",\"\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 260,
        "wires": [
            [
                "4bbdd1c0.ff6a7"
            ]
        ]
    },
    {
        "id": "3ed2b5a9.244f3a",
        "type": "delay",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 2700,
        "y": 260,
        "wires": [
            [
                "5d7f8264.16666c"
            ]
        ]
    },
    {
        "id": "ca608072.a3c81",
        "type": "link out",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "OUT : Wait idle",
        "links": [],
        "x": 3020,
        "y": 220,
        "wires": [],
        "l": true
    },
    {
        "id": "e5fe9d8c.96704",
        "type": "link in",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "IN : Wait idle",
        "links": [],
        "x": 2530,
        "y": 220,
        "wires": [
            [
                "3ed2b5a9.244f3a"
            ]
        ],
        "l": true
    },
    {
        "id": "60a2789f.1842a8",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Check status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "idle",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1410,
        "y": 260,
        "wires": [
            [
                "3804914.3e0396e"
            ],
            [
                "3804914.3e0396e"
            ]
        ]
    },
    {
        "id": "4e1a58dc.5faf88",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "5cda64bd.38daec",
        "name": "Log",
        "func": "node.log(\"NOTIF / HTML5 => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1610,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "e9da4b4c.c20068",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "ecef5432.e60ef8",
        "name": "Log",
        "func": "node.log(\"NOTIF / Home Assistant => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1830,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "7bedaa16.93eda4",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "57b5e8a3.37d5e8",
        "name": "Log",
        "func": "node.log(\"NOTIF / Email => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1830,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "18cbe457.1dfa6c",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Log",
        "func": "node.log(\"NOTIF / TTS => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 3370,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "75261914.04f268",
        "type": "http request",
        "z": "711f44dc.b8379c",
        "g": "53f4a8db.b4d4",
        "name": "SMS via JPI",
        "method": "use",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1210,
        "y": 1260,
        "wires": [
            [
                "8dd71a85.f2d438"
            ]
        ]
    },
    {
        "id": "8dd71a85.f2d438",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "53f4a8db.b4d4",
        "name": "Log",
        "func": "node.log(\"NOTIF / SMS => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1360,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "a3064f17.e8a538",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "53f4a8db.b4d4",
        "name": "Get Configuration",
        "func": "var dest = msg.dest ;\nvar jpi_address = global.get('notif.jpi.address');\nvar sms_number = global.get(\"notif.jpi.dest.\"+dest) || 'undefined'\nvar message = encodeURIComponent(msg.message);\n\nmsg.method = \"POST\"\nmsg.url = \"http://\"+jpi_address+\"/?action=sendSms&number=\"+sms_number+\"&message=\"+message\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1000,
        "y": 1260,
        "wires": [
            [
                "75261914.04f268"
            ]
        ]
    },
    {
        "id": "3a88bff2.0f885",
        "type": "template",
        "z": "711f44dc.b8379c",
        "g": "92cd7bed.1088b8",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n \"name\":\"NodeRedNotification\",\n \"icon\":225,\n \"moveIcon\":true,\n \"lifetime\":999999,\n \"text\":\"{{payload}}\",\n \"repeat\":2,\n \"color\":[0,255,0]\n}",
        "output": "str",
        "x": 1180,
        "y": 780,
        "wires": [
            [
                "ca7ad5a4.1f19e8"
            ]
        ]
    },
    {
        "id": "2106adfe.6f48b2",
        "type": "http request",
        "z": "711f44dc.b8379c",
        "g": "92cd7bed.1088b8",
        "name": "awtrix notify",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.16:7000/api/v3/notify",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 1570,
        "y": 780,
        "wires": [
            [
                "bef8f932.7769a8"
            ]
        ]
    },
    {
        "id": "ca7ad5a4.1f19e8",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "92cd7bed.1088b8",
        "name": "awtrix headers",
        "func": "msg.headers = {}\nmsg.headers[\"content-type\"] = \"application/json\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 780,
        "wires": [
            [
                "2106adfe.6f48b2"
            ]
        ]
    },
    {
        "id": "bef8f932.7769a8",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "92cd7bed.1088b8",
        "name": "Log",
        "func": "node.log(\"NOTIF / Awtrix => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1730,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "c16b5b24.539fa8",
        "type": "change",
        "z": "711f44dc.b8379c",
        "g": "92cd7bed.1088b8",
        "name": "Message2Payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "message",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 780,
        "wires": [
            [
                "3a88bff2.0f885"
            ]
        ]
    },
    {
        "id": "fe563f3b.27a4",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Get Configuration",
        "func": "dest = msg.dest ;\nconfig = global.get(\"notif.telegram.dest.\"+dest) || 'undefined'\nvar retour = [];\n\n// Message\nif (msg.message !== \"\") {\n    payload = {\n      chatId: config,\n      type: 'message',\n      content: msg.message\n    }\n}else{\n    payload = {\"chatId\": none};\n}\nretour.push({payload});\n\n// Image\nif (msg.image !== \"\") {\n    payload = {\n      chatId: config,\n      type: 'photo',\n      content: msg.image\n    }        \n}else{\n    payload = {\"chatId\": none};\n}\nretour.push({payload})\n\n// Video\nif (msg.video !== \"\") {\n    payload = {\n      chatId: config,\n      type: 'video',\n      content: msg.video\n    }        \n}else{\n    payload = {\"chatId\": none};\n}\nretour.push({payload})\n\n// Audio\nif (msg.audio !== \"\") {\n    payload = {\n      chatId: config,\n      type: 'audio',\n      content: msg.audio\n    }        \n}else{\n    payload = {\"chatId\": none};\n}\nretour.push({payload})\n\n// Location\nif (msg.location !== \"\") {\n    payload = {\n      chatId: config,\n      type: 'location',\n      content: msg.location\n    }        \n}else{\n    payload = {\"chatId\": none};\n}\nretour.push({payload})\n\n\n// Animation\nif (msg.animation !== \"\") {\n    payload = {\n      chatId: config,\n      type: 'animation',\n      content: msg.animation\n    }        \n}else{\n    payload = {\"chatId\": none};\n}\nretour.push({payload})\n\n\n// Voice\nif (msg.voice !== \"\") {\n    payload = {\n      chatId: config,\n      type: 'voice',\n      content: msg.voice\n    }        \n}else{\n    payload = {\"chatId\": none};\n}\nretour.push({payload})\n\n// Contact\nif (msg.contact !== \"\") {\n    payload = {\n      chatId: config,\n      type: 'contact',\n      content: msg.contact\n    }        \n}else{\n    payload = {\"chatId\": none};\n}\nretour.push({payload})\n\n\nreturn retour;",
        "outputs": 8,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1020,
        "wires": [
            [
                "a1937b5e.f10f08"
            ],
            [
                "74de5d62.659ac4"
            ],
            [
                "6bccc1cf.04292"
            ],
            [
                "ba9c06f3.258228"
            ],
            [
                "fdc2c34.6b5b44"
            ],
            [
                "4adb3e12.c6031"
            ],
            [
                "8098137f.117d6"
            ],
            [
                "8c1c7eae.f4fe8"
            ]
        ]
    },
    {
        "id": "a5718a48.8221c8",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Log",
        "func": "node.log(\"NOTIF / Telegram => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1670,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "a1937b5e.f10f08",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Message ?",
        "property": "payload.content",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1250,
        "y": 880,
        "wires": [
            [
                "10f56b1e.f606e5"
            ]
        ]
    },
    {
        "id": "74de5d62.659ac4",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Image ?",
        "property": "payload.content",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1240,
        "y": 920,
        "wires": [
            [
                "10f56b1e.f606e5"
            ]
        ]
    },
    {
        "id": "6bccc1cf.04292",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Video ?",
        "property": "payload.content",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1240,
        "y": 960,
        "wires": [
            [
                "10f56b1e.f606e5"
            ]
        ]
    },
    {
        "id": "ba9c06f3.258228",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Audio ?",
        "property": "payload.content",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1240,
        "y": 1000,
        "wires": [
            [
                "10f56b1e.f606e5"
            ]
        ]
    },
    {
        "id": "8098137f.117d6",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Voice ?",
        "property": "payload.content",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1240,
        "y": 1120,
        "wires": [
            [
                "10f56b1e.f606e5"
            ]
        ]
    },
    {
        "id": "fdc2c34.6b5b44",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Location ?",
        "property": "payload.content",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1250,
        "y": 1040,
        "wires": [
            [
                "10f56b1e.f606e5"
            ]
        ]
    },
    {
        "id": "4adb3e12.c6031",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Animation ?",
        "property": "payload.content",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1250,
        "y": 1080,
        "wires": [
            [
                "10f56b1e.f606e5"
            ]
        ]
    },
    {
        "id": "8c1c7eae.f4fe8",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "Contact ?",
        "property": "payload.content",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1240,
        "y": 1160,
        "wires": [
            [
                "10f56b1e.f606e5"
            ]
        ]
    },
    {
        "id": "b9f33582.bb5ff8",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "Log",
        "func": "node.log(\"NOTIF / Discord => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2090,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "8bf6525b.bb012",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "Get Configuration",
        "func": "dest = msg.dest ;\nconfig = global.get(\"notif.discord.dest.\"+dest) || 'undefined'\nmsg.webhook = config;\n\n// MESSAGE\nusername = msg.username || \"undefined\";\ncontent = msg.message || \"undefined\";\navatar_url = msg.avatar_url || \"undefined\";\n\n// AUHTOR\nembeds_author_name = msg.embeds_author_name || \"undefined\";\nembeds_author_icon_url = msg.embeds_author_icon_url || \"undefined\";\nembeds_author_url = msg.embeds_author_url || \"undefined\";\n\nembeds_title = msg.embeds_title || \"undefined\";\nembeds_description = msg.embeds_description || \"undefined\";\nembeds_image = msg.embeds_image || \"undefined\";\nembeds_color = msg.embeds_color || \"undefined\";\nembeds_url = msg.embeds_url || \"undefined\";\nembeds_thumbnail = msg.embeds_thumbnail || \"undefined\";\nembeds_footer = msg.embeds_footer || \"undefined\";\n\nmsg.data = {};\nembeds_data = [];\n\nif (content != \"undefined\") {\n    msg.data.content = content;\n}    \nif (username == \"undefined\") {\n    msg.data.username = \"Node-RED\";\n}else{\n    msg.data.username = username;    \n}\nif (avatar_url == \"undefined\") {\n    msg.data.avatar_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\n}else{\n    msg.data.avatar_url = avatar_url;    \n}\n\nif (embeds_url != \"undefined\" || embeds_title != \"undefined\" || embeds_description != \"undefined\" || embeds_thumbnail != \"undefined\" || embeds_image != \"undefined\" || embeds_footer != \"undefined\") {\n    message = {}\n    \n    if (embeds_author_name != \"undefined\" || embeds_author_icon_url != \"undefined\" || embeds_author_url != \"undefined\") {\n        message.author = {}\n        \n        if(embeds_author_name != \"undefined\") {\n            message.author.name = embeds_author_name;\n        }\n        if(embeds_author_url != \"undefined\") {\n            message.author.url = embeds_author_url;\n        }\n        if(embeds_author_icon_url != \"undefined\") {\n            message.author.icon_url = embeds_author_icon_url;\n        }    \n    }\n    \n    if(embeds_title != \"undefined\") {\n        message.title = msg.embeds_title;\n    }\n    if(embeds_description != \"undefined\") {\n        message.description = msg.embeds_description;\n    }\n    if(embeds_color != \"undefined\") {\n        message.color = parseInt(msg.embeds_color,16);\n    }    \n    if(embeds_url != \"undefined\") {\n        message.url = msg.embeds_url;\n    }    \n    if(embeds_thumbnail != \"undefined\") {\n        message.thumbnail = {};\n        message.thumbnail.url = msg.embeds_thumbnail;\n    }\n    if(embeds_image != \"undefined\") {\n        message.image = {};\n        message.image.url = msg.embeds_image;\n    }\n    if(embeds_footer != \"undefined\") {\n        message.footer = {};\n        message.footer.text = msg.embeds_footer;\n    }\n\n    embeds_data.push(message);\n    msg.data.embeds = embeds_data;\n}  \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 990,
        "y": 640,
        "wires": [
            [
                "3d3d5736.e773b8"
            ]
        ]
    },
    {
        "id": "57ced8cc.3f7d88",
        "type": "http request",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "Post Request",
        "method": "use",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1640,
        "y": 640,
        "wires": [
            [
                "3ec2e2a2.c26d7e"
            ]
        ]
    },
    {
        "id": "f1e1845b.c0dff8",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "Format Query",
        "func": "msg.url = msg.webhook\nmsg.method = \"POST\"\nmsg.headers = {};\nmsg.headers['Content-Type'] = 'application/json';\nmsg.payload = msg.data;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1420,
        "y": 640,
        "wires": [
            [
                "57ced8cc.3f7d88"
            ]
        ]
    },
    {
        "id": "3d3d5736.e773b8",
        "type": "json",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "Convert Data to String",
        "property": "data",
        "action": "",
        "pretty": false,
        "x": 1210,
        "y": 640,
        "wires": [
            [
                "f1e1845b.c0dff8"
            ]
        ]
    },
    {
        "id": "8e056486.259da8",
        "type": "link out",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "Retry Discord",
        "links": [],
        "x": 2280,
        "y": 600,
        "wires": [],
        "l": true
    },
    {
        "id": "fb7c0c90.8d512",
        "type": "link in",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "Retry Discord",
        "links": [],
        "x": 1250,
        "y": 600,
        "wires": [
            [
                "f1e1845b.c0dff8"
            ]
        ],
        "l": true
    },
    {
        "id": "94be41c3.f9686",
        "type": "delay",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 2100,
        "y": 600,
        "wires": [
            [
                "8e056486.259da8"
            ]
        ]
    },
    {
        "id": "3ec2e2a2.c26d7e",
        "type": "function",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "",
        "func": "if (msg.statusCode < 300 && msg.statusCode >= 200) {\n    msg.success = true;\n}else{\n    msg.success = false;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1820,
        "y": 640,
        "wires": [
            [
                "10057575.e300cb"
            ]
        ]
    },
    {
        "id": "10057575.e300cb",
        "type": "switch",
        "z": "711f44dc.b8379c",
        "g": "1fa64f61.9df3e1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1950,
        "y": 640,
        "wires": [
            [
                "94be41c3.f9686"
            ],
            [
                "b9f33582.bb5ff8"
            ]
        ]
    },
    {
        "id": "81b3a930.d07b08",
        "type": "string",
        "z": "711f44dc.b8379c",
        "g": "5cda64bd.38daec",
        "name": "",
        "methods": [
            {
                "name": "replaceAll",
                "params": [
                    {
                        "type": "str",
                        "value": "\\n"
                    },
                    {
                        "type": "str",
                        "value": " "
                    }
                ]
            },
            {
                "name": "trim",
                "params": []
            }
        ],
        "prop": "message",
        "propout": "message",
        "object": "msg",
        "objectout": "msg",
        "x": 1210,
        "y": 100,
        "wires": [
            [
                "8b310362.7bd2d"
            ]
        ]
    },
    {
        "id": "24afc5e8.8aadfa",
        "type": "string",
        "z": "711f44dc.b8379c",
        "g": "ecef5432.e60ef8",
        "name": "",
        "methods": [
            {
                "name": "replaceAll",
                "params": [
                    {
                        "type": "str",
                        "value": "\\n"
                    },
                    {
                        "type": "str",
                        "value": " "
                    }
                ]
            },
            {
                "name": "trim",
                "params": []
            }
        ],
        "prop": "message",
        "propout": "message",
        "object": "msg",
        "objectout": "msg",
        "x": 1170,
        "y": 380,
        "wires": [
            [
                "21b0610e.4e7cbe"
            ]
        ]
    },
    {
        "id": "4bbdd1c0.ff6a7",
        "type": "string",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "",
        "methods": [
            {
                "name": "replaceAll",
                "params": [
                    {
                        "type": "str",
                        "value": "\\n"
                    },
                    {
                        "type": "str",
                        "value": " "
                    }
                ]
            },
            {
                "name": "trim",
                "params": []
            }
        ],
        "prop": "message",
        "propout": "message",
        "object": "msg",
        "objectout": "msg",
        "x": 1130,
        "y": 260,
        "wires": [
            [
                "eaee88f3.fe9138"
            ]
        ]
    },
    {
        "id": "10f56b1e.f606e5",
        "type": "telegram sender",
        "z": "711f44dc.b8379c",
        "g": "286dba59.7ed416",
        "name": "DcjonaBot",
        "bot": "3d8a2f1140f9129c",
        "haserroroutput": false,
        "outputs": 1,
        "x": 1490,
        "y": 1020,
        "wires": [
            [
                "a5718a48.8221c8"
            ]
        ]
    },
    {
        "id": "bb7809ff.a41588",
        "type": "e-mail",
        "z": "711f44dc.b8379c",
        "g": "57b5e8a3.37d5e8",
        "server": "172.17.0.1",
        "port": "25",
        "secure": false,
        "tls": false,
        "name": "",
        "dname": "",
        "x": 1550,
        "y": 500,
        "wires": []
    },
    {
        "id": "8b310362.7bd2d",
        "type": "api-call-service",
        "z": "711f44dc.b8379c",
        "g": "5cda64bd.38daec",
        "name": "html5",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "html5",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1410,
        "y": 100,
        "wires": [
            [
                "4e1a58dc.5faf88"
            ]
        ]
    },
    {
        "id": "868b8ddb.892fa",
        "type": "api-call-service",
        "z": "711f44dc.b8379c",
        "g": "ecef5432.e60ef8",
        "name": "Home Assistant ",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "{{ entity_id }}",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1520,
        "y": 380,
        "wires": [
            [
                "e9da4b4c.c20068"
            ]
        ]
    },
    {
        "id": "3804914.3e0396e",
        "type": "api-call-service",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Media Player : ON",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.{{dest}}"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1590,
        "y": 260,
        "wires": [
            [
                "50d5d992.12f778"
            ]
        ]
    },
    {
        "id": "5d1f7d2d.00d694",
        "type": "api-call-service",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Set volume",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": true,
        "domain": "media_player",
        "service": "volume_set",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.{{dest}}"
        ],
        "data": "{\"entity_id\":\"media_player.{{ dest }}\",\"volume_level\":\"{{ volume }}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2390,
        "y": 260,
        "wires": [
            [
                "b8f7a36e.3e1aa"
            ]
        ]
    },
    {
        "id": "b8f7a36e.3e1aa",
        "type": "api-call-service",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Play TTS",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "tts",
        "service": "google_translate_say",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.{{dest}}"
        ],
        "data": "{\"entity_id\":\"media_player.{{ dest }}\",\"message\":\"{{ message }}\",\"language\":\"fr\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2540,
        "y": 260,
        "wires": [
            [
                "3ed2b5a9.244f3a"
            ]
        ]
    },
    {
        "id": "5214f35f.538f4c",
        "type": "api-call-service",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Reset volume",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": true,
        "domain": "media_player",
        "service": "volume_set",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.{{dest}}"
        ],
        "data": "{\"entity_id\":\"media_player.{{ dest }}\",\"volume_level\":\"{{ current_volume }}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3020,
        "y": 260,
        "wires": [
            [
                "1af7d6f3.9aaa19"
            ]
        ]
    },
    {
        "id": "1af7d6f3.9aaa19",
        "type": "api-call-service",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Media Player : OFF",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.{{dest}}"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3210,
        "y": 260,
        "wires": [
            [
                "18cbe457.1dfa6c"
            ]
        ]
    },
    {
        "id": "9be43a39.86fb38",
        "type": "api-current-state",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Get Current Volume",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.{{dest}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 1960,
        "y": 260,
        "wires": [
            [
                "ce050387.d13e9"
            ]
        ]
    },
    {
        "id": "eaee88f3.fe9138",
        "type": "api-current-state",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Get State",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.{{dest}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 1260,
        "y": 260,
        "wires": [
            [
                "60a2789f.1842a8"
            ]
        ]
    },
    {
        "id": "5d7f8264.16666c",
        "type": "api-current-state",
        "z": "711f44dc.b8379c",
        "g": "3ba17f01.1ad71",
        "name": "Get State",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.{{dest}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 2840,
        "y": 260,
        "wires": [
            [
                "ca608072.a3c81"
            ],
            [
                "5214f35f.538f4c"
            ]
        ]
    },
    {
        "id": "38d52791.fadb2",
        "type": "http request",
        "z": "4a0b6520.d97434",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 286,
        "y": 48,
        "wires": [
            [
                "e2150a4b.e1878"
            ]
        ]
    },
    {
        "id": "9803ec2a.54fff",
        "type": "function",
        "z": "4a0b6520.d97434",
        "name": "",
        "func": "msg.headers = {'X-Api-Key': env.get(\"api\")}\nmsg.url = env.get(\"url\") +\"/api/\" + env.get(\"request\");\nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 146,
        "y": 48,
        "wires": [
            [
                "38d52791.fadb2"
            ]
        ]
    },
    {
        "id": "e2150a4b.e1878",
        "type": "json",
        "z": "4a0b6520.d97434",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": true,
        "x": 458,
        "y": 48,
        "wires": [
            []
        ]
    },
    {
        "id": "989760f9.aa3b1",
        "type": "switch",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "on - off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1016",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 60,
        "wires": [
            [
                "6e46c151.a24bf"
            ]
        ]
    },
    {
        "id": "e004d122.d1bab",
        "type": "mqtt in",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Nextion Garage",
        "topic": "Garage/Nextion_2.4_Intell/idx",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 140,
        "y": 60,
        "wires": [
            [
                "989760f9.aa3b1"
            ]
        ]
    },
    {
        "id": "ff460633.36f108",
        "type": "function",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Parse time",
        "func": "new_msg = {\n    payload: {\n        ontime: msg.payload.substr(0,5),\n        offtime: msg.payload.substr(0,5)\n    }\n}\nreturn new_msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 130,
        "y": 280,
        "wires": [
            [
                "9c22adc2.4661d"
            ]
        ]
    },
    {
        "id": "fae87fcb.5a66",
        "type": "switch",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "is on",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 280,
        "wires": [
            [
                "7de0c191.9dc65"
            ]
        ]
    },
    {
        "id": "28e60c5b.680884",
        "type": "comment",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "réveil______________________________________________________",
        "info": "",
        "x": 300,
        "y": 140,
        "wires": []
    },
    {
        "id": "c07fac25.22edc",
        "type": "comment",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Changement à l'heure souhaitée",
        "info": "",
        "x": 350,
        "y": 240,
        "wires": []
    },
    {
        "id": "78bac41e.509f2c",
        "type": "comment",
        "z": "f1a202e8.6987c",
        "name": "Canicule______________________________________________________",
        "info": "",
        "x": 290,
        "y": 800,
        "wires": []
    },
    {
        "id": "e63e5e74.60ed9",
        "type": "delay",
        "z": "f1a202e8.6987c",
        "name": "",
        "pauseType": "delay",
        "timeout": "13",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 500,
        "y": 840,
        "wires": [
            [
                "865bfd9f.4d138"
            ]
        ]
    },
    {
        "id": "61aff004.3318",
        "type": "link out",
        "z": "f1a202e8.6987c",
        "name": "Notif out",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 960,
        "y": 840,
        "wires": [],
        "l": true
    },
    {
        "id": "25aa0b85.9741e4",
        "type": "change",
        "z": "f1a202e8.6987c",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_salon",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Mode canicule activé",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 840,
        "wires": [
            [
                "61aff004.3318"
            ]
        ]
    },
    {
        "id": "617c2e88.78592",
        "type": "comment",
        "z": "f1a202e8.6987c",
        "name": "Vacances______________________________________________________",
        "info": "",
        "x": 290,
        "y": 960,
        "wires": []
    },
    {
        "id": "408fb332.38167c",
        "type": "inject",
        "z": "f1a202e8.6987c",
        "name": "21:00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 21 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 1020,
        "wires": [
            [
                "dcb2504f.2a593"
            ]
        ]
    },
    {
        "id": "77858987.1b3c98",
        "type": "change",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "service",
                "pt": "msg",
                "to": "turn_off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 540,
        "wires": [
            [
                "23c0a06d.fefca",
                "17c00b9d.c0e704"
            ]
        ]
    },
    {
        "id": "6d9bfc9.3b89204",
        "type": "change",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "service",
                "pt": "msg",
                "to": "turn_on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 480,
        "wires": [
            [
                "23c0a06d.fefca",
                "17c00b9d.c0e704"
            ]
        ]
    },
    {
        "id": "d466e8f1.19d358",
        "type": "link in",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Ambiance soir in",
        "links": [
            "daf51809.a68168",
            "ff8aa5f8.74cb28"
        ],
        "x": 480,
        "y": 380,
        "wires": [
            [
                "6d9bfc9.3b89204",
                "dad84cc9.2b001"
            ]
        ],
        "l": true
    },
    {
        "id": "6599d42d.5e2a0c",
        "type": "subflow:3d40e23b.ebcdce",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "",
        "env": [],
        "x": 900,
        "y": 620,
        "wires": []
    },
    {
        "id": "7a9da41.38e4f5c",
        "type": "delay",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 960,
        "y": 380,
        "wires": [
            [
                "e9231b3.c2c56e8",
                "32e8a156d06b7942",
                "4c05e45fc1503cae",
                "403d332637fac155"
            ]
        ]
    },
    {
        "id": "ef44ba97.952898",
        "type": "link out",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Check Capteurs",
        "mode": "link",
        "links": [
            "e979f42820fb2461"
        ],
        "x": 880,
        "y": 660,
        "wires": [],
        "l": true
    },
    {
        "id": "18da1d4d.164223",
        "type": "link in",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Mode Nuit in",
        "links": [
            "512193e6.d6e98c"
        ],
        "x": 650,
        "y": 640,
        "wires": [
            [
                "77858987.1b3c98",
                "6599d42d.5e2a0c",
                "ef44ba97.952898"
            ]
        ],
        "l": true
    },
    {
        "id": "c4b54d66.9639b",
        "type": "switch",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Jour",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Soir",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Nuit",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 130,
        "y": 640,
        "wires": [
            [
                "eaabc1ca.35b56",
                "271bbc0ddab81578"
            ],
            [
                "ff8aa5f8.74cb28"
            ],
            [
                "512193e6.d6e98c"
            ]
        ]
    },
    {
        "id": "ff8aa5f8.74cb28",
        "type": "link out",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Soir",
        "mode": "link",
        "links": [
            "d466e8f1.19d358"
        ],
        "x": 270,
        "y": 640,
        "wires": [],
        "l": true
    },
    {
        "id": "512193e6.d6e98c",
        "type": "link out",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Nuit",
        "mode": "link",
        "links": [
            "18da1d4d.164223"
        ],
        "x": 270,
        "y": 680,
        "wires": [],
        "l": true
    },
    {
        "id": "eaabc1ca.35b56",
        "type": "subflow:770255e9.0155ec",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "",
        "env": [],
        "x": 290,
        "y": 600,
        "wires": []
    },
    {
        "id": "b883bd9d.4e36e",
        "type": "inject",
        "z": "f1a202e8.6987c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1580,
        "y": 200,
        "wires": [
            [
                "84d4b950.864038"
            ]
        ]
    },
    {
        "id": "b67b7feb.baf81",
        "type": "inject",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Set Reveil",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 20 * * 5,0",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 950,
        "y": 60,
        "wires": [
            [
                "3def507a.f86fb"
            ]
        ]
    },
    {
        "id": "8dd51851.82fdf8",
        "type": "inject",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "44 05 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 440,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "27aaca71.21e1c6",
        "type": "inject",
        "z": "f1a202e8.6987c",
        "name": "5:30",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "30 05 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 110,
        "y": 1120,
        "wires": [
            [
                "4fba27f1.280f08"
            ]
        ]
    },
    {
        "id": "f25e9d9e.2cf0e",
        "type": "inject",
        "z": "f1a202e8.6987c",
        "name": "23:30",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "30 23 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "off",
        "payloadType": "str",
        "x": 110,
        "y": 1180,
        "wires": [
            [
                "4fba27f1.280f08"
            ]
        ]
    },
    {
        "id": "45df0521.10910c",
        "type": "comment",
        "z": "f1a202e8.6987c",
        "name": "Gestion boiler Cuisine______________________________________________________",
        "info": "",
        "x": 330,
        "y": 1080,
        "wires": []
    },
    {
        "id": "24204b0d.9b5c14",
        "type": "delay",
        "z": "f1a202e8.6987c",
        "name": "Timer",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 370,
        "y": 1300,
        "wires": [
            [
                "aa6e1609.57c338"
            ]
        ]
    },
    {
        "id": "65b6f159.4103d",
        "type": "function",
        "z": "f1a202e8.6987c",
        "name": "Var Humidity2 & calcul",
        "func": "\nif (msg.payload >= msg.humidity1*1.2) {\n    return msg\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 680,
        "y": 1300,
        "wires": [
            [
                "7be50675.6b54d8"
            ],
            []
        ]
    },
    {
        "id": "d50a5f96.de44b",
        "type": "change",
        "z": "f1a202e8.6987c",
        "name": "humidity1",
        "rules": [
            {
                "t": "set",
                "p": "humidity1",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 1300,
        "wires": [
            [
                "24204b0d.9b5c14"
            ]
        ]
    },
    {
        "id": "6c718a26.bf86b4",
        "type": "delay",
        "z": "f1a202e8.6987c",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 670,
        "y": 1360,
        "wires": [
            [
                "c48a6405.66ac08"
            ]
        ]
    },
    {
        "id": "af570a0f.aa09b8",
        "type": "delay",
        "z": "f1a202e8.6987c",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "15",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 1140,
        "y": 1300,
        "wires": [
            [
                "44f27aa3.e95264"
            ]
        ]
    },
    {
        "id": "62c02212.d8338c",
        "type": "delay",
        "z": "f1a202e8.6987c",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "15",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 1140,
        "y": 1362,
        "wires": [
            [
                "e0a84255.ea561"
            ]
        ]
    },
    {
        "id": "9bda70ac.fea25",
        "type": "comment",
        "z": "f1a202e8.6987c",
        "name": "Gestion buée SDB______________________________________________________",
        "info": "",
        "x": 320,
        "y": 1260,
        "wires": []
    },
    {
        "id": "8ebf22ef.bb5ad",
        "type": "link out",
        "z": "f1a202e8.6987c",
        "name": "",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 1435,
        "y": 1340,
        "wires": []
    },
    {
        "id": "44f27aa3.e95264",
        "type": "change",
        "z": "f1a202e8.6987c",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_gh_mini_sdb",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Démarrage du désambuage",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 1300,
        "wires": [
            [
                "8ebf22ef.bb5ad"
            ]
        ]
    },
    {
        "id": "e0a84255.ea561",
        "type": "change",
        "z": "f1a202e8.6987c",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_gh_mini_sdb",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Arret du désambuage",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 1360,
        "wires": [
            [
                "8ebf22ef.bb5ad"
            ]
        ]
    },
    {
        "id": "1fa045a02039297f",
        "type": "inject",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 410,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "271bbc0ddab81578",
        "type": "link call",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Désarmer",
        "links": [
            "f00a7c8667e77272"
        ],
        "timeout": "30",
        "x": 440,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "cb934cad168039a3",
        "type": "link out",
        "z": "f1a202e8.6987c",
        "name": "Notif out",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 960,
        "y": 880,
        "wires": [],
        "l": true
    },
    {
        "id": "690526e386d3e8fa",
        "type": "change",
        "z": "f1a202e8.6987c",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_salon",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Mode canicule activé",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 880,
        "wires": [
            [
                "cb934cad168039a3"
            ]
        ]
    },
    {
        "id": "9c22adc2.4661d",
        "type": "schedex",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Trigger at time",
        "passthroughunhandled": false,
        "suspended": false,
        "lat": "",
        "lon": "",
        "ontime": "6:30",
        "ontopic": "",
        "onpayload": "on",
        "onoffset": 0,
        "onrandomoffset": 0,
        "offtime": "12:00",
        "offtopic": "",
        "offpayload": "off",
        "offoffset": "60",
        "offrandomoffset": 0,
        "mon": true,
        "tue": true,
        "wed": true,
        "thu": true,
        "fri": true,
        "sat": true,
        "sun": true,
        "x": 320,
        "y": 280,
        "wires": [
            [
                "fae87fcb.5a66"
            ]
        ]
    },
    {
        "id": "32259a9e.f65d76",
        "type": "time-inject",
        "z": "f1a202e8.6987c",
        "g": "ec77e8f6.b62408",
        "name": "semaine",
        "nameInt": "⏲ sunrise start↶[Mon-Fri] = timestamp",
        "positionConfig": "fa3f205e.4c762",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "",
                "vt": "date",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": "",
                "months": "",
                "onlyOddDays": false,
                "onlyEvenDays": false,
                "onlyOddWeeks": false,
                "onlyEvenWeeks": false
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": "",
                "months": "",
                "onlyOddDays": false,
                "onlyEvenDays": false,
                "onlyOddWeeks": false,
                "onlyEvenWeeks": false
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "sunriseStart",
        "timeType": "pdsTime",
        "offset": "-45",
        "offsetType": "num",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "1,2,3,4,5",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeOnlyOddWeeks": false,
        "timeOnlyEvenWeeks": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltOnlyOddWeeks": false,
        "timeAltOnlyEvenWeeks": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 1600,
        "y": 60,
        "wires": [
            [
                "118d8233.a3164e"
            ]
        ]
    },
    {
        "id": "12dc46e0.23cb59",
        "type": "time-inject",
        "z": "f1a202e8.6987c",
        "g": "ec77e8f6.b62408",
        "name": "we",
        "nameInt": "⏲ sunrise start[Sat,Sun] = timestamp",
        "positionConfig": "fa3f205e.4c762",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "",
                "vt": "date",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": "",
                "months": "",
                "onlyOddDays": false,
                "onlyEvenDays": false
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": "",
                "months": "",
                "onlyOddDays": false,
                "onlyEvenDays": false
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "sunriseStart",
        "timeType": "pdsTime",
        "offset": "0",
        "offsetType": "num",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "6,0",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 1590,
        "y": 120,
        "wires": [
            [
                "118d8233.a3164e"
            ]
        ]
    },
    {
        "id": "3def507a.f86fb",
        "type": "weekday",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "",
        "sun": false,
        "mon": true,
        "tue": true,
        "wed": true,
        "thu": true,
        "fri": true,
        "sat": false,
        "x": 1160,
        "y": 60,
        "wires": [
            [
                "bb7f261c.00dae8"
            ],
            [
                "1a046b62.dead85"
            ]
        ]
    },
    {
        "id": "e9231b3.c2c56e8",
        "type": "zigbee2mqtt-out",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Spot Lidl Salon 1",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Spot Lidl Salon 1 (HG06106A)",
        "device_id": "0x842e14fffe125429",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "on",
        "payloadType": "z2m_payload",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 1190,
        "y": 380,
        "wires": []
    },
    {
        "id": "4fba27f1.280f08",
        "type": "zigbee2mqtt-out",
        "z": "f1a202e8.6987c",
        "name": "Boiler C",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Prise Boiler Cuis (ZNCZ02LM)",
        "device_id": "0x00158d0003531fc3",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 300,
        "y": 1140,
        "wires": []
    },
    {
        "id": "6e46c151.a24bf",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Alarm",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "alarm_control_panel",
        "service": "alarm_disarm",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "alarm_control_panel.home_alarm"
        ],
        "data": "{\"code\":\"3521\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 650,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "af0c308f.b7f1f",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "name": "Descendre Volets",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.volet_bureau",
            "cover.volet_salon_full",
            "cover.volet_sdb"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 330,
        "y": 840,
        "wires": [
            [
                "e63e5e74.60ed9"
            ]
        ]
    },
    {
        "id": "865bfd9f.4d138",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "name": "StopVolets",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "stop_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.volet_bureau",
            "cover.volet_salon_full",
            "cover.volet_sdb",
            "cover.volet_stelio"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 650,
        "y": 840,
        "wires": [
            [
                "25aa0b85.9741e4"
            ]
        ]
    },
    {
        "id": "bbbe1b0d.e72ff8",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "name": "Descendre Volets",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.volet_bureau",
            "cover.volet_salon_full",
            "cover.volet_sdb",
            "cover.volet_stelio"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 510,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "a656ebd0.6ff898",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Mode Jour",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.mode_ambiance"
        ],
        "data": "{\"option\":\"Jour\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 950,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "dad84cc9.2b001",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Descendre Volets",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.volet_salon_full",
            "cover.volet_sdb",
            "cover.volet_bureau",
            "cover.volet_stelio"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 710,
        "y": 380,
        "wires": [
            [
                "7a9da41.38e4f5c"
            ]
        ]
    },
    {
        "id": "23c0a06d.fefca",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Buffet",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "{{ service }}",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.buffet"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 810,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "84d4b950.864038",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "name": "Stop Nesthub",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "media_stop",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1680,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "bb7f261c.00dae8",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Off Reveil",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm_clock_status"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1360,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "1a046b62.dead85",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "On Reveil",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm_clock_status"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1360,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "118d8233.a3164e",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "ec77e8f6.b62408",
        "name": "Monter Volets",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.volet_bureau",
            "cover.volet_salon_full",
            "cover.volet_sdb"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1780,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "c744af9a.85d0e",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Level 20%",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "volume_set",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.nesthub"
        ],
        "data": "{\"volume_level\":\"0.2\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1170,
        "y": 280,
        "wires": [
            [
                "1af16578.f5323b"
            ]
        ]
    },
    {
        "id": "1af16578.f5323b",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Spotify Jona",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "spotcast",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.nesthub"
        ],
        "data": "{\"uri\":\"spotify:playlist:3oG4m6ZkIdU2rnMXM8hEgS\",\"random_song\":\"true\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1370,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "25b5d131.4b44ae",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Allume chaudière",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7be50675.6b54d8",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "name": "Allume desambuage",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.antibuee_sdb"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 900,
        "y": 1300,
        "wires": [
            [
                "6c718a26.bf86b4",
                "af570a0f.aa09b8"
            ]
        ]
    },
    {
        "id": "c48a6405.66ac08",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "name": "Eteint desambuage",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.antibuee_sdb"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 910,
        "y": 1360,
        "wires": [
            [
                "62c02212.d8338c"
            ]
        ]
    },
    {
        "id": "17c00b9d.c0e704",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Telephone",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "{{ service }}",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.telephone"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "32f8e08a05642995",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "name": "Monter Volets",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.volet_bureau",
            "cover.volet_salon_full",
            "cover.volet_sdb"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 880,
        "wires": [
            [
                "690526e386d3e8fa"
            ]
        ]
    },
    {
        "id": "a413b73c.9bc8b8",
        "type": "api-current-state",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Reveil On?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.alarm_clock_status",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "c744af9a.85d0e"
            ],
            []
        ]
    },
    {
        "id": "7de0c191.9dc65",
        "type": "api-current-state",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Mode vacances off?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Vacances",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 720,
        "y": 280,
        "wires": [
            [
                "6e46c151.a24bf",
                "a656ebd0.6ff898",
                "a413b73c.9bc8b8"
            ],
            []
        ]
    },
    {
        "id": "dcb2504f.2a593",
        "type": "api-current-state",
        "z": "f1a202e8.6987c",
        "name": "Mode vacances on?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Vacances",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 280,
        "y": 1020,
        "wires": [
            [
                "bbbe1b0d.e72ff8"
            ],
            []
        ]
    },
    {
        "id": "aa6e1609.57c338",
        "type": "api-current-state",
        "z": "f1a202e8.6987c",
        "name": "humidity2",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.temp_sdb_humidity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 500,
        "y": 1300,
        "wires": [
            [
                "65b6f159.4103d"
            ]
        ]
    },
    {
        "id": "11d9ba56.d644a6",
        "type": "server-state-changed",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Mode Ambiance",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_select.mode_ambiance",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 560,
        "wires": [
            [
                "c4b54d66.9639b"
            ]
        ]
    },
    {
        "id": "edc583cf.5382f",
        "type": "server-state-changed",
        "z": "f1a202e8.6987c",
        "d": true,
        "name": "Humidité",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.temp_sdb_humidity",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 1300,
        "wires": [
            [
                "d50a5f96.de44b"
            ]
        ]
    },
    {
        "id": "c79d5d7c9cbf8adf",
        "type": "server-state-changed",
        "z": "f1a202e8.6987c",
        "name": "NsPanel R2",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "switch.nspanel_dev_relay_2",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 860,
        "wires": [
            [
                "af0c308f.b7f1f"
            ],
            [
                "32f8e08a05642995"
            ]
        ]
    },
    {
        "id": "32e8a156d06b7942",
        "type": "zigbee2mqtt-out",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Spot Lidl Salon 2",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Spot Lidl Salon 2 (HG06106A)",
        "device_id": "0x842e14fffe9e2110",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "on",
        "payloadType": "z2m_payload",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 1190,
        "y": 420,
        "wires": []
    },
    {
        "id": "4c05e45fc1503cae",
        "type": "zigbee2mqtt-out",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Spot Lidl Salon 3",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Spot Lidl Salon 3 (HG06106A)",
        "device_id": "0x588e81fffeef3f7c",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "on",
        "payloadType": "z2m_payload",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 1190,
        "y": 460,
        "wires": []
    },
    {
        "id": "5ab8b46f.6c582c",
        "type": "server-state-changed",
        "z": "f1a202e8.6987c",
        "g": "5531669a.697438",
        "name": "Wake up time input",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.alarm_clock_time_long",
        "entityidfiltertype": "substring",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 200,
        "wires": [
            [
                "ff460633.36f108"
            ]
        ]
    },
    {
        "id": "403d332637fac155",
        "type": "api-call-service",
        "z": "f1a202e8.6987c",
        "g": "22d3e8bf.c3c6f8",
        "name": "Hue",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.hue_color_spot_1",
            "light.hue_color_spot_2",
            "light.hue_color_spot_3",
            "light.hue_color_spot_4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1170,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "727ba882.fab928",
        "type": "link in",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "Alerte Incendie Out",
        "links": [
            "22ae15ea.cffc0a"
        ],
        "x": 1110,
        "y": 140,
        "wires": [
            [
                "6af3be7e.4f417"
            ]
        ],
        "l": true
    },
    {
        "id": "51eca803.208d88",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "Telegram",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "telegram_jona",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "On sonne à la porte",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1540,
        "y": 120,
        "wires": [
            [
                "cf949bb.d214768"
            ]
        ]
    },
    {
        "id": "6c8c1a67.de1a54",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "awtrix",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "awtrix",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "On sonne à la porte",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 160,
        "wires": [
            [
                "cf949bb.d214768"
            ]
        ]
    },
    {
        "id": "4dd0ab40.7420c4",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_100_gh_salon",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Alerte Incendie",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 80,
        "wires": [
            [
                "cf949bb.d214768"
            ]
        ]
    },
    {
        "id": "cf949bb.d214768",
        "type": "link out",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "Notif out",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 1740,
        "y": 140,
        "wires": [],
        "l": true
    },
    {
        "id": "a506d1c8.b920e",
        "type": "function",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_alarme\";\nmsg.message = \"Alerte Incendie\"\nmsg.embeds_title = \"Attention fumée\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"https://i.imgur.com/OqESt0b.jpg\";\nmsg.embeds_thumbnail = \"https://www.pinclipart.com/picdir/middle/281-2813329_tux-facteur-clipart.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"1DBBFF\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1550,
        "y": 200,
        "wires": [
            [
                "cf949bb.d214768"
            ]
        ]
    },
    {
        "id": "44507e12.13a58",
        "type": "link in",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "Notif alerte inc ouf",
        "links": [
            "6af3be7e.4f417"
        ],
        "x": 1395,
        "y": 80,
        "wires": [
            [
                "4dd0ab40.7420c4",
                "51eca803.208d88",
                "6c8c1a67.de1a54",
                "a506d1c8.b920e"
            ]
        ]
    },
    {
        "id": "6af3be7e.4f417",
        "type": "link out",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "Notif alerte inc in",
        "links": [
            "44507e12.13a58"
        ],
        "x": 1335,
        "y": 80,
        "wires": []
    },
    {
        "id": "d174f796.680eb8",
        "type": "mqtt in",
        "z": "6abc28ed.f003a8",
        "d": true,
        "g": "5ea4b337.ab2bcc",
        "name": "Motion Cam",
        "topic": "Camera/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 1090,
        "y": 600,
        "wires": [
            [
                "b2d5b588.ce9c28"
            ]
        ]
    },
    {
        "id": "835e0bbe.e32548",
        "type": "switch",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Motion_ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1370,
        "y": 600,
        "wires": [
            [
                "e31f9362.876d6"
            ]
        ]
    },
    {
        "id": "e31f9362.876d6",
        "type": "function",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "",
        "func": "var cam = { payload: msg.topic.replace('Camera/','camera.bi_')};\nreturn cam;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 600,
        "wires": [
            [
                "62b42bba.b562a4"
            ]
        ]
    },
    {
        "id": "62b42bba.b562a4",
        "type": "function",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "get camera info",
        "func": "const camera = msg.payload;\nconst filename = '/config/www/cam_captures/' + camera + '.jpg'\nmsg.payload = {\n    camera: camera,\n    filename: filename\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 600,
        "wires": [
            [
                "55ed66d8.a78e98"
            ]
        ]
    },
    {
        "id": "55ed66d8.a78e98",
        "type": "function",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "prepare snap",
        "func": "var camera_name = msg.camera;\nconst filename = msg.payload.filename\nconst name = '/config/www/cam_captures/' + camera_name + '.jpg'\n\nmsg.payload = {\n    data: {\n        entity_id: msg.payload.camera,\n        filename: filename\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1190,
        "y": 680,
        "wires": [
            [
                "5ca7ec7a.6fe184"
            ]
        ]
    },
    {
        "id": "160ba6d.7278b59",
        "type": "function",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "prepare notifs",
        "func": "//node.warn(msg);\nconst baseUrl = \"https://hassos.dcjona.one/local/cam_captures/\";\nconst imagePath = msg.payload.data.filename;\nconst imageFilename = imagePath.split(/[\\s\\/]+/).pop();\nconst imageUrl = baseUrl + imageFilename;\nmsg.dest = \"discord_notifications;telegram_jona\";\nmsg.message = \"Alarme\"\n\n//Telegram\nmsg.image = imageUrl;\n\n//Discord\nmsg.embeds_title = \"Effraction\";\nmsg.embeds_image = imageUrl;\nmsg.embeds_footer = \"By Dcjona\";\nmsg.embeds_color = \"FF0000\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 680,
        "wires": [
            [
                "77f58c47.78ffe4"
            ]
        ]
    },
    {
        "id": "77f58c47.78ffe4",
        "type": "subflow:711f44dc.b8379c",
        "z": "6abc28ed.f003a8",
        "d": true,
        "g": "5ea4b337.ab2bcc",
        "name": "",
        "env": [],
        "x": 1730,
        "y": 680,
        "wires": []
    },
    {
        "id": "d758434e.b0ec6",
        "type": "switch",
        "z": "6abc28ed.f003a8",
        "g": "9afb718d.493d",
        "name": "true?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1210,
        "y": 80,
        "wires": [
            [
                "6af3be7e.4f417"
            ]
        ]
    },
    {
        "id": "3e55ee0a87aad251",
        "type": "debug",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1490,
        "y": 720,
        "wires": []
    },
    {
        "id": "2d05e7f1abf41f65",
        "type": "function",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "",
        "func": "let cam = msg.topic\n\ncam = cam.replace(\"binary_sensor.\",\"Caméra \");\nobjet = cam.split('_');\nobjet = objet[1]\ncam = cam.replace('_' + objet + '_motion', '');\nmsg.payload = cam + \" a détecté : \" + objet;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 720,
        "wires": [
            [
                "3e55ee0a87aad251"
            ]
        ]
    },
    {
        "id": "a70eeae05b5aea4b",
        "type": "mqtt out",
        "z": "6abc28ed.f003a8",
        "name": "",
        "topic": "alarmo/command",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 790,
        "y": 60,
        "wires": []
    },
    {
        "id": "9fdabc8f7e8082e9",
        "type": "mqtt in",
        "z": "6abc28ed.f003a8",
        "g": "cb3057f3e5080ce3",
        "name": "",
        "topic": "alarmo/event",
        "qos": "2",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 150,
        "y": 300,
        "wires": [
            [
                "2b1fab8ff8a48680"
            ]
        ]
    },
    {
        "id": "2b1fab8ff8a48680",
        "type": "json",
        "z": "6abc28ed.f003a8",
        "g": "cb3057f3e5080ce3",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "975dc9f66d98ed83"
            ]
        ]
    },
    {
        "id": "975dc9f66d98ed83",
        "type": "switch",
        "z": "6abc28ed.f003a8",
        "g": "cb3057f3e5080ce3",
        "name": "event",
        "property": "payload.event",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "FAILED_TO_ARM",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "TRIGGER",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ARM_AWAY",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 410,
        "y": 300,
        "wires": [
            [
                "b5091d5212a71a8a"
            ],
            [
                "8686df4b89a6de13"
            ],
            [
                "08321701017ef81f"
            ]
        ]
    },
    {
        "id": "f8197256168272d2",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "0b27e68a463c22e0",
        "name": "Désarmer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command\":\"disarm\",\"code\":\"3521\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 60,
        "wires": [
            [
                "a70eeae05b5aea4b",
                "a057cfa4c9028844"
            ]
        ]
    },
    {
        "id": "f00a7c8667e77272",
        "type": "link in",
        "z": "6abc28ed.f003a8",
        "g": "0b27e68a463c22e0",
        "name": "Alarm Off In",
        "links": [
            "b1df8b44.c7d148",
            "c45c16f1.cbb798"
        ],
        "x": 150,
        "y": 60,
        "wires": [
            [
                "f8197256168272d2"
            ]
        ],
        "l": true
    },
    {
        "id": "e979f42820fb2461",
        "type": "link in",
        "z": "6abc28ed.f003a8",
        "g": "e8fad96c304ee70f",
        "name": "Check Capteurs out",
        "links": [
            "cb8c8649.46eea8",
            "d852843b.1e97b8",
            "ef44ba97.952898",
            "a7e9ec54d33405d8",
            "e218c78833b1311c"
        ],
        "x": 170,
        "y": 160,
        "wires": [
            [
                "419c62449c2f2dfe"
            ]
        ],
        "l": true
    },
    {
        "id": "a71d499024b02988",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "e8fad96c304ee70f",
        "name": "Armer Absent",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command\":\"arm_away\",\"code\":\"3521\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 200,
        "wires": [
            [
                "a70eeae05b5aea4b",
                "141c74652179e87c"
            ]
        ]
    },
    {
        "id": "289b8033bce72f0f",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "e8fad96c304ee70f",
        "name": "Armer Nuit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command\":\"arm_home\",\"code\":\"3521\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 160,
        "wires": [
            [
                "a70eeae05b5aea4b"
            ]
        ]
    },
    {
        "id": "b5091d5212a71a8a",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "fb930c5a15eda4b7",
        "name": "quel capteur?",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.sensors[0].name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 300,
        "wires": [
            [
                "594ae84fa8ee17ba"
            ]
        ]
    },
    {
        "id": "594ae84fa8ee17ba",
        "type": "template",
        "z": "6abc28ed.f003a8",
        "g": "fb930c5a15eda4b7",
        "name": "Création Msg",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " {{{payload}}} semble ouverte merci de vérifier son état",
        "output": "str",
        "x": 830,
        "y": 300,
        "wires": [
            [
                "b5abcf9b28b062ab",
                "32c2a1af6815b986"
            ]
        ]
    },
    {
        "id": "b5abcf9b28b062ab",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "bec07b1174c81ee8",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_garage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 300,
        "wires": [
            [
                "6c6477c49352dc80"
            ]
        ]
    },
    {
        "id": "32c2a1af6815b986",
        "type": "delay",
        "z": "6abc28ed.f003a8",
        "g": "bec07b1174c81ee8",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 380,
        "wires": [
            [
                "831259707a84d6fc"
            ]
        ]
    },
    {
        "id": "8686df4b89a6de13",
        "type": "change",
        "z": "6abc28ed.f003a8",
        "g": "98198cf891c2ace2",
        "name": "60 sec pour désactiver",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Vous avez 60 secondes pour désactiver l alarme",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 400,
        "wires": [
            [
                "b5abcf9b28b062ab",
                "32c2a1af6815b986",
                "133419cd7a61082f"
            ]
        ]
    },
    {
        "id": "133419cd7a61082f",
        "type": "delay",
        "z": "6abc28ed.f003a8",
        "g": "067203cde61e34b0",
        "name": "",
        "pauseType": "delay",
        "timeout": "65",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 480,
        "wires": [
            [
                "5b1ca58a93748c9d"
            ]
        ]
    },
    {
        "id": "4ed17faf1b2a2c57",
        "type": "subflow:39624737.4b1738",
        "z": "6abc28ed.f003a8",
        "g": "067203cde61e34b0",
        "name": "Alarme",
        "env": [],
        "x": 1340,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "6c6477c49352dc80",
        "type": "subflow:711f44dc.b8379c",
        "z": "6abc28ed.f003a8",
        "g": "bec07b1174c81ee8",
        "name": "",
        "env": [],
        "x": 1310,
        "y": 300,
        "wires": []
    },
    {
        "id": "c1e8e03b.e59ee",
        "type": "zigbee2mqtt-in",
        "z": "6abc28ed.f003a8",
        "d": true,
        "g": "9afb718d.493d",
        "name": "Detect Gar",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "",
        "device_id": [],
        "state": null,
        "outputAtStartup": false,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 1080,
        "y": 80,
        "wires": [
            [
                "d758434e.b0ec6"
            ]
        ]
    },
    {
        "id": "5ca7ec7a.6fe184",
        "type": "api-call-service",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "Snapshot",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": true,
        "domain": "camera",
        "service": "snapshot",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1360,
        "y": 680,
        "wires": [
            [
                "160ba6d.7278b59"
            ]
        ]
    },
    {
        "id": "831259707a84d6fc",
        "type": "api-call-service",
        "z": "6abc28ed.f003a8",
        "g": "bec07b1174c81ee8",
        "name": "GW Off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.gateway_light_04cf8c913a93"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1300,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "08321701017ef81f",
        "type": "api-call-service",
        "z": "6abc28ed.f003a8",
        "g": "b469cb58f322bf8d",
        "name": "GW On RED",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"rgb_color\":[205,24,24]}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 610,
        "y": 500,
        "wires": [
            [
                "32c2a1af6815b986"
            ]
        ]
    },
    {
        "id": "6c9cac2d9da909b6",
        "type": "api-call-service",
        "z": "6abc28ed.f003a8",
        "g": "bdbdf04ba46f69a3",
        "name": "Trappe",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.rappe"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 280,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "b2d5b588.ce9c28",
        "type": "api-current-state",
        "z": "6abc28ed.f003a8",
        "g": "5ea4b337.ab2bcc",
        "name": "Armée?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "disarmed",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "alarm_control_panel.home_alarm",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "statut",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 1240,
        "y": 600,
        "wires": [
            [],
            [
                "835e0bbe.e32548"
            ]
        ]
    },
    {
        "id": "419c62449c2f2dfe",
        "type": "api-current-state",
        "z": "6abc28ed.f003a8",
        "g": "e8fad96c304ee70f",
        "name": "Mode?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nuit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 160,
        "wires": [
            [
                "289b8033bce72f0f"
            ],
            [
                "a71d499024b02988"
            ]
        ]
    },
    {
        "id": "5b1ca58a93748c9d",
        "type": "api-current-state",
        "z": "6abc28ed.f003a8",
        "g": "067203cde61e34b0",
        "name": "Statut",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "triggered",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "alarm_control_panel.alarmo",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1210,
        "y": 480,
        "wires": [
            [
                "4ed17faf1b2a2c57"
            ],
            []
        ]
    },
    {
        "id": "34535e05b45226ae",
        "type": "server-state-changed",
        "z": "6abc28ed.f003a8",
        "d": true,
        "g": "5ea4b337.ab2bcc",
        "name": "Cameras sensor",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.*_*_motion",
        "entityidfiltertype": "regex",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1120,
        "y": 720,
        "wires": [
            [
                "2d05e7f1abf41f65"
            ],
            []
        ]
    },
    {
        "id": "06bf762192c56c4d",
        "type": "ha-tag",
        "z": "6abc28ed.f003a8",
        "g": "bdbdf04ba46f69a3",
        "name": "",
        "server": "5261c37d2408eef8",
        "version": 1,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "tags": [
            "__ALL_TAGS__"
        ],
        "devices": [],
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 500,
        "wires": [
            [
                "6c9cac2d9da909b6"
            ]
        ]
    },
    {
        "id": "a057cfa4c9028844",
        "type": "subflow:d6013eec.a94ed",
        "z": "6abc28ed.f003a8",
        "name": "Disarmed",
        "env": [],
        "x": 760,
        "y": 20,
        "wires": []
    },
    {
        "id": "141c74652179e87c",
        "type": "subflow:5e7c5319.89a77c",
        "z": "6abc28ed.f003a8",
        "name": "Armed Away",
        "env": [],
        "x": 770,
        "y": 200,
        "wires": []
    },
    {
        "id": "411a1a06.a2ba04",
        "type": "mqtt in",
        "z": "fd9f1c1.a5554e",
        "g": "61c30ffd.1ff36",
        "name": "Sonoff Bridge",
        "topic": "Maison/sonoff_bridge_ext/RESULT",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 110,
        "y": 140,
        "wires": [
            [
                "2cd52b4ff0be2af0"
            ]
        ]
    },
    {
        "id": "c6cffe61.013b1",
        "type": "json",
        "z": "fd9f1c1.a5554e",
        "g": "61c30ffd.1ff36",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 270,
        "y": 280,
        "wires": [
            [
                "6438d432.8fdfec"
            ]
        ]
    },
    {
        "id": "6438d432.8fdfec",
        "type": "switch",
        "z": "fd9f1c1.a5554e",
        "g": "61c30ffd.1ff36",
        "name": "",
        "property": "payload.RfReceived.Data",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "D568E4",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "D568E2",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "D568E1",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "D568E8",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "FC37A1",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "FC37A2",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "0F0863",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "B79FA2",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "B79FA4",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "4B9944",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "4B9941",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "A845E1",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "A845E4",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "A236FE",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "AA45E2",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "AA45E4",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "55CBD2",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "55CBD8",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "238F02",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 19,
        "x": 410,
        "y": 280,
        "wires": [
            [
                "f3b2975f.913b58"
            ],
            [
                "f3b2975f.913b58"
            ],
            [],
            [],
            [
                "9189fa3.ccee608",
                "eb90fb8cbd14eef0"
            ],
            [
                "b1df8b44.c7d148",
                "eb90fb8cbd14eef0"
            ],
            [
                "22ae15ea.cffc0a"
            ],
            [
                "f3b2975f.913b58"
            ],
            [
                "f3b2975f.913b58"
            ],
            [
                "f3b2975f.913b58"
            ],
            [
                "f3b2975f.913b58"
            ],
            [
                "f3b2975f.913b58"
            ],
            [
                "f3b2975f.913b58"
            ],
            [
                "5048c56d.b3840c"
            ],
            [
                "f3b2975f.913b58"
            ],
            [
                "f3b2975f.913b58"
            ],
            [],
            [],
            [
                "b1df8b44.c7d148"
            ]
        ],
        "outputLabels": [
            "Telco blanche Alarm On",
            "Telco blanche Alarm Off",
            "Telco blanche btn 3",
            "Telco blanche btn 4",
            "Telco Papa on",
            "Telco Papa off",
            "kerui incendie",
            "kerui new alarm off",
            "kerui new alarm on",
            "Silver/black A",
            "Silver/black B",
            "mini long B",
            "mini long C",
            "BAL",
            "mini long noir btn blanc 4",
            "mini long noir btn blanc 3",
            "rf433 glass 1",
            "rf433 glass 2",
            "Kerui sonnette"
        ]
    },
    {
        "id": "22ae15ea.cffc0a",
        "type": "link out",
        "z": "fd9f1c1.a5554e",
        "name": "Alerte Incendie Out",
        "links": [
            "727ba882.fab928"
        ],
        "x": 730,
        "y": 560,
        "wires": [],
        "l": true
    },
    {
        "id": "9189fa3.ccee608",
        "type": "link out",
        "z": "fd9f1c1.a5554e",
        "g": "65d645b.a57d1bc",
        "name": "Alarm On Out",
        "links": [
            "e078aa50.e5c808",
            "d4862d6f5f1ef5a9",
            "829c81b0260784bc"
        ],
        "x": 740,
        "y": 320,
        "wires": [],
        "inputLabels": [
            "Alarm On"
        ],
        "l": true
    },
    {
        "id": "b1df8b44.c7d148",
        "type": "link out",
        "z": "fd9f1c1.a5554e",
        "g": "65d645b.a57d1bc",
        "name": "Alarm Off Out",
        "links": [
            "f55dbbd6.1c7748",
            "f00a7c8667e77272",
            "a6b453d5e5be2e07",
            "196b01a3084a84ae"
        ],
        "x": 740,
        "y": 360,
        "wires": [],
        "inputLabels": [
            "Alarm On"
        ],
        "l": true
    },
    {
        "id": "f6af11d9.f01dd",
        "type": "inject",
        "z": "fd9f1c1.a5554e",
        "g": "f57f6f98.777c3",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 770,
        "y": 120,
        "wires": [
            [
                "85a1a30d.5e179"
            ]
        ]
    },
    {
        "id": "85a1a30d.5e179",
        "type": "function",
        "z": "fd9f1c1.a5554e",
        "g": "f57f6f98.777c3",
        "name": "Config Exemple",
        "func": "var configuration = \n{\n    \"discord\": {\n        \"dest\": {\n            \"discord_general\": \"https://discordapp.com/api/webhooks/739857960611872768/j19ek1GV7fkj-23kOO-4WFFJW2O1rEkyjWHyzmkpEkwrGDv_pIfl8pf4-5JgJWWoNdak\",\n            \"discord_alarme\": \"https://discordapp.com/api/webhooks/739874207898533959/vnTsoXl9PJvCc7LhG8BIPbfAemTG66eKeOZKVv4jVBJnfJHmONTIUsVnaeN-iZqvPa_r\",\n            \"discord_notifications\": \"https://discordapp.com/api/webhooks/739858050642608210/kxt2_X6h98Y-tkeL9wBfDiZaa7HquPNKSaiXj2Dmih6eXUTG_WAb9Po2FU7h4Ch3vfUy\",\n            \"discord_network\": \"https://discordapp.com/api/webhooks/739874335778668614/yf09MqEGNxQ0mxb4j5NNmEn6Fu5h-eJLpYJToEsEw0F-FVITPriq_nZJT36qYSYYLen_\",\n        }\n    },\n    \"home_assistant\": {\n        \"dest\": {\n            \"tel_jona\": \"mobile_app_mi11tpro\"\n        }\n    },\n    \"email\": {\n        \"dest\": {\n            \"mail_jona\": \"jonathan.delcont@live.be\"\n        }\n    },\n    \"telegram\": {\n        \"dest\": {\n            \"telegram_jona\": \"5077529871\",\n        }\n    },\n    \"mattermost\": {\n        \"dest\": {\n            \"mattermost_home\" : \"https://mattermost.domain.fr/hooks/XXXXXXXXXXXXXXXXXXXXXXXXX\",\n            \"mattermost_volets\" : \"https://mattermost.domain.fr/hooks/YYYYYYYYYYYYYYYYYYYYYYYY\",\n        }\n    }\n\n}\nglobal.set(\"notif\",configuration);\nglobal.set(\"lampe_carport\",2);\nglobal.set(\"lampe_garage\",2)",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "eac29933.ad61e8",
        "type": "comment",
        "z": "fd9f1c1.a5554e",
        "g": "f57f6f98.777c3",
        "name": "Variables Globales_________",
        "info": "",
        "x": 780,
        "y": 80,
        "wires": []
    },
    {
        "id": "8b4b7470.716148",
        "type": "link out",
        "z": "fd9f1c1.a5554e",
        "name": "Gar Aliki out",
        "links": [
            "7d4d037c.178e3c",
            "8bf24650f1832383"
        ],
        "x": 710,
        "y": 520,
        "wires": [],
        "l": true
    },
    {
        "id": "f3b2975f.913b58",
        "type": "link out",
        "z": "fd9f1c1.a5554e",
        "name": "Portail out",
        "mode": "link",
        "links": [
            "925e406343ad82bc"
        ],
        "x": 720,
        "y": 440,
        "wires": [],
        "l": true
    },
    {
        "id": "5048c56d.b3840c",
        "type": "link out",
        "z": "fd9f1c1.a5554e",
        "name": "BAL out",
        "links": [
            "d49be46c.bf2978"
        ],
        "x": 700,
        "y": 480,
        "wires": [],
        "l": true
    },
    {
        "id": "5d4d457d.4cf20c",
        "type": "mqtt in",
        "z": "fd9f1c1.a5554e",
        "g": "61c30ffd.1ff36",
        "name": "sonoff_bridge_salon",
        "topic": "tele/sonoff_bridge_salon/RESULT",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 130,
        "y": 80,
        "wires": [
            [
                "2cd52b4ff0be2af0"
            ]
        ]
    },
    {
        "id": "2cd52b4ff0be2af0",
        "type": "delay",
        "z": "fd9f1c1.a5554e",
        "g": "61c30ffd.1ff36",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 160,
        "y": 220,
        "wires": [
            [
                "c6cffe61.013b1"
            ]
        ]
    },
    {
        "id": "eb90fb8cbd14eef0",
        "type": "debug",
        "z": "fd9f1c1.a5554e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.RfReceived.Data",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 240,
        "wires": []
    },
    {
        "id": "f3ba350b.3d3cf8",
        "type": "mqtt in",
        "z": "65d53490.95139c",
        "g": "626f2fe9.095fe",
        "name": "Nextion Ch",
        "topic": "Nextion_CH/NEXTION/idx",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 120,
        "y": 940,
        "wires": [
            [
                "54b19ea8.31c8e"
            ]
        ]
    },
    {
        "id": "54b19ea8.31c8e",
        "type": "switch",
        "z": "65d53490.95139c",
        "g": "626f2fe9.095fe",
        "name": "IDX",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "506",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "507",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "508",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "509",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 290,
        "y": 940,
        "wires": [
            [
                "9634b113.58cfc"
            ],
            [
                "46bbc050.e7341"
            ],
            [
                "a232715b.ebd34"
            ],
            [
                "7d060c17.51e654"
            ]
        ],
        "outputLabels": [
            "Chevet",
            "Spot Ext",
            "Led Lit",
            "Veilleuse Stelio"
        ]
    },
    {
        "id": "7d060c17.51e654",
        "type": "link out",
        "z": "65d53490.95139c",
        "g": "626f2fe9.095fe",
        "name": "nextion ch",
        "mode": "link",
        "links": [
            "9a2502d4.5ef11"
        ],
        "x": 590,
        "y": 1000,
        "wires": [],
        "l": true
    },
    {
        "id": "6001c89d.e43da8",
        "type": "switch",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "505",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1017",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1018",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1019",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1020",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "761",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "762",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "763",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "764",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "765",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "766",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "512",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1528",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 13,
        "x": 1190,
        "y": 180,
        "wires": [
            [
                "631792fa.6f43cc",
                "19546a32.db4366"
            ],
            [
                "7755dc3b.f5b6a4"
            ],
            [
                "b6047678.d8c488"
            ],
            [],
            [],
            [
                "773c2827.43d9b8"
            ],
            [
                "2087dcc4.823314"
            ],
            [
                "5b0ed2d.6b9682c"
            ],
            [
                "44e64c2d.c04cb4"
            ],
            [
                "d54f2572.264d18"
            ],
            [
                "d54f2572.264d18"
            ],
            [
                "d852843b.1e97b8"
            ],
            [
                "c45c16f1.cbb798"
            ]
        ],
        "outputLabels": [
            "",
            "",
            "",
            "",
            "",
            "volet garage ip",
            "volet garage down",
            "volet jona up",
            "volet jona down",
            "volet aliki up",
            "volet aliki down",
            "Alarm",
            ""
        ]
    },
    {
        "id": "e8ceefc4.90699",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Url Data",
        "func": "var lampe_g = global.get(\"lampe_garage\");\nvar url = \"http://192.168.100.37/control?cmd=Nextion_2.4_Intell,q0.picc=\"+lampe_g; \n\nmsg.url = url;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1540,
        "y": 480,
        "wires": [
            [
                "9e90bc2d.212d9"
            ]
        ]
    },
    {
        "id": "9e90bc2d.212d9",
        "type": "http request",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1670,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "4361dc2d.937134",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Lampe garage On",
        "func": "global.set(\"lampe_garage\",3);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1350,
        "y": 440,
        "wires": [
            [
                "e8ceefc4.90699"
            ]
        ]
    },
    {
        "id": "2982b32d.6a4bdc",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Lampe garage Off",
        "func": "global.set(\"lampe_garage\",2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1350,
        "y": 500,
        "wires": [
            [
                "e8ceefc4.90699"
            ]
        ]
    },
    {
        "id": "7755dc3b.f5b6a4",
        "type": "switch",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "",
        "property": "lampe_garage",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 440,
        "wires": [
            [
                "4361dc2d.937134",
                "88a633cb.6690f"
            ],
            [
                "2982b32d.6a4bdc",
                "69c3b2a.756a74c"
            ]
        ]
    },
    {
        "id": "1a844289.8b818d",
        "type": "switch",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 580,
        "wires": [
            [
                "4361dc2d.937134",
                "88a633cb.6690f"
            ],
            [
                "2982b32d.6a4bdc",
                "69c3b2a.756a74c"
            ]
        ]
    },
    {
        "id": "88a633cb.6690f",
        "type": "change",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Allumer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "command",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 560,
        "wires": [
            [
                "46f4af92.56cc2"
            ]
        ]
    },
    {
        "id": "69c3b2a.756a74c",
        "type": "change",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Eteindre",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "command",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 620,
        "wires": [
            [
                "46f4af92.56cc2"
            ]
        ]
    },
    {
        "id": "cc612518.46c1d8",
        "type": "comment",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Carport Soir______________________________________________________",
        "info": "",
        "x": 1140,
        "y": 660,
        "wires": []
    },
    {
        "id": "b94cecce.fb719",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Lampe carport On",
        "func": "global.set(\"lampe_carport\",3);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1290,
        "y": 800,
        "wires": [
            [
                "732de5ec.d9a65c"
            ]
        ]
    },
    {
        "id": "330fbb1a.095464",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Lampe carport Off",
        "func": "global.set(\"lampe_carport\",2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1290,
        "y": 860,
        "wires": [
            [
                "732de5ec.d9a65c"
            ]
        ]
    },
    {
        "id": "b6047678.d8c488",
        "type": "switch",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "",
        "property": "lampe_carport",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 760,
        "wires": [
            [
                "d8cbe6a4.e386b8",
                "b94cecce.fb719"
            ],
            [
                "6dd3a25.e90ab5c",
                "330fbb1a.095464"
            ]
        ]
    },
    {
        "id": "732de5ec.d9a65c",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Url Data",
        "func": "var lampe_c = global.get(\"lampe_carport\");\nvar url = \"http://192.168.100.37/control?cmd=Nextion_2.4_Intell,q1.picc=\"+lampe_c; \n\nmsg.url = url;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1500,
        "y": 840,
        "wires": [
            [
                "9e90bc2d.212d9"
            ]
        ]
    },
    {
        "id": "d852843b.1e97b8",
        "type": "link out",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Check capteurs in",
        "mode": "link",
        "links": [
            "f5232386.a16b",
            "e979f42820fb2461",
            "a888e1dc4d29f4d5",
            "3c0a6eb6f5fe61de"
        ],
        "x": 1450,
        "y": 340,
        "wires": [],
        "l": true
    },
    {
        "id": "a003ec17.59aca",
        "type": "mqtt in",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Nextion_Garage",
        "topic": "Garage/Nextion_2.4_Intell/idx",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 920,
        "y": 100,
        "wires": [
            [
                "dd8afbdb.98d058"
            ]
        ]
    },
    {
        "id": "8c3fcfe9.50f7b",
        "type": "comment",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Nextion Garage new________________________________________________",
        "info": "",
        "x": 1140,
        "y": 900,
        "wires": []
    },
    {
        "id": "15aafdcb.e32572",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Url Data",
        "func": "\nvar url = \"http://http://192.168.100.37/control?cmd=Nextion_2.4_Intell,temp.txt=\"+\"\\\"\"+msg.payload+\" C\"+\"\\\"\"; \n\nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1320,
        "y": 960,
        "wires": [
            [
                "9e90bc2d.212d9"
            ]
        ]
    },
    {
        "id": "46255461.e9dabc",
        "type": "comment",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Diffusion date et heure",
        "info": "",
        "x": 960,
        "y": 1020,
        "wires": []
    },
    {
        "id": "80299da7.cc121",
        "type": "inject",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Time 1 min",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 950,
        "y": 1080,
        "wires": [
            [
                "19546a32.db4366"
            ]
        ]
    },
    {
        "id": "bcddfe48.5feb3",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Url Time",
        "func": "var url = \"http://192.168.100.37/control?cmd=Nextion_2.4_Intell,time.txt=\"+\"\\\"\"+msg.payload+\"\\\"\"; \n\nmsg.url = url;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 1080,
        "wires": [
            [
                "9e90bc2d.212d9"
            ]
        ]
    },
    {
        "id": "f447f2a3.a8207",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Url Date",
        "func": "var url = \"192.168.100.37/control?cmd=Nextion_2.4_Intell,date.txt=\"+\"\\\"\"+msg.payload+\"\\\"\"; \n\nmsg.url = url;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1120,
        "y": 1140,
        "wires": [
            [
                "ba06087.68efcf8"
            ]
        ]
    },
    {
        "id": "ba06087.68efcf8",
        "type": "http request",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Date",
        "method": "GET",
        "ret": "txt",
        "url": "",
        "tls": "",
        "x": 1270,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "f17644df.971198",
        "type": "switch",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "arming",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "armed_home",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "armed_away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "disarmed",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 1110,
        "y": 1220,
        "wires": [
            [
                "d101516a.f91d8",
                "48484cdb.e1bd44"
            ],
            [
                "d101516a.f91d8",
                "48484cdb.e1bd44"
            ],
            [
                "d101516a.f91d8",
                "48484cdb.e1bd44"
            ],
            [
                "f4dc0da9.61341"
            ]
        ]
    },
    {
        "id": "d101516a.f91d8",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Alarm Actif",
        "func": "var url = \"http://192.168.100.37/control?cmd=Nextion_2.4_Intell,statut.txt=%22Actif%22\"; \n\nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 1200,
        "wires": [
            [
                "9e90bc2d.212d9"
            ]
        ]
    },
    {
        "id": "f4dc0da9.61341",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Alarm inactif",
        "func": "var url = \"http://192.168.100.37/control?cmd=Nextion_2.4_Intell,statut.txt=%22inactif%22\"; \n\nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1310,
        "y": 1240,
        "wires": [
            [
                "9e90bc2d.212d9",
                "57d411b8.28473"
            ]
        ]
    },
    {
        "id": "48484cdb.e1bd44",
        "type": "http request",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Alarm on",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.37/control?cmd=Nextion_2.4_Intell,alarm.picc=5",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 1660,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "c45c16f1.cbb798",
        "type": "link out",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Alarm Off out",
        "mode": "link",
        "links": [
            "f55dbbd6.1c7748",
            "f00a7c8667e77272",
            "a6b453d5e5be2e07",
            "196b01a3084a84ae"
        ],
        "x": 1430,
        "y": 380,
        "wires": [],
        "l": true
    },
    {
        "id": "57d411b8.28473",
        "type": "http request",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Alarm off",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.37/control?cmd=Nextion_2.4_Intell,alarm.picc=4",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 1660,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "244bc4e8.bbebbc",
        "type": "comment",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Porte Garage",
        "info": "",
        "x": 1370,
        "y": 60,
        "wires": []
    },
    {
        "id": "dd8afbdb.98d058",
        "type": "json",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "",
        "x": 1070,
        "y": 180,
        "wires": [
            [
                "6001c89d.e43da8"
            ]
        ]
    },
    {
        "id": "287038db.f7bcf8",
        "type": "switch",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Appui",
        "property": "payload.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single_left",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "left_double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_right",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double_right",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 1090,
        "y": 520,
        "wires": [
            [
                "69c3b2a.756a74c"
            ],
            [
                "441ed0a5728af34d"
            ],
            [
                "88a633cb.6690f"
            ],
            []
        ]
    },
    {
        "id": "7630e5a4.71c8dc",
        "type": "mqtt in",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "",
        "topic": "Salon/Nextion_Salon/idx",
        "qos": "2",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 170,
        "y": 60,
        "wires": [
            [
                "9d2fac91.275ba"
            ]
        ]
    },
    {
        "id": "9d2fac91.275ba",
        "type": "switch",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Accueil",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "501",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "502",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "503",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "504",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "505",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "506",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "507",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "508",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "509",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "511",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "512",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "514",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "515",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 13,
        "x": 140,
        "y": 200,
        "wires": [
            [
                "983470e5.1a89d"
            ],
            [
                "d57ddf0a.6e8c6"
            ],
            [],
            [
                "4556b1a.9ceeb5"
            ],
            [
                "b25c0ff1.c649a"
            ],
            [
                "1ac72dc8.8a5ef2"
            ],
            [
                "825bcbd1.282688"
            ],
            [
                "3181eedf.3c4d52"
            ],
            [
                "3980af78.4ba2f"
            ],
            [
                "57c12c0d.bebcc4"
            ],
            [
                "a872615.3b4d5a"
            ],
            [],
            [
                "8d024c9fdc13f056"
            ]
        ],
        "outputLabels": [
            "Chevre",
            "Décroché",
            "Mini Bois",
            "Hue",
            "Vintage",
            "Buffet",
            "Mode Jour",
            "Mode Soir",
            "Mode Nuit",
            "Chauffage",
            "Ilot",
            "Volet",
            "Meteo"
        ]
    },
    {
        "id": "7b435d0d.625884",
        "type": "http request",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 650,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "e49f5093.3662a",
        "type": "inject",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 740,
        "wires": [
            [
                "a6a38a3a.3ff4f8",
                "1ef9b770.a3abd9"
            ]
        ]
    },
    {
        "id": "d5e7a12f.e0cdc",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Url Data",
        "func": "\nvar url = \"http://192.168.100.34/control?cmd=Nextion,temp.txt=\"+\"\\\"\"+msg.payload+\" C\"+\"\\\"\"; \n\nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 720,
        "wires": [
            [
                "7b435d0d.625884"
            ]
        ]
    },
    {
        "id": "7cff101f.f9062",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Url Data",
        "func": "\nvar url = \"http://192.168.100.34/control?cmd=Nextion,mode.txt=\"+\"\\\"\"+msg.payload+\"\\\"\"; \n\nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 760,
        "wires": [
            [
                "7b435d0d.625884"
            ]
        ]
    },
    {
        "id": "432305fe.05b22c",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "",
        "func": "var status=global.get('light.yeelight-buffet.status');\n//node.warn(\"status is = \" +status);\nif(status==\"on\")\n{\n    msg.payload=\"off\";\n    return msg;\n}\nif(status==\"off\")\n{\n    msg.payload=\"on\";\n    return msg;\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 260,
        "wires": [
            [
                "33d5f98d.7c22f6"
            ]
        ]
    },
    {
        "id": "33d5f98d.7c22f6",
        "type": "mqtt out",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Buffet",
        "topic": "Maison/light/yeelight-buffet/status/set",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 650,
        "y": 260,
        "wires": []
    },
    {
        "id": "a191745d.c65c58",
        "type": "change",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Toggle",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "toggle",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 220,
        "wires": [
            [
                "b7f423b7.04ca1"
            ]
        ]
    },
    {
        "id": "b7f423b7.04ca1",
        "type": "mqtt out",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "vintage",
        "topic": "Maison/sonoff_basic/switch/sonoff_basic_relay/command",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 640,
        "y": 220,
        "wires": []
    },
    {
        "id": "d57ddf0a.6e8c6",
        "type": "change",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Toggle",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "toggle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "command",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 100,
        "wires": [
            [
                "a0a8d5e3.fcb518"
            ]
        ]
    },
    {
        "id": "57c12c0d.bebcc4",
        "type": "link out",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Chauffage out",
        "links": [
            "20d4f0b8.528e7"
        ],
        "x": 440,
        "y": 420,
        "wires": [],
        "l": true
    },
    {
        "id": "494c4894.f4bea8",
        "type": "inject",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "5:30",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "30 05 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 330,
        "y": 560,
        "wires": [
            [
                "9e11d1ba.45b8a"
            ]
        ]
    },
    {
        "id": "983470e5.1a89d",
        "type": "change",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "toggle",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "toggle",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 60,
        "wires": [
            [
                "70623a5.112e1c4"
            ]
        ]
    },
    {
        "id": "c201a0ed.258a3",
        "type": "delay",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 500,
        "y": 500,
        "wires": [
            [
                "ec3ef16e.27b2a"
            ]
        ]
    },
    {
        "id": "5ecfcbfb.47a154",
        "type": "inject",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 140,
        "y": 660,
        "wires": [
            [
                "4a5c78c0.ba5358"
            ]
        ]
    },
    {
        "id": "4a5c78c0.ba5358",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Nextion Salon Sleep",
        "func": "var url = \"http://192.168.100.34/control?cmd=Nextion_Salon,sleep=1\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 361,
        "y": 660,
        "wires": [
            [
                "7b435d0d.625884"
            ]
        ]
    },
    {
        "id": "b77196b9.25e2a8",
        "type": "function",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Nextion Salon wake up",
        "func": "var url = \"http://192.168.100.34/control?cmd=Nextion_Salon,sleep=0\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 600,
        "wires": [
            [
                "7b435d0d.625884"
            ]
        ]
    },
    {
        "id": "f3dd4d0a.02579",
        "type": "inject",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 140,
        "y": 600,
        "wires": [
            [
                "b77196b9.25e2a8"
            ]
        ]
    },
    {
        "id": "8187bc8f.94a51",
        "type": "moment",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Date",
        "topic": "",
        "input": "",
        "inputType": "date",
        "inTz": "Europe/Paris",
        "adjAmount": "0",
        "adjType": "hours",
        "adjDir": "add",
        "format": "DD/MM",
        "locale": "fr_FR",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/Paris",
        "x": 970,
        "y": 1140,
        "wires": [
            [
                "f447f2a3.a8207"
            ]
        ]
    },
    {
        "id": "19546a32.db4366",
        "type": "moment",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Time",
        "topic": "",
        "input": "",
        "inputType": "date",
        "inTz": "Europe/Paris",
        "adjAmount": "0",
        "adjType": "hours",
        "adjDir": "add",
        "format": "HH:mm",
        "locale": "en",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Paris",
        "x": 1150,
        "y": 1080,
        "wires": [
            [
                "bcddfe48.5feb3"
            ]
        ]
    },
    {
        "id": "46f4af92.56cc2",
        "type": "Sonoff device Enhanced",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "mode": "1",
        "broker": "6ab4d33316cf218b",
        "device": "SonoffMiniGarage",
        "name": "SonoffMiniGarage",
        "onValue": "ON",
        "offValue": "OFF",
        "toggleValue": "toggle",
        "cmdPrefix": "cmnd",
        "statPrefix": "stat",
        "telePrefix": "tele",
        "x": 1570,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "a0a8d5e3.fcb518",
        "type": "Sonoff device Enhanced",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "mode": "1",
        "broker": "6ab4d33316cf218b",
        "device": "SonoffMini_Decroche",
        "name": "SonoffMini_Decroche",
        "onValue": "ON",
        "offValue": "OFF",
        "toggleValue": "toggle",
        "cmdPrefix": "cmnd",
        "statPrefix": "stat",
        "telePrefix": "tele",
        "x": 600,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "ffc96653.2bde08",
        "type": "zigbee2mqtt-in",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Inter G Ikea",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Inter Garage (E1743)",
        "device_id": "0x804b50fffe5fd0f6",
        "state": "action",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 860,
        "y": 580,
        "wires": [
            [
                "1a844289.8b818d"
            ]
        ]
    },
    {
        "id": "70d4a31b.09b06c",
        "type": "zigbee2mqtt-in",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Inter Double aqara",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Inter Garage Double (WXKG02LM_rev2)",
        "device_id": "0x00158d0002b45de1",
        "state": "0",
        "outputAtStartup": false,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 870,
        "y": 520,
        "wires": [
            [
                "287038db.f7bcf8"
            ]
        ]
    },
    {
        "id": "70623a5.112e1c4",
        "type": "zigbee2mqtt-out",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "chevre",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Lampe Chevre (BASICZBR3)",
        "device_id": "0x00124b001e731d0a",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 550,
        "y": 60,
        "wires": []
    },
    {
        "id": "a232715b.ebd34",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "626f2fe9.095fe",
        "name": "Toggle Lit",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.led_lit"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 580,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "9634b113.58cfc",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "626f2fe9.095fe",
        "name": "Toggle chevet TN",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.chevet_aliki"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 610,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "d8cbe6a4.e386b8",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Light on",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_basic_relay"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1260,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "6dd3a25.e90ab5c",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Light off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_basic_relay"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1260,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "5b0ed2d.6b9682c",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Ouvrir Garage Jon",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.garage_jon"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1450,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "44e64c2d.c04cb4",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Fermer  Garage Jon",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.garage_jon"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1450,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "2087dcc4.823314",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Fermer Garage Maison",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.garage_maison"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1470,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "773c2827.43d9b8",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Ouvrir Garage Maison",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.garage_maison"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1460,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "d54f2572.264d18",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Open/Close Garage Aliki",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.garage_aliki"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1470,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "46bbc050.e7341",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "626f2fe9.095fe",
        "name": "Spot Jardin",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.prise_spot_jardin"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "3181eedf.3c4d52",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Mode Soir",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.mode_ambiance"
        ],
        "data": "{\"option\":\"Soir\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 430,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "3980af78.4ba2f",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Mode Nuit",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.mode_ambiance"
        ],
        "data": "{\"option\":\"Nuit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 430,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "825bcbd1.282688",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Mode Jour",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.mode_ambiance"
        ],
        "data": "{\"option\":\"Jour\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 430,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "a872615.3b4d5a",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Ilot G+D TN",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.ilot_d",
            "light.ilot_g"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 430,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "9e11d1ba.45b8a",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Nextion Salon On",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.nextion_salon_sw"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 510,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "1ac72dc8.8a5ef2",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Buffet TN",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [
            "salon"
        ],
        "deviceId": [
            "47a45ec55873b39bb31c9276043612b4"
        ],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 400,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "4556b1a.9ceeb5",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Hue",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.hue_color_spot_1",
            "light.hue_color_spot_2",
            "light.hue_color_spot_3",
            "light.hue_color_spot_4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 410,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "b25c0ff1.c649a",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Vintage",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_vintage"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 400,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "fc9cc11a.ec672",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "spot on",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.spot_lidl_salon_3"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 360,
        "y": 500,
        "wires": [
            [
                "c201a0ed.258a3"
            ]
        ]
    },
    {
        "id": "ec3ef16e.27b2a",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "spot off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.spot_lidl_salon_3"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 640,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "8d024c9fdc13f056",
        "type": "api-call-service",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Reset Chaudiere",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.reset_chaudiere"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 170,
        "y": 500,
        "wires": [
            [
                "fc9cc11a.ec672"
            ]
        ]
    },
    {
        "id": "631792fa.6f43cc",
        "type": "api-current-state",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Temp serveur",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.temp_serveur",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 1140,
        "y": 960,
        "wires": [
            [
                "15aafdcb.e32572"
            ]
        ]
    },
    {
        "id": "a6a38a3a.3ff4f8",
        "type": "api-current-state",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Temp Salon",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.temperature_salon_temperature",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 350,
        "y": 720,
        "wires": [
            [
                "d5e7a12f.e0cdc"
            ]
        ]
    },
    {
        "id": "1ef9b770.a3abd9",
        "type": "api-current-state",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "Mode Ambiance",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 360,
        "y": 760,
        "wires": [
            [
                "7cff101f.f9062"
            ]
        ]
    },
    {
        "id": "951228d6.5677d8",
        "type": "server-state-changed",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Statut Alarme",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "alarm_control_panel.alarmo",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 930,
        "y": 1220,
        "wires": [
            [
                "f17644df.971198"
            ]
        ]
    },
    {
        "id": "441ed0a5728af34d",
        "type": "change",
        "z": "65d53490.95139c",
        "g": "61f68869.5ef4c8",
        "name": "Allumer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "toggle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "command",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 540,
        "wires": [
            [
                "46f4af92.56cc2"
            ]
        ]
    },
    {
        "id": "c45d32588de0687f",
        "type": "link in",
        "z": "65d53490.95139c",
        "g": "a37d6622.935938",
        "name": "link in décroché",
        "links": [
            "87dad04bca425372"
        ],
        "x": 305,
        "y": 120,
        "wires": [
            [
                "d57ddf0a.6e8c6"
            ]
        ]
    },
    {
        "id": "eb6f3f21.547ed",
        "type": "comment",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Inter SDB______________________________________________________",
        "info": "",
        "x": 310,
        "y": 220,
        "wires": []
    },
    {
        "id": "2e020e9.55d27f2",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "on - off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 140,
        "wires": [
            [
                "9cd19889.9afd88"
            ],
            [
                "3a57d8c0.f94b08"
            ]
        ]
    },
    {
        "id": "4e65ea4b.f4ba04",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "on - off",
        "property": "payload.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "button_1_single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "button_2_single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "button_3_single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "button_4_single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "button_5_single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "button_6_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "124d60c9.1182bf"
            ],
            [
                "207f6227ea98a627"
            ],
            [
                "d03c30d3.0fa5d"
            ],
            [
                "a4fbc399.901a4"
            ],
            [
                "f5af4720.fe5858"
            ],
            [
                "a4fbc399.901a4"
            ]
        ]
    },
    {
        "id": "60050347.4d487c",
        "type": "comment",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Awtrix SDB_______________________________________________",
        "info": "",
        "x": 290,
        "y": 60,
        "wires": []
    },
    {
        "id": "d964ce3e.1899b",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Appui",
        "property": "payload.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single_left",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "left_double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_right",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double_right",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 1070,
        "y": 540,
        "wires": [
            [
                "14df9d8e.b5c182"
            ],
            [
                "961328ea.cd4ea8"
            ],
            [
                "44298cc9.555e34"
            ],
            []
        ]
    },
    {
        "id": "9cd19889.9afd88",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"power\": true}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 100,
        "wires": [
            [
                "6f21181a.c92b98"
            ]
        ]
    },
    {
        "id": "3a57d8c0.f94b08",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"power\": false}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "6f21181a.c92b98"
            ]
        ]
    },
    {
        "id": "349e53bf.0de9fc",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "8eaaebb5.727948",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "10;NewKaku;297ce2;1;ON;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "6e108fcc.ac08d",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "8eaaebb5.727948",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "10;NewKaku;297ce2;1;OFF;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "1e2b301c.484df",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "8eaaebb5.727948",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1210,
        "y": 840,
        "wires": [
            [
                "349e53bf.0de9fc"
            ],
            [
                "6e108fcc.ac08d"
            ]
        ]
    },
    {
        "id": "dfe297eb.4c59e8",
        "type": "inject",
        "z": "8a56250a.f42758",
        "g": "8eaaebb5.727948",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 16 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1130,
        "y": 920,
        "wires": [
            [
                "a233314b.2f10e"
            ]
        ]
    },
    {
        "id": "f4c8956c.c72948",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "4a69ca19.2da874",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 700,
        "wires": [
            [
                "1422772e.16bca9"
            ],
            [
                "476bff7e.3dd8c"
            ]
        ]
    },
    {
        "id": "1422772e.16bca9",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "4a69ca19.2da874",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 680,
        "wires": [
            [
                "69f839e0.d65ac8",
                "b72bb6a6.9eb048"
            ]
        ]
    },
    {
        "id": "476bff7e.3dd8c",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "4a69ca19.2da874",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 720,
        "wires": [
            [
                "69f839e0.d65ac8",
                "b72bb6a6.9eb048"
            ]
        ]
    },
    {
        "id": "4ba83aee.c63364",
        "type": "comment",
        "z": "8a56250a.f42758",
        "g": "4a69ca19.2da874",
        "name": "Carport Soir______________________________________________________",
        "info": "",
        "x": 320,
        "y": 600,
        "wires": []
    },
    {
        "id": "c2565bc4.61f098",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "9252146b.03fc08",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1610,
        "y": 80,
        "wires": [
            [
                "4cea06b0.d9b558"
            ],
            [
                "4ec2d4346ab03bf2"
            ]
        ]
    },
    {
        "id": "f52a8158.1efc1",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "name": "",
        "property": "payload.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "circle_click",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "86bc0cc4.545c3"
            ],
            [
                "f7d7b5cc.01db28",
                "564c8b8.2d69374"
            ],
            [
                "6059695f.d663f8"
            ]
        ]
    },
    {
        "id": "f8ab7ab7.5f0f78",
        "type": "delay",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1330,
        "y": 340,
        "wires": [
            [
                "96600213.6a69a"
            ]
        ]
    },
    {
        "id": "ff491878.269048",
        "type": "subflow:711f44dc.b8379c",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "",
        "env": [],
        "x": 1610,
        "y": 680,
        "wires": []
    },
    {
        "id": "29c56d84.3d0e02",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "click",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 290,
        "y": 380,
        "wires": [
            [
                "124d60c9.1182bf"
            ],
            [
                "207f6227ea98a627"
            ],
            [],
            []
        ]
    },
    {
        "id": "eb218a28.2791d8",
        "type": "mqtt in",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Sonoff 4CH rel 3",
        "topic": "Atelier/sonoff_4CH/switch/sonoff_4ch_relay_3/state",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 960,
        "y": 660,
        "wires": [
            [
                "5a52d8badfe41e2e"
            ]
        ]
    },
    {
        "id": "44298cc9.555e34",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "toggle",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "toggle",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 580,
        "wires": [
            [
                "292679bb.8985a6"
            ]
        ]
    },
    {
        "id": "961328ea.cd4ea8",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "toggle",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "toggle",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 540,
        "wires": [
            [
                "4f12203e.96e41"
            ]
        ]
    },
    {
        "id": "14df9d8e.b5c182",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "toggle",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "toggle",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 500,
        "wires": [
            [
                "14cbfe5b.cc3b52"
            ]
        ]
    },
    {
        "id": "e5ae609.5abbca",
        "type": "delay",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1610,
        "y": 400,
        "wires": [
            [
                "6059695f.d663f8"
            ]
        ]
    },
    {
        "id": "9a2502d4.5ef11",
        "type": "link in",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "name": "nextion ch",
        "links": [
            "7d060c17.51e654"
        ],
        "x": 880,
        "y": 400,
        "wires": [
            [
                "f7d7b5cc.01db28",
                "564c8b8.2d69374"
            ]
        ],
        "l": true
    },
    {
        "id": "cb0ad85a.3a1618",
        "type": "inject",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1420,
        "y": 300,
        "wires": [
            [
                "6059695f.d663f8"
            ]
        ]
    },
    {
        "id": "8adfefcf.29a02",
        "type": "inject",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 100,
        "wires": [
            [
                "9cd19889.9afd88"
            ]
        ]
    },
    {
        "id": "ced47d30.a08ac",
        "type": "inject",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 180,
        "wires": [
            [
                "3a57d8c0.f94b08"
            ]
        ]
    },
    {
        "id": "e73bd1e4.49997",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "e6854997.1052a8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1050,
        "y": 80,
        "wires": [
            [
                "b110bffe.686c7"
            ],
            [
                "2bd4086.a2ab8f8"
            ]
        ]
    },
    {
        "id": "6f21181a.c92b98",
        "type": "mqtt out",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Awtrix Sdb",
        "topic": "SDB/Awtrix_sdb/basics",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 550,
        "y": 120,
        "wires": []
    },
    {
        "id": "686e8395a8a61ebc",
        "type": "mqtt in",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Sonoff 4CH status",
        "topic": "Atelier/sonoff_4CH/status",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 970,
        "y": 720,
        "wires": [
            [
                "3ff8201f91ef1e76"
            ]
        ]
    },
    {
        "id": "3ff8201f91ef1e76",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "offline",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1140,
        "y": 720,
        "wires": [
            [
                "72f7cf2559d579b7"
            ]
        ]
    },
    {
        "id": "5a52d8badfe41e2e",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 660,
        "wires": [
            [
                "49988c0962f264d7"
            ]
        ]
    },
    {
        "id": "7a6f93f1213e8ca8",
        "type": "function",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = \"Eclairage\"\nmsg.embeds_title = \"Atelier allumé\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/bi_rue.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 660,
        "wires": [
            [
                "ff491878.269048"
            ]
        ]
    },
    {
        "id": "72f7cf2559d579b7",
        "type": "function",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = \"Eclairage\"\nmsg.embeds_title = \"Sonoff 4 Ch Offline!\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/bi_rue.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 720,
        "wires": [
            [
                "ff491878.269048"
            ]
        ]
    },
    {
        "id": "9570b71a2fed884e",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "",
        "property": "msg.payload.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on_1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off_1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on_2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off_2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on_3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off_3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on_4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off_4",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 270,
        "y": 1200,
        "wires": [
            [
                "f65497d7a5f44bad"
            ],
            [
                "fbdf9c106761da95"
            ],
            [
                "b4d0d73718855e7a"
            ],
            [
                "680b5b73f58d4a3c"
            ],
            [
                "8a4d6ade10fc258e"
            ],
            [
                "b47f00f5bffb9dca"
            ],
            [
                "beef7f3be2fbecca"
            ],
            [
                "f7732e0c9ac2eb34"
            ]
        ]
    },
    {
        "id": "6f25b021db94d843",
        "type": "mqtt out",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "",
        "topic": "AWTRIXHD/brightness",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 1020,
        "y": 1100,
        "wires": []
    },
    {
        "id": "aa5b98fe89729c88",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 1080,
        "wires": [
            [
                "6f25b021db94d843"
            ]
        ]
    },
    {
        "id": "cfbb5ea3ec342ab3",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 1140,
        "wires": [
            [
                "6f25b021db94d843"
            ]
        ]
    },
    {
        "id": "bed3fff.32e4b",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{'power': true}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 820,
        "wires": [
            [
                "bd696112.8770f"
            ]
        ]
    },
    {
        "id": "bd696112.8770f",
        "type": "mqtt out",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Awtrix Salon",
        "topic": "Salon/Awtrix_salon/basics",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 670,
        "y": 840,
        "wires": []
    },
    {
        "id": "88a27d31.9625",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{'power': false}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 860,
        "wires": [
            [
                "bd696112.8770f"
            ]
        ]
    },
    {
        "id": "98c3cda0.3c957",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 840,
        "wires": [
            [
                "bed3fff.32e4b"
            ],
            [
                "88a27d31.9625"
            ]
        ]
    },
    {
        "id": "e34a1ee5.3a9ad",
        "type": "delay",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "2 min",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 690,
        "y": 920,
        "wires": [
            [
                "11c9c8fc154dcbb8"
            ]
        ]
    },
    {
        "id": "8fdf82f3ef9b68dd",
        "type": "switch",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 920,
        "wires": [
            [
                "8190d0cf.d8f1b",
                "c025155a47da75ed"
            ],
            []
        ]
    },
    {
        "id": "207f6227ea98a627",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "toggle",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "toggle",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 340,
        "wires": [
            [
                "eb046a1057f54bdf"
            ]
        ]
    },
    {
        "id": "a233314b.2f10e",
        "type": "bigtimer",
        "z": "8a56250a.f42758",
        "g": "8eaaebb5.727948",
        "outtopic": "",
        "outpayload1": "",
        "outpayload2": "",
        "name": "Big Timer",
        "comment": "",
        "lat": 0,
        "lon": 0,
        "starttime": "960",
        "endtime": "1200",
        "starttime2": 0,
        "endtime2": 0,
        "startoff": 0,
        "endoff": 0,
        "startoff2": 0,
        "endoff2": 0,
        "offs": 0,
        "outtext1": "",
        "outtext2": "",
        "timeout": 1440,
        "sun": true,
        "mon": true,
        "tue": true,
        "wed": true,
        "thu": true,
        "fri": true,
        "sat": true,
        "jan": true,
        "feb": true,
        "mar": true,
        "apr": true,
        "may": true,
        "jun": true,
        "jul": true,
        "aug": true,
        "sep": true,
        "oct": true,
        "nov": true,
        "dec": true,
        "day1": 0,
        "month1": 0,
        "day2": 0,
        "month2": 0,
        "day3": 0,
        "month3": 0,
        "day4": 0,
        "month4": 0,
        "day5": 0,
        "month5": 0,
        "day6": 0,
        "month6": 0,
        "day7": 0,
        "month7": 0,
        "day8": 0,
        "month8": 0,
        "day9": 0,
        "month9": 0,
        "day10": 0,
        "month10": 0,
        "day11": 0,
        "month11": 0,
        "day12": 0,
        "month12": 0,
        "d1": 0,
        "w1": 0,
        "d2": 0,
        "w2": 0,
        "d3": 0,
        "w3": 0,
        "d4": 0,
        "w4": 0,
        "d5": 0,
        "w5": 0,
        "d6": 0,
        "w6": 0,
        "xday1": 0,
        "xmonth1": 0,
        "xday2": 0,
        "xmonth2": 0,
        "xday3": 0,
        "xmonth3": 0,
        "xday4": 0,
        "xmonth4": 0,
        "xday5": 0,
        "xmonth5": 0,
        "xday6": 0,
        "xmonth6": 0,
        "xd1": 0,
        "xw1": 0,
        "xd2": 0,
        "xw2": 0,
        "xd3": 0,
        "xw3": 0,
        "xd4": 0,
        "xw4": 0,
        "xd5": 0,
        "xw5": 0,
        "xd6": 0,
        "xw6": 0,
        "suspend": false,
        "random": false,
        "randon1": false,
        "randoff1": false,
        "randon2": false,
        "randoff2": false,
        "repeat": true,
        "atstart": true,
        "odd": false,
        "even": false,
        "x": 1300,
        "y": 920,
        "wires": [
            [
                "6ee2cf2e.d6fae"
            ],
            [],
            []
        ]
    },
    {
        "id": "fd200963.5b2998",
        "type": "time-range-switch",
        "z": "8a56250a.f42758",
        "g": "4a69ca19.2da874",
        "name": "Sunset/rise",
        "lat": "50.4",
        "lon": "4.2667",
        "startTime": "sunset",
        "endTime": "sunrise",
        "startOffset": "0",
        "endOffset": "0",
        "x": 230,
        "y": 720,
        "wires": [
            [
                "f4c8956c.c72948"
            ],
            []
        ]
    },
    {
        "id": "f7d7b5cc.01db28",
        "type": "wled2",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "address": "192.168.100.22",
        "brightness": "233",
        "delay": 0,
        "color1": "#fa8500",
        "color2": "#ffffff",
        "color3": "#ffffff",
        "effect": 0,
        "effectIntensity": 128,
        "effectSpeed": 128,
        "name": "",
        "palette": "0",
        "preset": 0,
        "state": "on",
        "x": 1190,
        "y": 340,
        "wires": [
            [
                "f8ab7ab7.5f0f78"
            ]
        ]
    },
    {
        "id": "96600213.6a69a",
        "type": "wled2",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "address": "192.168.100.22",
        "brightness": "1",
        "delay": 0,
        "color1": "#ffffff",
        "color2": "#ffffff",
        "color3": "#ffffff",
        "effect": 0,
        "effectIntensity": 128,
        "effectSpeed": 128,
        "name": "",
        "palette": "0",
        "preset": 0,
        "state": "off",
        "x": 1470,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "efc9e388.61e13",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Inter Atelier",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Inter Atelier (WXKG02LM_rev2)",
        "device_id": "0x00158d0002b4a1af",
        "state": "0",
        "outputAtStartup": false,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 890,
        "y": 540,
        "wires": [
            [
                "d964ce3e.1899b"
            ]
        ]
    },
    {
        "id": "1f9449a7.75e286",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Pres SDB",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Présence SDB (RTCGQ11LM)",
        "device_id": "0x00158d00029c007f",
        "state": "occupancy",
        "outputAtStartup": false,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 120,
        "y": 140,
        "wires": [
            [
                "2e020e9.55d27f2",
                "33b460a1df6f980e"
            ]
        ]
    },
    {
        "id": "1fa8ccb2.6e4e93",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Inter SDB Opple",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Inter_sdb_opple (WXCJKG13LM)",
        "device_id": "0x04cf8cdf3c7980b7",
        "state": "0",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 120,
        "y": 300,
        "wires": [
            [
                "4e65ea4b.f4ba04"
            ]
        ]
    },
    {
        "id": "bcd7c930.726808",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Inter SDB Rond",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Inter rond SDB (WXKG01LM)",
        "device_id": "0x00158d0001644792",
        "state": "action",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 120,
        "y": 380,
        "wires": [
            [
                "29c56d84.3d0e02"
            ]
        ]
    },
    {
        "id": "b5b08cee.b17e8",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "e6854997.1052a8",
        "name": "Inter Osram",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Inter Osram Cuis (AC0251100NJ/AC0251600NJ/AC0251700NJ)",
        "device_id": "0x000d6f00109c7aa3",
        "state": "action",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 890,
        "y": 80,
        "wires": [
            [
                "e73bd1e4.49997"
            ]
        ]
    },
    {
        "id": "ffd3e7f7.44ec18",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "4a69ca19.2da874",
        "name": "Pres Carport",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Présence Carport (RTCGQ01LM)",
        "device_id": "0x00158d000121aa40",
        "state": "occupancy",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 110,
        "y": 660,
        "wires": [
            [
                "fd200963.5b2998"
            ]
        ]
    },
    {
        "id": "62a936181fa99036",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Inter Bureau",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Inter Bureau (ROB_200-007-0)",
        "device_id": "0xccccccfffe8a0b1f",
        "state": "0",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 110,
        "y": 1200,
        "wires": [
            [
                "9570b71a2fed884e"
            ]
        ]
    },
    {
        "id": "5ca93243.3270ec",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Pres Salon",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Présence Salon (TS0202_1)",
        "device_id": "0x847127fffe0d0f51",
        "state": "occupancy",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 100,
        "y": 920,
        "wires": [
            [
                "8fdf82f3ef9b68dd"
            ]
        ]
    },
    {
        "id": "69f839e0.d65ac8",
        "type": "zigbee2mqtt-out",
        "z": "8a56250a.f42758",
        "g": "4a69ca19.2da874",
        "name": "Prise Carport",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Prise Carport (HG06337)",
        "device_id": "0xbc33acfffe681f15",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 670,
        "y": 720,
        "wires": []
    },
    {
        "id": "b72bb6a6.9eb048",
        "type": "zigbee2mqtt-out",
        "z": "8a56250a.f42758",
        "g": "4a69ca19.2da874",
        "name": "Ecl  Carport",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Lumiere Carport (ZBMINI)",
        "device_id": "0x847127fffe95f0a0",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 670,
        "y": 680,
        "wires": []
    },
    {
        "id": "eb046a1057f54bdf",
        "type": "zigbee2mqtt-out",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Spot SDB",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Spot_SDB (ZBMINI)",
        "device_id": "0x9035eafffe50f55c",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 600,
        "y": 340,
        "wires": []
    },
    {
        "id": "124d60c9.1182bf",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Miroir toggle",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.alimentation_basic_rfr3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 490,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "a4fbc399.901a4",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Spotify Off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "media_stop",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.gh_mini"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 490,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "d03c30d3.0fa5d",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Spotify Aliki On",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "play_media",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.gh_mini"
        ],
        "data": "{\"media_content_id\":\"spotify:playlist:0CJeVajD1HgHEJeZ09o4yB\",\"media_content_type\":\"playlist\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 500,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "b5bd2242.04f81",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Spotify Jona",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "spotcast",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.gh_mini"
        ],
        "data": "{\"uri\":\"spotify:playlist:3oG4m6ZkIdU2rnMXM8hEgS\",\"random_song\":\"true\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "f5af4720.fe5858",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "Level",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "volume_set",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.gh_mini"
        ],
        "data": "{\"volume_level\":\"0.5\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 470,
        "y": 440,
        "wires": [
            [
                "b5bd2242.04f81"
            ]
        ]
    },
    {
        "id": "6ee2cf2e.d6fae",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "8eaaebb5.727948",
        "name": "Sapin Off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sapin"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1460,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "4cea06b0.d9b558",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "9252146b.03fc08",
        "name": "Chevet ON",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.chevet_aliki"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1790,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "86bc0cc4.545c3",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "name": "Chevet Stelio",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.wled"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1210,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "6059695f.d663f8",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "name": "Stop",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "media_stop",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.gh_mini_bureau"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1630,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "2bd4086.a2ab8f8",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "e6854997.1052a8",
        "name": "Spot Cuis",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.electodragon_double_relay_2"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1240,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "b110bffe.686c7",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "e6854997.1052a8",
        "name": "Toggle Tel",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.telephone"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1240,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "564c8b8.2d69374",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "8ecdd734.879d78",
        "name": "berceuse",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "spotcast",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"device_name\":\"Gh_mini_Bureau\",\"uri\":\"spotify:playlist:4W5JTJltR9q4bAtIw2ccsN\",\"start_volume\":18,\"country\":\"BE\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1220,
        "y": 400,
        "wires": [
            [
                "e5ae609.5abbca"
            ]
        ]
    },
    {
        "id": "14cbfe5b.cc3b52",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Atelier",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_4ch_relay_2"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1450,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "4f12203e.96e41",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Grenier",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_4ch_relay_1"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1460,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "292679bb.8985a6",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Cave",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_4ch_relay_3"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1450,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "b4d0d73718855e7a",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Lampe_bureau ON",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.lampadaire_bureau",
            "light.led_bureau",
            "light.livingcolors_1",
            "light.boule",
            "light.cadre",
            "light.synfonisk_back"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 650,
        "y": 1180,
        "wires": [
            [
                "05f4ba2812777998"
            ]
        ]
    },
    {
        "id": "680b5b73f58d4a3c",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Lampe_bureau OFF",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.lampadaire_bureau",
            "light.led_bureau",
            "light.livingcolors_1",
            "light.boule",
            "light.cadre",
            "light.synfonisk_back"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 660,
        "y": 1220,
        "wires": [
            [
                "c064f072de0c38e0"
            ]
        ]
    },
    {
        "id": "fbdf9c106761da95",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "prise pc Off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.prise_pc_relay"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 1140,
        "wires": [
            [
                "cfbb5ea3ec342ab3"
            ]
        ]
    },
    {
        "id": "f65497d7a5f44bad",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "prise pc On",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.prise_pc_relay"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 1080,
        "wires": [
            [
                "aa5b98fe89729c88"
            ]
        ]
    },
    {
        "id": "8a4d6ade10fc258e",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Spotify Jona",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "spotcast",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.gh_mini"
        ],
        "data": "{\"uri\":\"spotify:playlist:3oG4m6ZkIdU2rnMXM8hEgS\",\"random_song\":\"true\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "b47f00f5bffb9dca",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Spotify Jona",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "spotcast",
        "service": "stop",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.gh_mini"
        ],
        "data": "{\"uri\":\"spotify:playlist:3oG4m6ZkIdU2rnMXM8hEgS\",\"random_song\":\"true\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "beef7f3be2fbecca",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Spot On",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"device\":\"spot_bureau\",\"entity_id\":\"remote.rm4mini_remote\",\"command\":\"allumer\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "f7732e0c9ac2eb34",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Spot Off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"device\":\"spot_bureau\",\"entity_id\":\"remote.rm4mini_remote\",\"command\":\"eteindre\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "69a2ce8b58c7650a",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "hue 4 on",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.hue_color_spot_4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 520,
        "y": 920,
        "wires": [
            [
                "e34a1ee5.3a9ad"
            ]
        ]
    },
    {
        "id": "11c9c8fc154dcbb8",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "hue 4 off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.hue_color_spot_4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 920,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "05f4ba2812777998",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Volet Baissé",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.volet_bureau"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 870,
        "y": 1180,
        "wires": [
            [
                "d185ef8b3681029b"
            ]
        ]
    },
    {
        "id": "c064f072de0c38e0",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Volet Baissé",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.volet_bureau"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 870,
        "y": 1220,
        "wires": [
            [
                "55f1e1b5bba447fa"
            ]
        ]
    },
    {
        "id": "49988c0962f264d7",
        "type": "api-current-state",
        "z": "8a56250a.f42758",
        "g": "65dad809.9aa608",
        "name": "Mode",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nuit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "on",
                "valueType": "str"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 1270,
        "y": 660,
        "wires": [
            [
                "7a6f93f1213e8ca8",
                "44298cc9.555e34",
                "961328ea.cd4ea8",
                "14df9d8e.b5c182"
            ],
            []
        ]
    },
    {
        "id": "8190d0cf.d8f1b",
        "type": "api-current-state",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Mode",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nuit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "on",
                "valueType": "str"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 350,
        "y": 920,
        "wires": [
            [
                "69a2ce8b58c7650a"
            ],
            []
        ]
    },
    {
        "id": "c7775a57.9bded8",
        "type": "server-state-changed",
        "z": "8a56250a.f42758",
        "g": "8eaaebb5.727948",
        "name": "Sapin",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.sapin",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1090,
        "y": 840,
        "wires": [
            [
                "1e2b301c.484df"
            ]
        ]
    },
    {
        "id": "5a442802.a2c278",
        "type": "server-state-changed",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Bouton awtrix salon",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "switch.awtrix_salon",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 840,
        "wires": [
            [
                "98c3cda0.3c957"
            ]
        ]
    },
    {
        "id": "d185ef8b3681029b",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Lampe_bureau ON TRuenas",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.lidl_barre_led"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1100,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "55f1e1b5bba447fa",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "97bd8de5.cac92",
        "name": "Lampe_bureau OFF",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.lidl_barre_led"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1080,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "4ec2d4346ab03bf2",
        "type": "api-call-service",
        "z": "8a56250a.f42758",
        "g": "9252146b.03fc08",
        "name": "Chevet OFF",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.chevet_aliki"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1790,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "5138750f5cc6dd63",
        "type": "zigbee2mqtt-in",
        "z": "8a56250a.f42758",
        "g": "9252146b.03fc08",
        "name": "Inter osram",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Inter Osram CH P (AC0251100NJ/AC0251600NJ/AC0251700NJ)",
        "device_id": "0x000d6f00101ceea6",
        "state": "action",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 1450,
        "y": 80,
        "wires": [
            [
                "c2565bc4.61f098"
            ]
        ]
    },
    {
        "id": "33b460a1df6f980e",
        "type": "debug",
        "z": "8a56250a.f42758",
        "g": "c6abcca2.0502d",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 620,
        "y": 180,
        "wires": []
    },
    {
        "id": "64d59c9d612634af",
        "type": "server-state-changed",
        "z": "8a56250a.f42758",
        "g": "e6854997.1052a8",
        "name": "Décroché Bool Etat",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.decroche",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 910,
        "y": 160,
        "wires": [
            [
                "87dad04bca425372"
            ]
        ]
    },
    {
        "id": "91f69284ba8ff373",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "e6854997.1052a8",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "command",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "ca5989c09666cc57",
        "type": "change",
        "z": "8a56250a.f42758",
        "g": "e6854997.1052a8",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "command",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "87dad04bca425372",
        "type": "link out",
        "z": "8a56250a.f42758",
        "g": "e6854997.1052a8",
        "name": "link out décroché",
        "mode": "link",
        "links": [
            "c45d32588de0687f"
        ],
        "x": 1245,
        "y": 160,
        "wires": []
    },
    {
        "id": "c025155a47da75ed",
        "type": "api-current-state",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Mode",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Jour",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "on",
                "valueType": "str"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 350,
        "y": 980,
        "wires": [
            [
                "c5b0a6cbb86d81f6"
            ],
            []
        ]
    },
    {
        "id": "c5b0a6cbb86d81f6",
        "type": "api-current-state",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Alarme Off",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "disarmed",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "alarm_control_panel.alarmo",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 530,
        "y": 980,
        "wires": [
            [
                "269843cdf016aa16"
            ],
            []
        ]
    },
    {
        "id": "bfa73c8e7ac8a253",
        "type": "http request",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 910,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "269843cdf016aa16",
        "type": "function",
        "z": "8a56250a.f42758",
        "g": "cd39ecf3.69ae3",
        "name": "Magic Mirror Sleep",
        "func": "var url = \"http://192.168.100.11:8000/default.htm?COMMAND=SCREENON\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 980,
        "wires": [
            [
                "bfa73c8e7ac8a253"
            ]
        ]
    },
    {
        "id": "cfce5dcf44d42a62",
        "type": "switch",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "On/Off ?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 260,
        "wires": [
            [
                "e76f635e756bc66c"
            ],
            [
                "381d86827aa23c55"
            ]
        ]
    },
    {
        "id": "a8fd0204265ba7f3",
        "type": "switch",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "On/Off ?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 340,
        "wires": [
            [
                "96bd9ce4d8148c9c"
            ],
            [
                "e43fb234cd1dcdb9"
            ]
        ]
    },
    {
        "id": "3697ca490d7f8eb0",
        "type": "switch",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "On/Off ?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 420,
        "wires": [
            [
                "2640d8c7d3c5cce4"
            ],
            [
                "dc7d41247f5082c6"
            ]
        ]
    },
    {
        "id": "87d195ba893451bb",
        "type": "link in",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° garage IN",
        "links": [
            "85a1f748.dbcf58",
            "8520f54323c88666"
        ],
        "x": 1095,
        "y": 228,
        "wires": [
            [
                "4522de0c45cb8d3a"
            ]
        ]
    },
    {
        "id": "3cf44831bf1589d8",
        "type": "link in",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° cuisine IN",
        "links": [
            "aa1b7a85c10dcc89",
            "f325126b.171aa"
        ],
        "x": 1095,
        "y": 275,
        "wires": [
            [
                "b7dbe348caebb638"
            ]
        ]
    },
    {
        "id": "45a2ccb22039f395",
        "type": "link in",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° Salon IN",
        "links": [
            "fb14352a7d95e916",
            "d2b44d78.42457"
        ],
        "x": 1095,
        "y": 322,
        "wires": [
            [
                "e81e6103ae3312db"
            ]
        ]
    },
    {
        "id": "03ef0b013b6d649d",
        "type": "link in",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° SDB IN",
        "links": [
            "141423b0.69f89c",
            "45423eaecee054c5"
        ],
        "x": 1095,
        "y": 368,
        "wires": [
            [
                "13c9b345eed17358"
            ]
        ]
    },
    {
        "id": "c50a9941e13b3e83",
        "type": "link in",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° couloir IN",
        "links": [
            "5b6276bfb71ef86e"
        ],
        "x": 1095,
        "y": 416,
        "wires": [
            [
                "4ba9284e29ec5537"
            ]
        ]
    },
    {
        "id": "8ab5a367fda23a58",
        "type": "link in",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° bureau IN",
        "links": [
            "8a3bef89df83e3f3"
        ],
        "x": 1095,
        "y": 463,
        "wires": [
            [
                "3f6dc082579a0408"
            ]
        ]
    },
    {
        "id": "27fb722f2687df20",
        "type": "link in",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° ch_stelio IN",
        "links": [
            "ec5c7fcb668f2f8c"
        ],
        "x": 1095,
        "y": 188,
        "wires": [
            [
                "409309f8433bd9ad"
            ]
        ]
    },
    {
        "id": "8a3bef89df83e3f3",
        "type": "link out",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° bureau OUT",
        "links": [
            "8ab5a367fda23a58"
        ],
        "x": 795,
        "y": 468,
        "wires": []
    },
    {
        "id": "45423eaecee054c5",
        "type": "link out",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° SDB OUT",
        "links": [
            "03ef0b013b6d649d"
        ],
        "x": 795,
        "y": 368,
        "wires": []
    },
    {
        "id": "5b6276bfb71ef86e",
        "type": "link out",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° couloir OUT",
        "links": [
            "c50a9941e13b3e83"
        ],
        "x": 795,
        "y": 416,
        "wires": []
    },
    {
        "id": "8520f54323c88666",
        "type": "link out",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° garage OUT",
        "links": [
            "87d195ba893451bb"
        ],
        "x": 795,
        "y": 228,
        "wires": []
    },
    {
        "id": "fb14352a7d95e916",
        "type": "link out",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° Salon OUT",
        "links": [
            "45a2ccb22039f395"
        ],
        "x": 795,
        "y": 322,
        "wires": []
    },
    {
        "id": "0ad34d6a5e39f26e",
        "type": "comment",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "SDB",
        "info": "",
        "x": 870,
        "y": 368,
        "wires": []
    },
    {
        "id": "7127c99f78e910ec",
        "type": "comment",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Couloir",
        "info": "",
        "x": 870,
        "y": 416,
        "wires": []
    },
    {
        "id": "453a4cc34ddb7d22",
        "type": "comment",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Bureau",
        "info": "",
        "x": 870,
        "y": 463,
        "wires": []
    },
    {
        "id": "d20ec00c394355b9",
        "type": "comment",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Garage",
        "info": "",
        "x": 870,
        "y": 228,
        "wires": []
    },
    {
        "id": "f7a88318b0bfd7ff",
        "type": "comment",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Salon",
        "info": "",
        "x": 870,
        "y": 322,
        "wires": []
    },
    {
        "id": "ec5c7fcb668f2f8c",
        "type": "link out",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° ch_stelio OUT",
        "links": [
            "27fb722f2687df20"
        ],
        "x": 795,
        "y": 185,
        "wires": []
    },
    {
        "id": "23329e095db6e81b",
        "type": "comment",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Chambre Stelio",
        "info": "",
        "x": 901,
        "y": 187,
        "wires": []
    },
    {
        "id": "aa1b7a85c10dcc89",
        "type": "link out",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "T° cuisine OUT",
        "links": [
            "3cf44831bf1589d8"
        ],
        "x": 795,
        "y": 275,
        "wires": []
    },
    {
        "id": "d67e6d7c1c2750cf",
        "type": "comment",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Cuisine",
        "info": "",
        "x": 870,
        "y": 275,
        "wires": []
    },
    {
        "id": "5ac982ec818c78b5",
        "type": "inject",
        "z": "5fe8574ef0d6675d",
        "d": true,
        "g": "d2c4d43f63530996",
        "name": "set séjour 23.5",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 07 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "23.5",
        "payloadType": "num",
        "x": 720,
        "y": 108,
        "wires": [
            [
                "aa1b7a85c10dcc89",
                "fb14352a7d95e916"
            ]
        ]
    },
    {
        "id": "d2e1cc255fc45dbe",
        "type": "function",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "-2 °C",
        "func": "msg.payload = msg.payload - 3;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 168,
        "wires": [
            [
                "ec5c7fcb668f2f8c"
            ]
        ]
    },
    {
        "id": "d57516690e76c799",
        "type": "function",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "-2 °C",
        "func": "msg.payload = msg.payload - 2;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 488,
        "wires": [
            [
                "8520f54323c88666"
            ]
        ]
    },
    {
        "id": "3368e644241cfb0e",
        "type": "inject",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "5h00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 05 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "on",
        "payloadType": "date",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "077d7eabf59aa0b8",
                "9998c504179b8df2"
            ]
        ]
    },
    {
        "id": "7196659f52101b46",
        "type": "inject",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "21h00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 22 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "off",
        "payloadType": "date",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "077d7eabf59aa0b8"
            ]
        ]
    },
    {
        "id": "59a1cc1ac2071fe8",
        "type": "delay",
        "z": "5fe8574ef0d6675d",
        "g": "67fc0d9319bad7b9",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 490,
        "y": 660,
        "wires": [
            [
                "085894d5d6bf71fb"
            ]
        ]
    },
    {
        "id": "2094da57f2a7d3f6",
        "type": "function",
        "z": "5fe8574ef0d6675d",
        "g": "67fc0d9319bad7b9",
        "name": "",
        "func": "msg.title = \"Chauffage\"\nmsg.dest = \"tel_jona;telegram_jona\"\nmsg.message = \"reset chauffage ok\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 620,
        "wires": [
            [
                "11d2e476c18eb38d"
            ]
        ]
    },
    {
        "id": "11d2e476c18eb38d",
        "type": "link out",
        "z": "5fe8574ef0d6675d",
        "g": "67fc0d9319bad7b9",
        "name": "Notif out",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 480,
        "y": 620,
        "wires": [],
        "l": true
    },
    {
        "id": "c0dd2d90be860c2a",
        "type": "switch",
        "z": "5fe8574ef0d6675d",
        "g": "64d017b7402143d1",
        "name": "",
        "property": "payload.event.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "yes",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "no",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 820,
        "wires": [
            [
                "bf9f6ab4fc0ea587"
            ],
            []
        ]
    },
    {
        "id": "4522de0c45cb8d3a",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Set T° Garage",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.vanne_garage"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1240,
        "y": 228,
        "wires": [
            []
        ]
    },
    {
        "id": "b7dbe348caebb638",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Set T° Cuisine",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.vanne_cuisine"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1240,
        "y": 275,
        "wires": [
            []
        ]
    },
    {
        "id": "e81e6103ae3312db",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Set T° Salon",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.vanne_salon"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1230,
        "y": 322,
        "wires": [
            []
        ]
    },
    {
        "id": "13c9b345eed17358",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Set T° SDB",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.vanne_sdb"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1230,
        "y": 368,
        "wires": [
            []
        ]
    },
    {
        "id": "4ba9284e29ec5537",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Set T° Couloir",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.vanne_couloir"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1240,
        "y": 416,
        "wires": [
            []
        ]
    },
    {
        "id": "3f6dc082579a0408",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Set T° Bureau",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.vanne_bureau"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1240,
        "y": 463,
        "wires": [
            []
        ]
    },
    {
        "id": "409309f8433bd9ad",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Set T° ch stelio",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.vanne_ch_stelio"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1240,
        "y": 188,
        "wires": [
            []
        ]
    },
    {
        "id": "8dc5533ab2e9eb0e",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "67fc0d9319bad7b9",
        "name": "Bool reset chaud off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.reset_chaudiere"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 880,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "085894d5d6bf71fb",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "67fc0d9319bad7b9",
        "name": "Sw reset chaud off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 660,
        "wires": [
            [
                "8dc5533ab2e9eb0e"
            ]
        ]
    },
    {
        "id": "4e644c3146d63227",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "67fc0d9319bad7b9",
        "name": "Sw reset chaud ",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 660,
        "wires": [
            [
                "59a1cc1ac2071fe8"
            ]
        ]
    },
    {
        "id": "bfb9952dbef38bb3",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "64d017b7402143d1",
        "name": "Notif bouton",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_11tpro",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Relais Off , dois-je rallumer?\",\"title\":\"DCJ Channel\",\"data\":{\"actions\":[{\"action\":\"yes\",\"title\":\"Oui\"},{\"action\":\"no\",\"title\":\"Non\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 510,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "bf9f6ab4fc0ea587",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "64d017b7402143d1",
        "name": "Relais On",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 450,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "9998c504179b8df2",
        "type": "api-call-service",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "reset chaudiere",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.reset_chaudiere"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "381d86827aa23c55",
        "type": "api-current-state",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "t° when OFF",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 470,
        "y": 280,
        "wires": [
            [
                "ec5c7fcb668f2f8c"
            ]
        ]
    },
    {
        "id": "e76f635e756bc66c",
        "type": "api-current-state",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "t° when ON",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_on",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 470,
        "y": 240,
        "wires": [
            [
                "d2e1cc255fc45dbe"
            ]
        ]
    },
    {
        "id": "e43fb234cd1dcdb9",
        "type": "api-current-state",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "t° when OFF",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 470,
        "y": 360,
        "wires": [
            [
                "ec5c7fcb668f2f8c"
            ]
        ]
    },
    {
        "id": "96bd9ce4d8148c9c",
        "type": "api-current-state",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "t° when ON",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_on",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 470,
        "y": 320,
        "wires": [
            [
                "d2e1cc255fc45dbe"
            ]
        ]
    },
    {
        "id": "dc7d41247f5082c6",
        "type": "api-current-state",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "t° when OFF",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 470,
        "y": 440,
        "wires": [
            [
                "aa1b7a85c10dcc89",
                "fb14352a7d95e916",
                "45423eaecee054c5",
                "5b6276bfb71ef86e",
                "8a3bef89df83e3f3",
                "8520f54323c88666"
            ]
        ]
    },
    {
        "id": "2640d8c7d3c5cce4",
        "type": "api-current-state",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "t° when ON",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_on",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 470,
        "y": 400,
        "wires": [
            [
                "aa1b7a85c10dcc89",
                "fb14352a7d95e916",
                "45423eaecee054c5",
                "5b6276bfb71ef86e",
                "8a3bef89df83e3f3",
                "d57516690e76c799"
            ]
        ]
    },
    {
        "id": "077d7eabf59aa0b8",
        "type": "api-current-state",
        "z": "5fe8574ef0d6675d",
        "g": "d2c4d43f63530996",
        "name": "Chauffage On ?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.chauffage_on_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 160,
        "y": 340,
        "wires": [
            [
                "cfce5dcf44d42a62",
                "a8fd0204265ba7f3",
                "3697ca490d7f8eb0"
            ],
            []
        ]
    },
    {
        "id": "747aac706ad582cd",
        "type": "server-events",
        "z": "5fe8574ef0d6675d",
        "g": "64d017b7402143d1",
        "name": "Action app",
        "server": "5261c37d2408eef8",
        "version": 1,
        "event_type": "mobile_app_notification_action",
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            },
            {
                "property": "event_type",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 140,
        "y": 820,
        "wires": [
            [
                "c0dd2d90be860c2a"
            ]
        ]
    },
    {
        "id": "cbc0c2b70494c3fd",
        "type": "server-state-changed",
        "z": "5fe8574ef0d6675d",
        "g": "67fc0d9319bad7b9",
        "name": "Bool reset chaud",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.reset_chaudiere",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "x": 140,
        "y": 640,
        "wires": [
            [
                "2094da57f2a7d3f6",
                "4e644c3146d63227"
            ],
            []
        ]
    },
    {
        "id": "a3994a0264cd190f",
        "type": "server-state-changed",
        "z": "5fe8574ef0d6675d",
        "g": "64d017b7402143d1",
        "name": "Relais Chauidiere",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "switch.inter_chaudiere_l4",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "30",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "x": 150,
        "y": 760,
        "wires": [
            [
                "6b68626e2a3ead1d"
            ],
            []
        ]
    },
    {
        "id": "6b68626e2a3ead1d",
        "type": "ha-get-entities",
        "z": "5fe8574ef0d6675d",
        "g": "64d017b7402143d1",
        "name": "NB boolean on",
        "server": "5261c37d2408eef8",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.chauffe_",
                "valueType": "str"
            }
        ],
        "output_type": "count",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 340,
        "y": 760,
        "wires": [
            [
                "bfb9952dbef38bb3"
            ]
        ]
    },
    {
        "id": "d481f5cd.78d968",
        "type": "delay",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "30 min",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 290,
        "y": 220,
        "wires": [
            [
                "63a3b2a6.c0e1cc"
            ]
        ]
    },
    {
        "id": "45a40d7a.d6d044",
        "type": "change",
        "z": "b3af9cb9.a9fa9",
        "d": true,
        "g": "4d74fffb.c8d92",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_gh_mini_bureau",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "impression terminée",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 60,
        "wires": [
            [
                "1a3e6dfb.17c532"
            ]
        ]
    },
    {
        "id": "1a3e6dfb.17c532",
        "type": "subflow:711f44dc.b8379c",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "",
        "env": [],
        "x": 650,
        "y": 60,
        "wires": []
    },
    {
        "id": "4f5dbc00.6bde54",
        "type": "function",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = \"Impression\"\nmsg.embeds_title = \"Photo Impression\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\nmsg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/ender3pro.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 120,
        "wires": [
            [
                "1a3e6dfb.17c532"
            ]
        ]
    },
    {
        "id": "3ec919b0.8257d6",
        "type": "function",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "Entete",
        "func": "msg.headers = {};\nmsg.headers['X-Api-Key'] = '8152E9EBCCEC473C9B1965CD3EECB90F';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 420,
        "wires": [
            [
                "5290af11.7a204"
            ]
        ]
    },
    {
        "id": "5290af11.7a204",
        "type": "http request",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "Statut impression",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://192.168.100.59/api/job",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 410,
        "y": 420,
        "wires": [
            [
                "a345ee15.2db5f"
            ]
        ]
    },
    {
        "id": "a345ee15.2db5f",
        "type": "function",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "Generation text sortie",
        "func": "msg.payload.progress.completion = Math.round(msg.payload.progress.completion*100)/100;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 420,
        "wires": [
            [
                "2eeaeb97.4a4134"
            ]
        ]
    },
    {
        "id": "fca77777.a83d58",
        "type": "mqtt in",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "progression",
        "topic": "Garage/octoPrint/progress/printing",
        "qos": "1",
        "datatype": "json",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 130,
        "y": 340,
        "wires": [
            [
                "a3cf8886.d7ef08"
            ]
        ]
    },
    {
        "id": "a3cf8886.d7ef08",
        "type": "switch",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "",
        "property": "payload.progress",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "10",
                "vt": "num",
                "v2": "11",
                "v2t": "num"
            },
            {
                "t": "btwn",
                "v": "50",
                "vt": "num",
                "v2": "51",
                "v2t": "num"
            },
            {
                "t": "btwn",
                "v": "75",
                "vt": "num",
                "v2": "76",
                "v2t": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 290,
        "y": 340,
        "wires": [
            [
                "16eb3a34.b899a6"
            ],
            [
                "d53ec72b.128158"
            ],
            [
                "46380030.f3a17"
            ]
        ]
    },
    {
        "id": "16eb3a34.b899a6",
        "type": "rbe",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "",
        "func": "deadband",
        "gap": "5",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 440,
        "y": 300,
        "wires": [
            [
                "27392255.e6a49e"
            ]
        ]
    },
    {
        "id": "46380030.f3a17",
        "type": "rbe",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "",
        "func": "deadband",
        "gap": "5",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 440,
        "y": 380,
        "wires": [
            [
                "27392255.e6a49e"
            ]
        ]
    },
    {
        "id": "d53ec72b.128158",
        "type": "rbe",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "",
        "func": "deadband",
        "gap": "5",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 440,
        "y": 340,
        "wires": [
            [
                "27392255.e6a49e"
            ]
        ]
    },
    {
        "id": "27392255.e6a49e",
        "type": "api-call-service",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "ender 3 Snapshot",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "camera",
        "service": "snapshot",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "camera.esp32cam_ender3"
        ],
        "data": "{\"filename\":\"/config/www/cam_captures/ender3pro.jpg\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 630,
        "y": 220,
        "wires": [
            [
                "4f5dbc00.6bde54"
            ]
        ]
    },
    {
        "id": "2eeaeb97.4a4134",
        "type": "api-call-service",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "Envoi msg",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_pocox3",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"title\":\"Impression terminée\",\"message\":\"Impression 3D {{payload.job.filename}} est complete a {{payload.progress.completion}} % \"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 810,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "7740db99.635714",
        "type": "api-current-state",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "Nuit?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nuit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 350,
        "y": 60,
        "wires": [
            [],
            [
                "45a40d7a.d6d044"
            ]
        ]
    },
    {
        "id": "63a3b2a6.c0e1cc",
        "type": "api-current-state",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "Etat Impression",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Printing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.octoprint_current_state",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 440,
        "y": 220,
        "wires": [
            [
                "27392255.e6a49e"
            ],
            []
        ]
    },
    {
        "id": "645fc10b.0843d",
        "type": "server-state-changed",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "Impression Terminée",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": " binary_sensor.octoprint_printing",
        "entityidfiltertype": "substring",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 170,
        "y": 60,
        "wires": [
            [],
            [
                "7740db99.635714"
            ]
        ]
    },
    {
        "id": "d93e3f97.db658",
        "type": "server-state-changed",
        "z": "b3af9cb9.a9fa9",
        "d": true,
        "g": "4d74fffb.c8d92",
        "name": "Etat Imprimante",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.octoprint_printing",
        "entityidfiltertype": "substring",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 220,
        "wires": [
            [
                "d481f5cd.78d968"
            ],
            []
        ]
    },
    {
        "id": "d750f01a.e524b",
        "type": "server-state-changed",
        "z": "b3af9cb9.a9fa9",
        "g": "4d74fffb.c8d92",
        "name": "% impression",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.octoprint_job_percentage",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "num",
        "haltifstate": "200",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 420,
        "wires": [
            [
                "3ec919b0.8257d6"
            ],
            []
        ]
    },
    {
        "id": "111c981.7343568",
        "type": "mqtt in",
        "z": "43631d17.597e84",
        "g": "7cb351c1.77e2f",
        "name": "",
        "topic": "rack/in",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 90,
        "y": 60,
        "wires": [
            [
                "b74b15a5.58f4c8"
            ]
        ]
    },
    {
        "id": "46e01a77.3e99a4",
        "type": "split",
        "z": "43631d17.597e84",
        "g": "7cb351c1.77e2f",
        "name": "",
        "splt": ";",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "key",
        "x": 570,
        "y": 60,
        "wires": [
            [
                "4d1dcfb3.9e47b"
            ]
        ]
    },
    {
        "id": "232322ca.82827e",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "7cb351c1.77e2f",
        "name": "Recup Svalue",
        "func": "var value = msg.payload.svalue;\nmsg.payload = value;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 400,
        "y": 60,
        "wires": [
            [
                "46e01a77.3e99a4"
            ]
        ]
    },
    {
        "id": "b74b15a5.58f4c8",
        "type": "json",
        "z": "43631d17.597e84",
        "g": "7cb351c1.77e2f",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 230,
        "y": 60,
        "wires": [
            [
                "232322ca.82827e"
            ]
        ]
    },
    {
        "id": "4d1dcfb3.9e47b",
        "type": "join",
        "z": "43631d17.597e84",
        "g": "7cb351c1.77e2f",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 710,
        "y": 60,
        "wires": [
            [
                "f11ff816.a19e78"
            ]
        ]
    },
    {
        "id": "f11ff816.a19e78",
        "type": "change",
        "z": "43631d17.597e84",
        "g": "7cb351c1.77e2f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "\"rack_serveur/conso/\" ",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[2]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 120,
        "wires": [
            [
                "2fd4dd28.7d9492"
            ]
        ]
    },
    {
        "id": "2fd4dd28.7d9492",
        "type": "mqtt out",
        "z": "43631d17.597e84",
        "g": "7cb351c1.77e2f",
        "name": "",
        "topic": "Garage/rack_serveur/conso",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 540,
        "y": 120,
        "wires": []
    },
    {
        "id": "abddf2de.c5457",
        "type": "link out",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Notif out",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 900,
        "y": 240,
        "wires": [],
        "l": true
    },
    {
        "id": "d001ef9f.eb484",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_network\";\nmsg.message = msg.message;\nmsg.embeds_title = \"Etat batteries\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"https://i.imgur.com/OqESt0b.jpg\";\nmsg.embeds_thumbnail = \"https://lh3.googleusercontent.com/proxy/JC4_tWLK0e4Im4QI9POsQoJHnZc5CY4JVDKko1fS1w36eNtP52q-4pUs4oGCi8bMqASE1oqfs-kM-CZNtX2vzRbCY2abpHIE1VqUZsZLgD4\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"1DBBFF\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 730,
        "y": 240,
        "wires": [
            [
                "abddf2de.c5457"
            ]
        ]
    },
    {
        "id": "e0030f37.de5c4",
        "type": "inject",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "18:00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 18 * * *",
        "once": false,
        "onceDelay": "8",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "fcb8b799.77e558",
                "2d77c3e1.c9cb8c"
            ]
        ]
    },
    {
        "id": "d6f6f394.c393c",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "if < 100% and remove phone",
        "func": "state_ok = 99;\nstate_warning = 15;\nstate_low = 65;\n\nexclude = [\n    \"sensor.m2007j20cg_niveau_de_batterie\",\n    \"sensor.redmi_note_7_niveau_de_batterie\"\n];\n\ninput = msg.payload;\nmessage = \"\";\n\nfor(let id in input) {\n    if (input[id].state <= state_ok && exclude.includes(input[id].entity_id) === false) {\n        name = input[id].attributes.friendly_name;\n        state = input[id].state;\n        if (parseInt(state) <= state_warning) {\n            // < 15%\n            message = message+\"> :red_envelope: \"+name+\" : \"+state+\"%\\n\";\n        }else if (parseInt(state) <= state_low) {\n            // < 30%\n            message = message+\"> :small_orange_diamond: \"+name+\" : \"+state+\"%\\n\";\n        }else{\n            // OK\n            message = message+\"> :battery: \"+name+\" : \"+state+\"%\\n\";\n        }\n    }\n}\n\nif (message !== \"\" ) {\n    msg.message = message;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 220,
        "wires": [
            [
                "d001ef9f.eb484"
            ]
        ]
    },
    {
        "id": "5b8a82e4.2e1d6c",
        "type": "comment",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "UPS HS ? ______________________________________________________",
        "info": "",
        "x": 310,
        "y": 360,
        "wires": []
    },
    {
        "id": "b607f01d.00487",
        "type": "switch",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 290,
        "y": 420,
        "wires": [
            [
                "5cc3fa12.c78824",
                "94ae90fd.41307"
            ]
        ]
    },
    {
        "id": "5cc3fa12.c78824",
        "type": "change",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Telegram",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "telegram_jona",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Coupure de courant",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 420,
        "wires": [
            [
                "da576a24.9a7248"
            ]
        ]
    },
    {
        "id": "94ae90fd.41307",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_alarme\"\nmsg.message = \"Courant\"\nmsg.embeds_title = \"Coupure de courant\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"https://i.imgur.com/OqESt0b.jpg\";\nmsg.embeds_thumbnail = \"https://www.pinclipart.com/picdir/middle/281-2813329_tux-facteur-clipart.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"1DBBFF\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 460,
        "wires": [
            [
                "da576a24.9a7248"
            ]
        ]
    },
    {
        "id": "da576a24.9a7248",
        "type": "link out",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Notif out",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 700,
        "y": 420,
        "wires": [],
        "l": true
    },
    {
        "id": "d1a39f3e.e2e1b",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "if < 15% and remove phone",
        "func": "state_ok = 99;\nstate_warning = 15;\nstate_low = 65;\n\nexclude = [\n    \"sensor.m2007j20cg_niveau_de_batterie\",\n    \"sensor.redmi_note_7_niveau_de_batterie\"\n];\n\ninput = msg.payload;\nmessage = \"\";\n\nfor(let id in input) {\n    if (input[id].state <= state_ok && exclude.includes(input[id].entity_id) === false) {\n        name = input[id].attributes.friendly_name;\n        state = input[id].state;\n        if (parseInt(state) <= state_warning) {\n            // < 15%\n            message = message+\"> :red_envelope: \"+name+\" : \"+state+\"%\\n\";\n        }\n    }\n}\n\nif (message !== \"\" ) {\n    msg.message = message;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 260,
        "wires": [
            [
                "d001ef9f.eb484"
            ]
        ]
    },
    {
        "id": "32cc5073.3e74f",
        "type": "mqtt in",
        "z": "43631d17.597e84",
        "d": true,
        "g": "b401b79a.2d5288",
        "name": "Tablette Salon",
        "topic": "fully/deviceInfo/13a2e1b-cd6e0c4a/#",
        "qos": "1",
        "datatype": "json",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 110,
        "y": 520,
        "wires": [
            [
                "6fceab19.d25d24"
            ]
        ]
    },
    {
        "id": "6fceab19.d25d24",
        "type": "switch",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "",
        "property": "payload.batteryLevel",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "20",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "95",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 520,
        "wires": [
            [
                "dab08bfd.f8e128"
            ],
            [
                "4b9e1661.60d398"
            ]
        ]
    },
    {
        "id": "665721ef.8d92c",
        "type": "switch",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "is off?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 500,
        "wires": [
            [
                "8521c9b0.c116b8"
            ],
            []
        ]
    },
    {
        "id": "f6a315b6.ddc668",
        "type": "switch",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "is on?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 540,
        "wires": [
            [
                "a1789897.8da638"
            ]
        ]
    },
    {
        "id": "2baf1977.8b1bb6",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_network\";\nmsg.message = \"Batterie Valve FAIBLE\";\nmsg.embeds_title = msg.name;\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"https://i.imgur.com/OqESt0b.jpg\";\nmsg.embeds_thumbnail = \"https://lh3.googleusercontent.com/proxy/JC4_tWLK0e4Im4QI9POsQoJHnZc5CY4JVDKko1fS1w36eNtP52q-4pUs4oGCi8bMqASE1oqfs-kM-CZNtX2vzRbCY2abpHIE1VqUZsZLgD4\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"1DBBFF\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 790,
        "y": 300,
        "wires": [
            [
                "abddf2de.c5457"
            ]
        ]
    },
    {
        "id": "8cdb9914.79a628",
        "type": "switch",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Recup  valves",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "climate.vanne_*",
                "vt": "str",
                "case": false
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 480,
        "y": 300,
        "wires": [
            [
                "acd5581b.45ced8"
            ]
        ]
    },
    {
        "id": "acd5581b.45ced8",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "",
        "func": "const battery_low =  msg.payload.attributes.battery_low;\nconst name =  msg.payload.entity_id.replace('climate.','');\n\n\nif (battery_low === true) {\n   msg.name = name;\n   node.warn(msg.name);\n   return msg;\n} ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 300,
        "wires": [
            [
                "2baf1977.8b1bb6"
            ]
        ]
    },
    {
        "id": "54e9090c.e888c8",
        "type": "link out",
        "z": "43631d17.597e84",
        "g": "a873e43.347ec18",
        "name": "",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 1280,
        "y": 120,
        "wires": [],
        "l": true
    },
    {
        "id": "167a35.58bbd5cc",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "a873e43.347ec18",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = msg.topic;\nmsg.embeds_title = msg.payload;\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/bi_rue.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1110,
        "y": 120,
        "wires": [
            [
                "54e9090c.e888c8"
            ]
        ]
    },
    {
        "id": "f1391237.cfec1",
        "type": "mqtt in",
        "z": "43631d17.597e84",
        "d": true,
        "g": "a788e3d5.f7c9e",
        "name": "Tag Reader",
        "topic": "tagreader/debug",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 1110,
        "y": 220,
        "wires": [
            [
                "4481614f.bbbf8"
            ]
        ]
    },
    {
        "id": "1238228a.01b7ed",
        "type": "debug",
        "z": "43631d17.597e84",
        "g": "a788e3d5.f7c9e",
        "name": "Tag ID",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1850,
        "y": 220,
        "wires": []
    },
    {
        "id": "4481614f.bbbf8",
        "type": "function",
        "z": "43631d17.597e84",
        "g": "a788e3d5.f7c9e",
        "name": "",
        "func": "msg.payload = msg.payload.toString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1260,
        "y": 220,
        "wires": [
            [
                "4a767e3a.53b6e"
            ]
        ]
    },
    {
        "id": "4a767e3a.53b6e",
        "type": "split",
        "z": "43631d17.597e84",
        "g": "a788e3d5.f7c9e",
        "name": "",
        "splt": "'",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1390,
        "y": 220,
        "wires": [
            [
                "70a466fd.365958"
            ]
        ]
    },
    {
        "id": "70a466fd.365958",
        "type": "switch",
        "z": "43631d17.597e84",
        "g": "a788e3d5.f7c9e",
        "name": "extract ID",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "-",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1520,
        "y": 220,
        "wires": [
            [
                "a7eb8d3a.cb258"
            ]
        ]
    },
    {
        "id": "a7eb8d3a.cb258",
        "type": "switch",
        "z": "43631d17.597e84",
        "g": "a788e3d5.f7c9e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "93-FD-55-40",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1650,
        "y": 220,
        "wires": [
            [
                "1238228a.01b7ed"
            ]
        ]
    },
    {
        "id": "c63aba53.158e58",
        "type": "switch",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "property": "payload.event.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "yes1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "no1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 720,
        "wires": [
            [
                "76291eba.ee847",
                "1ea69f68.6f0a81"
            ],
            []
        ]
    },
    {
        "id": "1ea69f68.6f0a81",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 220,
        "y": 780,
        "wires": [
            [
                "9f27525e.ca35f",
                "b31f00a3.65799"
            ]
        ]
    },
    {
        "id": "b31f00a3.65799",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 220,
        "y": 840,
        "wires": [
            [
                "c723f0d5.6d4fd",
                "422d7b57.0458a4"
            ]
        ]
    },
    {
        "id": "c723f0d5.6d4fd",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 220,
        "y": 900,
        "wires": [
            [
                "b33ed78e.50fcc8",
                "ce5aa226.d370d"
            ]
        ]
    },
    {
        "id": "b33ed78e.50fcc8",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 220,
        "y": 960,
        "wires": [
            [
                "856e7de3.6152b",
                "5155b3ba.f303cc"
            ]
        ]
    },
    {
        "id": "856e7de3.6152b",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 220,
        "y": 1020,
        "wires": [
            [
                "fc35a2c6.79c3f",
                "efe91cd9.9a261"
            ]
        ]
    },
    {
        "id": "efe91cd9.9a261",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 220,
        "y": 1080,
        "wires": [
            [
                "e8a99f89.ba011",
                "40bd9aee.999974"
            ]
        ]
    },
    {
        "id": "e8a99f89.ba011",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 220,
        "y": 1140,
        "wires": [
            [
                "c391c00c.c0fa3",
                "d66a1bf1.b5b688"
            ]
        ]
    },
    {
        "id": "d66a1bf1.b5b688",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 220,
        "y": 1200,
        "wires": [
            [
                "ef231521.271688"
            ]
        ]
    },
    {
        "id": "ba16cf1cc5a537a4",
        "type": "delay",
        "z": "43631d17.597e84",
        "g": "637fbef2c6f5e0a5",
        "name": "10min",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1630,
        "y": 60,
        "wires": [
            [
                "41852e35193abbdb"
            ]
        ]
    },
    {
        "id": "f26192da042cc77f",
        "type": "inject",
        "z": "43631d17.597e84",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 720,
        "y": 660,
        "wires": [
            [
                "c44a506d11a16401"
            ]
        ]
    },
    {
        "id": "f2dbf4b526a1c6fb",
        "type": "inject",
        "z": "43631d17.597e84",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1530,
        "y": 140,
        "wires": [
            [
                "41852e35193abbdb"
            ]
        ]
    },
    {
        "id": "f6c8e46f406782f4",
        "type": "debug",
        "z": "43631d17.597e84",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 660,
        "wires": []
    },
    {
        "id": "76291eba.ee847",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown Adguard",
        "commandLine": " esxcli vm process kill -w 610674 -t soft",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 410,
        "y": 720,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "9f27525e.ca35f",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown Xpeno",
        "commandLine": " esxcli vm process kill -w 265151 -t soft",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 410,
        "y": 780,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "422d7b57.0458a4",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown BT2MQTT",
        "commandLine": " esxcli vm process kill -w 266110 -t soft",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 420,
        "y": 840,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "ce5aa226.d370d",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown Docker 9",
        "commandLine": " esxcli vm process kill -w 266377 -t soft",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 420,
        "y": 900,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "5155b3ba.f303cc",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown Docker 10",
        "commandLine": " esxcli vm process kill -w 266715 -t soft",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 420,
        "y": 960,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "fc35a2c6.79c3f",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown NodeRed",
        "commandLine": " esxcli vm process kill -w 266649 -t soft",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 420,
        "y": 1020,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "c391c00c.c0fa3",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown Deconz",
        "commandLine": " esxcli vm process kill -w 345587 -t soft",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 410,
        "y": 1140,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "ef231521.271688",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown Serveur",
        "commandLine": "esxcli system shutdown poweroff",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 410,
        "y": 1200,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "40bd9aee.999974",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "ShutDown HassOs",
        "commandLine": " esxcli vm process kill -w 267178 -t soft",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "ecafd0c1.a73ed",
        "x": 410,
        "y": 1080,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "c44a506d11a16401",
        "type": "bigssh",
        "z": "43631d17.597e84",
        "name": "",
        "commandLine": "ha core restart",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": true,
        "format": "",
        "payloadIsArg": false,
        "myssh": "2297c927.8c4f56",
        "x": 900,
        "y": 660,
        "wires": [
            [
                "f6c8e46f406782f4"
            ],
            [],
            []
        ]
    },
    {
        "id": "dab08bfd.f8e128",
        "type": "zigbee2mqtt-get",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "state prise",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Prise tablette (TS011F_socket_module)",
        "device_id": "0x588e81fffed98147",
        "state": "0",
        "enableMultiple": false,
        "x": 470,
        "y": 500,
        "wires": [
            [
                "665721ef.8d92c"
            ]
        ]
    },
    {
        "id": "4b9e1661.60d398",
        "type": "zigbee2mqtt-get",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "state prise",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Prise tablette (TS011F_socket_module)",
        "device_id": "0x588e81fffed98147",
        "state": "0",
        "enableMultiple": false,
        "x": 470,
        "y": 540,
        "wires": [
            [
                "f6a315b6.ddc668"
            ]
        ]
    },
    {
        "id": "8521c9b0.c116b8",
        "type": "zigbee2mqtt-out",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Prise On",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Prise tablette (TS011F_socket_module)",
        "device_id": "0x588e81fffed98147",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "on",
        "payloadType": "z2m_payload",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 840,
        "y": 500,
        "wires": []
    },
    {
        "id": "a1789897.8da638",
        "type": "zigbee2mqtt-out",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Prise Off",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Prise tablette (TS011F_socket_module)",
        "device_id": "0x588e81fffed98147",
        "command": "state",
        "commandType": "z2m_cmd",
        "payload": "off",
        "payloadType": "z2m_payload",
        "optionsValue": "",
        "optionsType": "nothing",
        "x": 841,
        "y": 540,
        "wires": []
    },
    {
        "id": "276ced2.8e36512",
        "type": "api-call-service",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "Notif extinction",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_pocox3",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"UPS < 30%, dois-je éteindre le serveur?\",\"title\":\"DCJ Channel\",\"data\":{\"actions\":[{\"action\":\"yes1\",\"title\":\"Oui\"},{\"action\":\"no1\",\"title\":\"Non\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 480,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "41852e35193abbdb",
        "type": "api-call-service",
        "z": "43631d17.597e84",
        "g": "637fbef2c6f5e0a5",
        "name": "HA Restart",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "homeassistant",
        "service": "restart",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1790,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "23e5c16a.8af20e",
        "type": "api-current-state",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "UPS status",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "100",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "entity_id": "sensor.ups_input_voltage",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 290,
        "y": 640,
        "wires": [
            [
                "276ced2.8e36512"
            ],
            []
        ]
    },
    {
        "id": "ed21e799.78cfe8",
        "type": "server-events",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "Action app",
        "server": "5261c37d2408eef8",
        "version": 1,
        "event_type": "mobile_app_notification_action",
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            },
            {
                "property": "event_type",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 100,
        "y": 720,
        "wires": [
            [
                "c63aba53.158e58"
            ]
        ]
    },
    {
        "id": "e3d606dd.708bf8",
        "type": "server-state-changed",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Input Voltage",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.qnapups_input_voltage",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 420,
        "wires": [
            [
                "b607f01d.00487"
            ]
        ]
    },
    {
        "id": "5c3e0e25.e27ca",
        "type": "server-state-changed",
        "z": "43631d17.597e84",
        "g": "a873e43.347ec18",
        "name": "Fenetre HS",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.fenetre*",
        "entityidfiltertype": "regex",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "unavailable",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 910,
        "y": 60,
        "wires": [
            [
                "167a35.58bbd5cc"
            ],
            []
        ]
    },
    {
        "id": "9c24cf95.9f84a",
        "type": "server-state-changed",
        "z": "43631d17.597e84",
        "g": "a873e43.347ec18",
        "name": "Porte HS",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.porte*",
        "entityidfiltertype": "regex",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "unavailable",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1100,
        "y": 60,
        "wires": [
            [
                "167a35.58bbd5cc"
            ],
            []
        ]
    },
    {
        "id": "4ed3171e.4499e8",
        "type": "server-state-changed",
        "z": "43631d17.597e84",
        "g": "a873e43.347ec18",
        "name": "Pres HS",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.pres*",
        "entityidfiltertype": "regex",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "unavailable",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 900,
        "y": 120,
        "wires": [
            [
                "167a35.58bbd5cc"
            ],
            []
        ]
    },
    {
        "id": "495b6c7b.6c4d84",
        "type": "server-state-changed",
        "z": "43631d17.597e84",
        "g": "de698d74.637d3",
        "name": "UPS voltage",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.ups_battery_charge",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "50",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 640,
        "wires": [
            [
                "23e5c16a.8af20e"
            ],
            []
        ]
    },
    {
        "id": "20a761d1688fa15d",
        "type": "server-state-changed",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Battery TAb",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.fire_tablet_battery_level",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "18",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "x": 110,
        "y": 480,
        "wires": [
            [
                "dab08bfd.f8e128"
            ],
            [
                "4b9e1661.60d398"
            ]
        ]
    },
    {
        "id": "f97c7a42bc8ba469",
        "type": "server-state-changed",
        "z": "43631d17.597e84",
        "g": "637fbef2c6f5e0a5",
        "name": "Samba Backup",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.samba_backup",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "SUCCEEDED",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "true",
                "valueType": "bool"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1480,
        "y": 60,
        "wires": [
            [
                "ba16cf1cc5a537a4"
            ],
            []
        ]
    },
    {
        "id": "67dfd50ac22e3071",
        "type": "server-state-changed",
        "z": "43631d17.597e84",
        "g": "a873e43.347ec18",
        "name": "Compteur Signal",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.slimmelezer_wi_fi_signal",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1260,
        "y": 60,
        "wires": [
            [
                "167a35.58bbd5cc"
            ],
            []
        ]
    },
    {
        "id": "fcb8b799.77e558",
        "type": "ha-get-entities",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Recup batteries",
        "server": "5261c37d2408eef8",
        "version": 0,
        "rules": [
            {
                "property": "attributes.device_class",
                "logic": "is",
                "value": "battery",
                "valueType": "str"
            },
            {
                "property": "attributes.unit_of_measurement",
                "logic": "is",
                "value": "%",
                "valueType": "str"
            }
        ],
        "output_type": "array",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 280,
        "y": 240,
        "wires": [
            [
                "d1a39f3e.e2e1b"
            ]
        ]
    },
    {
        "id": "2d77c3e1.c9cb8c",
        "type": "ha-get-entities",
        "z": "43631d17.597e84",
        "g": "b401b79a.2d5288",
        "name": "Recup battery_low",
        "server": "5261c37d2408eef8",
        "version": 0,
        "rules": [
            {
                "property": "attributes.battery_low",
                "logic": "is",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "8cdb9914.79a628"
            ]
        ]
    },
    {
        "id": "82eae0d5.637ec",
        "type": "delay",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "pauseType": "delay",
        "timeout": "70",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 580,
        "y": 700,
        "wires": [
            [
                "97646e78.60946",
                "250773fb.73583c"
            ]
        ]
    },
    {
        "id": "ac40b47b.30eb08",
        "type": "comment",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "TTS si présent",
        "info": "",
        "x": 480,
        "y": 400,
        "wires": []
    },
    {
        "id": "1f6ac4a6.e34d8b",
        "type": "inject",
        "z": "4c110565.89018c",
        "g": "5b43065d.519348",
        "name": "19:00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 19 * * 4",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1130,
        "y": 80,
        "wires": [
            [
                "11ba9958.a32057",
                "4ac6ccf0.880734"
            ]
        ]
    },
    {
        "id": "c0e67c61.d00e",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "5b43065d.519348",
        "name": "",
        "func": "msg.title = \"Poubelle\"\nmsg.dest = \"tel_jona;telegram_jona\"\nmsg.message = \"Ne pas oublier de sortir les cartons et pmc!\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1520,
        "y": 100,
        "wires": [
            [
                "3e994ad5.5aed86"
            ]
        ]
    },
    {
        "id": "8e5f72a4.18ebb",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "5b43065d.519348",
        "name": "",
        "func": "msg.title = \"Poubelles\"\nmsg.dest = \"tel_jona;telegram_jona\"\nmsg.message = \"Ne pas oublier de sortir les poubelles !\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1520,
        "y": 40,
        "wires": [
            [
                "3e994ad5.5aed86"
            ]
        ]
    },
    {
        "id": "a0970a40.cd8968",
        "type": "change",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Telegram",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "telegram_jona",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Le facteur est passé",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 400,
        "wires": [
            [
                "125eac8b.d1f583"
            ]
        ]
    },
    {
        "id": "cbe69ae6.559a48",
        "type": "link in",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Notif in",
        "links": [
            "125eac8b.d1f583",
            "37133d4.fe547c2",
            "3e994ad5.5aed86",
            "54e9090c.e888c8",
            "61aff004.3318",
            "8ebf22ef.bb5ad",
            "abddf2de.c5457",
            "cf949bb.d214768",
            "da576a24.9a7248",
            "dc4945228772ce28",
            "6aefb37fe32bd79e",
            "88cc31b0ee3f12b1",
            "e5bc39fbd1921097",
            "4f582706fe4b3efe",
            "11d2e476c18eb38d",
            "cb934cad168039a3"
        ],
        "x": 130,
        "y": 920,
        "wires": [
            [
                "ac676011.5d7c7"
            ]
        ],
        "l": true
    },
    {
        "id": "21197c0.3fe7584",
        "type": "change",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Le facteur est passé, vous pouvez aller relevé votre courrier",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_40_salon_3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 540,
        "wires": [
            [
                "125eac8b.d1f583"
            ]
        ]
    },
    {
        "id": "83db67.48a97498",
        "type": "comment",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Sonnette______________________________________________________",
        "info": "",
        "x": 310,
        "y": 60,
        "wires": []
    },
    {
        "id": "ceca726c.bf2c9",
        "type": "comment",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Facteur______________________________________________________",
        "info": "",
        "x": 300,
        "y": 340,
        "wires": []
    },
    {
        "id": "350f73fa.f8fdbc",
        "type": "comment",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Gestion Notif__________________________________",
        "info": "",
        "x": 240,
        "y": 860,
        "wires": []
    },
    {
        "id": "996db514.80df38",
        "type": "comment",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Ouverture garage",
        "info": "",
        "x": 120,
        "y": 600,
        "wires": []
    },
    {
        "id": "c40d8c63.bf7c2",
        "type": "change",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "awtrix",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "awtrix",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "On sonne à la porte",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 260,
        "wires": [
            [
                "125eac8b.d1f583"
            ]
        ]
    },
    {
        "id": "2020894.b011e76",
        "type": "change",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "awtrix",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "awtrix",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Le facteur est passé",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 480,
        "wires": [
            [
                "125eac8b.d1f583"
            ]
        ]
    },
    {
        "id": "618b67ad.c61c08",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = \"Facteur\"\nmsg.embeds_title = \"Vous avez du courrier\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"https://i.imgur.com/OqESt0b.jpg\";\nmsg.embeds_thumbnail = \"https://www.pinclipart.com/picdir/middle/281-2813329_tux-facteur-clipart.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"1DBBFF\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 290,
        "y": 440,
        "wires": [
            [
                "125eac8b.d1f583"
            ]
        ]
    },
    {
        "id": "3e994ad5.5aed86",
        "type": "link out",
        "z": "4c110565.89018c",
        "g": "5b43065d.519348",
        "name": "Notif out",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 1730,
        "y": 60,
        "wires": [],
        "l": true
    },
    {
        "id": "58f33afb.3f8b34",
        "type": "http in",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "url": "facteur",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 800,
        "wires": [
            [
                "c7f7133d.b7377",
                "2e12f162.ff1b2e"
            ]
        ]
    },
    {
        "id": "c7f7133d.b7377",
        "type": "http response",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "statusCode": "200",
        "headers": {},
        "x": 320,
        "y": 760,
        "wires": []
    },
    {
        "id": "24052892.6d09d8",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "prep msg",
        "func": "msg.filename = '/config/www/cam_captures/rue.jpg';\nmsg.payload = { \n data: {\n type: 'photo',\n file: '/config/www/cam_captures/rue.jpg',\n chatId: 420729923,\n caption: 'On sonne à la porte' }\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 100,
        "wires": [
            [
                "bb8f8fa6.6ce38"
            ]
        ]
    },
    {
        "id": "695fdf8.b59cd2",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "prep msg",
        "func": "node.status({fill:\"blue\", shape:\"ring\", text:\"sent\"});\n\nnewmsg = { \n data: \n {\n  \"message\": \"photo\",\n  \"data\": {\n    \"images\": [\n      \"/config/www/cam_captures/rue.jpg\"\n              ]\n           }\n  }\n  }    \nmsg.payload = newmsg\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 160,
        "wires": [
            [
                "8db0cc01.cef13"
            ]
        ]
    },
    {
        "id": "667fc863.98d8a8",
        "type": "change",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_salon",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "On sonne à la porte",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 220,
        "wires": [
            [
                "125eac8b.d1f583"
            ]
        ]
    },
    {
        "id": "125eac8b.d1f583",
        "type": "link out",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Notif out",
        "mode": "link",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 480,
        "y": 220,
        "wires": [],
        "l": true
    },
    {
        "id": "e36fdaa2.0ac7b8",
        "type": "switch",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1310,
        "y": 680,
        "wires": [
            [
                "155f1d0e.1760a3"
            ],
            [
                "fcb1d1cd.b9b9b"
            ]
        ]
    },
    {
        "id": "219b0cbb.7f93a4",
        "type": "switch",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1290,
        "y": 540,
        "wires": [
            [
                "5740efd4.78854",
                "fcf793ac.7e76"
            ],
            [
                "7aaa450e.efea8c",
                "583c593f.203cb8"
            ]
        ]
    },
    {
        "id": "ffa97af9.a90818",
        "type": "http request",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 1950,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "fcf793ac.7e76",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Nextion Gar Wake Up",
        "func": "var url = \"http://192.168.100.37/control?cmd=Nextion_2.4_Intell,sleep=0\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1740,
        "y": 520,
        "wires": [
            [
                "ffa97af9.a90818"
            ]
        ]
    },
    {
        "id": "7aaa450e.efea8c",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Nextion Gar Sleep",
        "func": "var url = \"http://192.168.100.37/control?cmd=Nextion_2.4_Intell,sleep=1\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1730,
        "y": 580,
        "wires": [
            [
                "ffa97af9.a90818"
            ]
        ]
    },
    {
        "id": "56faba78.c51514",
        "type": "switch",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1350,
        "y": 340,
        "wires": [
            [
                "ec353f52.3d826"
            ],
            []
        ]
    },
    {
        "id": "dfc19222.66163",
        "type": "switch",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1350,
        "y": 200,
        "wires": [
            [
                "ac3d1bae.47c058",
                "a5e01a9a.265848"
            ],
            [
                "7a1a9aab.379844",
                "c462d85f.0c69c8"
            ]
        ]
    },
    {
        "id": "a5e01a9a.265848",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Nextion CH Wake Up",
        "func": "var url = \"http://192.168.100.36/control?cmd=NEXTION,sleep=0\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1760,
        "y": 200,
        "wires": [
            [
                "8d6ecead.cd36b"
            ]
        ]
    },
    {
        "id": "8d6ecead.cd36b",
        "type": "http request",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1950,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "c462d85f.0c69c8",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Nextion CH Wake Up",
        "func": "var url = \"http://192.168.100.36/control?cmd=NEXTION,sleep=1\"; \nmsg.url = url;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1760,
        "y": 260,
        "wires": [
            [
                "8d6ecead.cd36b"
            ]
        ]
    },
    {
        "id": "a17cbc4e.1b69e",
        "type": "switch",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "property": "payload.event.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "yes",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "no",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 640,
        "wires": [
            [
                "898e3ea7.00b5f"
            ],
            []
        ]
    },
    {
        "id": "ac676011.5d7c7",
        "type": "subflow:711f44dc.b8379c",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "env": [],
        "x": 310,
        "y": 920,
        "wires": []
    },
    {
        "id": "3c53cfff.26c38",
        "type": "link in",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Inter Osram cast in",
        "links": [
            "835bdc58.7d218",
            "ef8ee7c9bab00ce0"
        ],
        "x": 1525,
        "y": 400,
        "wires": [
            [
                "e5d1b097.5d461"
            ]
        ]
    },
    {
        "id": "3090c70.7f51a3a",
        "type": "rbe",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 290,
        "y": 100,
        "wires": [
            [
                "3dca016a.0fd64e"
            ]
        ]
    },
    {
        "id": "e53dc66c.12cac8",
        "type": "mqtt in",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Dahua_VTO",
        "topic": "DahuaVTO/Invite/Event",
        "qos": "1",
        "datatype": "json",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 90,
        "y": 100,
        "wires": [
            [
                "61fdfc1.4f0b904"
            ]
        ]
    },
    {
        "id": "61fdfc1.4f0b904",
        "type": "switch",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "property": "payload.Action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Pulse",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 130,
        "y": 160,
        "wires": [
            [
                "3090c70.7f51a3a",
                "84b206cc.6d8448",
                "667fc863.98d8a8",
                "c40d8c63.bf7c2"
            ]
        ]
    },
    {
        "id": "ec510563.9ddc98",
        "type": "inject",
        "z": "4c110565.89018c",
        "g": "760ad0d2.b9337",
        "name": "Go !!!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1130,
        "y": 840,
        "wires": [
            [
                "a350f1ac.201e4"
            ]
        ]
    },
    {
        "id": "81d2472e.775fe8",
        "type": "delay",
        "z": "4c110565.89018c",
        "g": "760ad0d2.b9337",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1440,
        "y": 840,
        "wires": [
            [
                "c5c2de51.94265"
            ]
        ]
    },
    {
        "id": "59949868.d644e8",
        "type": "delay",
        "z": "4c110565.89018c",
        "g": "760ad0d2.b9337",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1760,
        "y": 840,
        "wires": [
            [
                "e7b7aea.7ebc35"
            ]
        ]
    },
    {
        "id": "d49be46c.bf2978",
        "type": "link in",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "BAL in",
        "links": [
            "5048c56d.b3840c"
        ],
        "x": 90,
        "y": 400,
        "wires": [
            [
                "a0970a40.cd8968",
                "618b67ad.c61c08",
                "2020894.b011e76",
                "c9161089.6aaa1",
                "a173b00e.0f394"
            ]
        ],
        "l": true
    },
    {
        "id": "fdb20386.983a3",
        "type": "inject",
        "z": "4c110565.89018c",
        "g": "760ad0d2.b9337",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1760,
        "y": 900,
        "wires": [
            [
                "e7b7aea.7ebc35"
            ]
        ]
    },
    {
        "id": "bdc8335b.43c23",
        "type": "inject",
        "z": "4c110565.89018c",
        "g": "760ad0d2.b9337",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1440,
        "y": 900,
        "wires": [
            [
                "c5c2de51.94265"
            ]
        ]
    },
    {
        "id": "56b0fb48.a33b14",
        "type": "inject",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1170,
        "y": 260,
        "wires": [
            [
                "ac3d1bae.47c058"
            ]
        ]
    },
    {
        "id": "1996c36472bd838d",
        "type": "delay",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1490,
        "y": 1000,
        "wires": [
            [
                "974d4afb981235cb"
            ]
        ]
    },
    {
        "id": "8bf24650f1832383",
        "type": "link in",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Gar Aliki in",
        "links": [
            "8b4b7470.716148"
        ],
        "x": 1120,
        "y": 1040,
        "wires": [
            [
                "71149ee06cfb27f9"
            ]
        ],
        "l": true
    },
    {
        "id": "925e406343ad82bc",
        "type": "link in",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Portail in",
        "links": [
            "f3b2975f.913b58"
        ],
        "x": 1120,
        "y": 1120,
        "wires": [
            [
                "b092bf1c7c9e22b9"
            ]
        ],
        "l": true
    },
    {
        "id": "41ea3534f0054ea0",
        "type": "delay",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1670,
        "y": 1080,
        "wires": [
            [
                "a5d9052c18165e8c",
                "149f8a7ec1ef52d3"
            ]
        ]
    },
    {
        "id": "40c3642829a8218f",
        "type": "function",
        "z": "4c110565.89018c",
        "g": "de9a5bfb0704e2ae",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = \"FRIGATE\"\nmsg.embeds_title = \"frigate cpu < 20 - HS?\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/bi_rue.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 1020,
        "wires": [
            [
                "4f582706fe4b3efe"
            ]
        ]
    },
    {
        "id": "4f582706fe4b3efe",
        "type": "link out",
        "z": "4c110565.89018c",
        "g": "de9a5bfb0704e2ae",
        "name": "Notif out",
        "mode": "link",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 480,
        "y": 1020,
        "wires": [],
        "l": true
    },
    {
        "id": "20ca9bd58fcb5b3e",
        "type": "inject",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "84b206cc.6d8448"
            ]
        ]
    },
    {
        "id": "fcb1d1cd.b9b9b",
        "type": "bigssh",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Stop Cast",
        "commandLine": "/usr/bin/catt -d '192.168.100.122' stop",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "2297c927.8c4f56",
        "x": 1900,
        "y": 720,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "465d2bde.b7b864",
        "type": "bigssh",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Stop Cast",
        "commandLine": "/usr/bin/catt -d '192.168.100.152' stop",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "2297c927.8c4f56",
        "x": 1920,
        "y": 400,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "a350f1ac.201e4",
        "type": "bigssh",
        "z": "4c110565.89018c",
        "g": "760ad0d2.b9337",
        "name": "Add Pip",
        "commandLine": "apk add --update py-pip",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": true,
        "format": "",
        "payloadIsArg": false,
        "myssh": "2297c927.8c4f56",
        "x": 1300,
        "y": 840,
        "wires": [
            [
                "81d2472e.775fe8"
            ],
            [],
            []
        ]
    },
    {
        "id": "c5c2de51.94265",
        "type": "bigssh",
        "z": "4c110565.89018c",
        "g": "760ad0d2.b9337",
        "name": "Add Python3",
        "commandLine": "apk add --no-cache python3",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": true,
        "format": "",
        "payloadIsArg": false,
        "myssh": "2297c927.8c4f56",
        "x": 1590,
        "y": 840,
        "wires": [
            [
                "59949868.d644e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "e7b7aea.7ebc35",
        "type": "bigssh",
        "z": "4c110565.89018c",
        "g": "760ad0d2.b9337",
        "name": "Install Cat",
        "commandLine": "pip3 install catt",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": true,
        "format": "",
        "payloadIsArg": false,
        "myssh": "2297c927.8c4f56",
        "x": 1900,
        "y": 840,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "bf3731c5.dbafd",
        "type": "bigssh",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Cast NestHub",
        "commandLine": "/usr/bin/catt -d '192.168.100.152' cast_site \"http://192.168.100.96:8123/lovelace-mobile/accueil\"",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "2297c927.8c4f56",
        "x": 1940,
        "y": 300,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "ddd76ccf.e35ee",
        "type": "bigssh",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Cast NestHub",
        "commandLine": "/usr/bin/catt -d '192.168.100.122' cast_site \"http://192.168.100.96:8123/lovelace-mobile/accueil\"",
        "commandArgs": "",
        "minError": 1,
        "minWarning": 1,
        "noStdin": false,
        "format": "",
        "payloadIsArg": false,
        "myssh": "2297c927.8c4f56",
        "x": 1900,
        "y": 640,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "155f1d0e.1760a3",
        "type": "time-range-switch",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "",
        "lat": "50.4",
        "lon": "4.2667",
        "startTime": "6:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1490,
        "y": 680,
        "wires": [
            [
                "c9529f9f.ce82e"
            ],
            []
        ]
    },
    {
        "id": "ec353f52.3d826",
        "type": "time-range-switch",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "",
        "lat": "50.4",
        "lon": "4.2667",
        "startTime": "7:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1530,
        "y": 340,
        "wires": [
            [
                "e5d1b097.5d461"
            ],
            [
                "465d2bde.b7b864"
            ]
        ]
    },
    {
        "id": "3f54e7d5.cf1d78",
        "type": "zigbee2mqtt-in",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Pres CH_P (RTCGQ11LM)",
        "device_id": "0x00158d0001a66318",
        "state": "0",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 1170,
        "y": 200,
        "wires": [
            [
                "dfc19222.66163"
            ]
        ]
    },
    {
        "id": "d19650ba.76ba9",
        "type": "zigbee2mqtt-in",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Pres_Garage",
        "server": "e17f99a94c99cbb8",
        "friendly_name": "Présence Garage (RTCGQ11LM)",
        "device_id": "0x00158d0002ec7e33",
        "state": "occupancy",
        "outputAtStartup": true,
        "filterChanges": true,
        "enableMultiple": false,
        "x": 1130,
        "y": 540,
        "wires": [
            [
                "219b0cbb.7f93a4"
            ]
        ]
    },
    {
        "id": "97646e78.60946",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": " Descendre garage",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.porte_garage_jon"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 870,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "898e3ea7.00b5f",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Monter garage ",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.porte_garage_jon"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 400,
        "y": 700,
        "wires": [
            [
                "82eae0d5.637ec"
            ]
        ]
    },
    {
        "id": "250773fb.73583c",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Reset Boolean facteur",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.facteur"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 880,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "bb8f8fa6.6ce38",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Envoi Photo Telegram",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "telegram_bot",
        "service": "send_photo",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 840,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "8db0cc01.cef13",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Envoi Photo Discord",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notif_jona_discord",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 840,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "2e12f162.ff1b2e",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.facteur"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 520,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "3dca016a.0fd64e",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Rue Snapshot",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "camera",
        "service": "snapshot",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "camera.rue"
        ],
        "data": "{\"filename\":\"/config/www/cam_captures/rue.jpg\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 460,
        "y": 100,
        "wires": [
            [
                "24052892.6d09d8",
                "695fdf8.b59cd2"
            ]
        ]
    },
    {
        "id": "583c593f.203cb8",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Cast Input OFF",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.cast_dashboard_garage"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1520,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "5740efd4.78854",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Cast Input ON",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.cast_dashboard_garage"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1520,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "c9529f9f.ce82e",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Vol 0%",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "volume_set",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.garage"
        ],
        "data": "{\"volume_level\":0}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1700,
        "y": 680,
        "wires": [
            [
                "ddd76ccf.e35ee"
            ]
        ]
    },
    {
        "id": "7a1a9aab.379844",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Cast Input OFF",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.cast_dashboard"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1560,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "ac3d1bae.47c058",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Cast Input ON",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.cast_dashboard"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1560,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "e5d1b097.5d461",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Vol 0%",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "volume_set",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.nesthub"
        ],
        "data": "{\"volume_level\":0}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1740,
        "y": 340,
        "wires": [
            [
                "bf3731c5.dbafd"
            ]
        ]
    },
    {
        "id": "84b206cc.6d8448",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Notif bouton",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_11tpro",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"On sonne, dois-je ouvrir?\",\"title\":\"DCJ Channel\",\"data\":{\"actions\":[{\"action\":\"yes\",\"title\":\"Oui\"},{\"action\":\"no\",\"title\":\"Non\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 310,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "b092bf1c7c9e22b9",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Sw portail on",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_portail_l1"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1430,
        "y": 1080,
        "wires": [
            [
                "41ea3534f0054ea0"
            ]
        ]
    },
    {
        "id": "a5d9052c18165e8c",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Bool portail off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.portail"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1860,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "fe6d1f9a6caba1f1",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Bool gar aliki off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.garage_aliki"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1860,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "974d4afb981235cb",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Sw garage aliki off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_1_relay"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1670,
        "y": 1000,
        "wires": [
            [
                "fe6d1f9a6caba1f1"
            ]
        ]
    },
    {
        "id": "71149ee06cfb27f9",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Sw garage aliki on",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_1_relay"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1310,
        "y": 1000,
        "wires": [
            [
                "1996c36472bd838d"
            ]
        ]
    },
    {
        "id": "149f8a7ec1ef52d3",
        "type": "api-call-service",
        "z": "4c110565.89018c",
        "name": "Sw portail off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_portail_l1"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1850,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "11ba9958.a32057",
        "type": "api-current-state",
        "z": "4c110565.89018c",
        "g": "5b43065d.519348",
        "name": "Poubelles",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "1",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.poubelles",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 1320,
        "y": 40,
        "wires": [
            [
                "8e5f72a4.18ebb"
            ],
            []
        ]
    },
    {
        "id": "4ac6ccf0.880734",
        "type": "api-current-state",
        "z": "4c110565.89018c",
        "g": "5b43065d.519348",
        "name": "Carton PMC",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "1",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.carton_pmc",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 1330,
        "y": 100,
        "wires": [
            [
                "c0e67c61.d00e"
            ],
            []
        ]
    },
    {
        "id": "c9161089.6aaa1",
        "type": "api-current-state",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "home jona",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.dcjona",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 290,
        "y": 520,
        "wires": [
            [
                "21197c0.3fe7584"
            ],
            []
        ]
    },
    {
        "id": "a173b00e.0f394",
        "type": "api-current-state",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "home aliki",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.aliki",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 280,
        "y": 560,
        "wires": [
            [
                "21197c0.3fe7584"
            ],
            []
        ]
    },
    {
        "id": "9ab42cc7.b3142",
        "type": "server-events",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Action app",
        "server": "5261c37d2408eef8",
        "version": 1,
        "event_type": "mobile_app_notification_action",
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            },
            {
                "property": "event_type",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 120,
        "y": 640,
        "wires": [
            [
                "a17cbc4e.1b69e"
            ]
        ]
    },
    {
        "id": "6d2073d2.df7c6c",
        "type": "server-state-changed",
        "z": "4c110565.89018c",
        "g": "aed256f1.649fa8",
        "name": "Boolean facteur",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.facteur",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 700,
        "wires": [
            [
                "898e3ea7.00b5f"
            ],
            []
        ]
    },
    {
        "id": "e69b0ab1.61b128",
        "type": "server-state-changed",
        "z": "4c110565.89018c",
        "g": "5543a07b.da5c6",
        "name": "Cast Input Boolean",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.cast_dashboard_garage",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1150,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "932764fd.b23488",
        "type": "server-state-changed",
        "z": "4c110565.89018c",
        "g": "f894ff9b.c4edc",
        "name": "Cast Input Boolean",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.cast_dashboard",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1150,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "59425842fa7c157f",
        "type": "server-state-changed",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Bool portail",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.portail",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1120,
        "y": 1080,
        "wires": [
            [
                "b092bf1c7c9e22b9"
            ],
            []
        ]
    },
    {
        "id": "9dc9370c4bf4c8f5",
        "type": "server-state-changed",
        "z": "4c110565.89018c",
        "g": "a886b72e2c3d2cda",
        "name": "Bool Gar Aliki",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.garage_aliki",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "x": 1130,
        "y": 1000,
        "wires": [
            [
                "71149ee06cfb27f9"
            ],
            []
        ]
    },
    {
        "id": "3d6ae18841165a91",
        "type": "server-state-changed",
        "z": "4c110565.89018c",
        "g": "de9a5bfb0704e2ae",
        "name": "Frigate CPU",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.frigate_cpu_usage",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "10",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "1",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "x": 120,
        "y": 1020,
        "wires": [
            [
                "40c3642829a8218f"
            ],
            []
        ]
    },
    {
        "id": "5281da51728d7e47",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Temp_Cuisine",
        "topic": "zigbee2mqtt/Temp_Cuisine/#",
        "qos": "0",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 110,
        "y": 80,
        "wires": [
            [
                "148cdeee2ef9f9bf"
            ]
        ]
    },
    {
        "id": "ac7d37867b2bd0ba",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Temp_Salon",
        "topic": "zigbee2mqtt/Temp_Salon/#",
        "qos": "1",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 110,
        "y": 120,
        "wires": [
            [
                "148cdeee2ef9f9bf"
            ]
        ]
    },
    {
        "id": "3930cc1c03e06704",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Temp_Couloir",
        "topic": "zigbee2mqtt/Temp_Couloir/#",
        "qos": "1",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 110,
        "y": 200,
        "wires": [
            [
                "148cdeee2ef9f9bf"
            ]
        ]
    },
    {
        "id": "05c3b0ef466e9be0",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Temp_bureau",
        "topic": "zigbee2mqtt/Temp_bureau/#",
        "qos": "1",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 110,
        "y": 240,
        "wires": [
            [
                "148cdeee2ef9f9bf"
            ]
        ]
    },
    {
        "id": "9f1f796dc69f03a9",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Temp_CH_stelio",
        "topic": "zigbee2mqtt/Temp_CH_stelio/#",
        "qos": "1",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 120,
        "y": 320,
        "wires": [
            [
                "148cdeee2ef9f9bf"
            ]
        ]
    },
    {
        "id": "b09191f1fda8674d",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Temp_CH_parents",
        "topic": "zigbee2mqtt/Temp_CH_parents/#",
        "qos": "1",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 130,
        "y": 280,
        "wires": [
            [
                "148cdeee2ef9f9bf"
            ]
        ]
    },
    {
        "id": "7f12a642b00e03c9",
        "type": "function",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Store temperature",
        "func": "topic = msg.topic;\ntemp = msg.payload.temperature;\nname = topic.split('\\/')[1];\n\nflow.set(name,temp);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 200,
        "wires": [
            [
                "e99f35035f8a1318"
            ]
        ]
    },
    {
        "id": "ab36c081391a5506",
        "type": "mqtt out",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "AWTRIX CustomApp",
        "topic": "AWTRIXHD/sendTo/CustomApp",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 580,
        "y": 420,
        "wires": []
    },
    {
        "id": "e99f35035f8a1318",
        "type": "function",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Generate Screen",
        "func": "// Titre\nmsg.payload = \"[Background]awtrixhd-black.jpg[/Background][TextSize=60]\";\nmsg.payload += \"[Vertical=60][Alignment=Center]Températures :[/Alignment][/Vertical]\\n\";\n// Mise en forme\nmsg.payload += \"[TextSize=40]\";\nmsg.payload += \"[Vertical=40][Alignment=Center]\";\n// SALON\nmsg.payload += \"[img FileName=salon.png width=50/]  \";\nmsg.payload += flow.get(\"Temp_Salon\");\nmsg.payload += \"°C     \";\n// CUISINE\nmsg.payload += \"[img FileName=cuisine.png width=50/]  \";\nmsg.payload += flow.get(\"Temp_Cuisine\");\nmsg.payload += \"°C[/Alignment][/Vertical]\\n\";\n// SDB\nmsg.payload += \"[Vertical=40][Alignment=Center]\";\nmsg.payload += \"[img FileName=sdb.png width=50/]  \";\nmsg.payload += flow.get(\"Temp_SDB\");\nmsg.payload += \"°C     \";\n// COULOIR\nmsg.payload += \"[img FileName=couloir.png width=50/]  \";\nmsg.payload += flow.get(\"Temp_Couloir\");\nmsg.payload += \"°C[/Alignment][/Vertical]\\n\";\n// CH-P\nmsg.payload += \"[Vertical=40][Alignment=Center]\";\nmsg.payload += \"[img FileName=ch-parents.png width=50/]  \";\nmsg.payload += flow.get(\"Temp_CH_parents\");\nmsg.payload += \"°C     \";\n// CH-S\nmsg.payload += \"[img FileName=ch-stelio.png width=50/]  \";\nmsg.payload += flow.get(\"Temp_CH_stelio\");\nmsg.payload += \"°C[/Alignment][/Vertical]\\n\";\n// BUREAU\nmsg.payload += \"[Vertical=40][Alignment=Center]\";\nmsg.payload += \"[img FileName=bureau.png width=50/]  \";\nmsg.payload += flow.get(\"Temp_bureau\");\nmsg.payload += \"°C   \";\n// ATELIER\nmsg.payload += \"[img FileName=atelier.png width=50/]  \";\nmsg.payload += flow.get(\"Temp_Atelier\");\nmsg.payload += \"°C[/Alignment][/Vertical]\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 420,
        "wires": [
            [
                "ab36c081391a5506"
            ]
        ]
    },
    {
        "id": "f1330bed88397b2a",
        "type": "inject",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 420,
        "wires": [
            [
                "e99f35035f8a1318",
                "82318ead05fc29bb"
            ]
        ]
    },
    {
        "id": "44006c1d04398a3c",
        "type": "mqtt out",
        "z": "b57132d6949dd8f7",
        "g": "4fc89c93f3f2dd2d",
        "name": "AWTRIX CustomApp #2",
        "topic": "AWTRIXHD/sendTo/CustomApp %2",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 810,
        "y": 520,
        "wires": []
    },
    {
        "id": "c2e6a75b4f1d5566",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Temp_SDB",
        "topic": "zigbee2mqtt/Temp_SDB/#",
        "qos": "1",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 110,
        "y": 160,
        "wires": [
            [
                "148cdeee2ef9f9bf"
            ]
        ]
    },
    {
        "id": "148cdeee2ef9f9bf",
        "type": "json",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 330,
        "y": 200,
        "wires": [
            [
                "7f12a642b00e03c9"
            ]
        ]
    },
    {
        "id": "9def0d26596b36bf",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "ec989bf1829ff60d",
        "name": "Temp_Atelier",
        "topic": "zigbee2mqtt/Temp_Atelier/#",
        "qos": "1",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 110,
        "y": 360,
        "wires": [
            [
                "148cdeee2ef9f9bf"
            ]
        ]
    },
    {
        "id": "d35c43defc7cbd24",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "4fc89c93f3f2dd2d",
        "name": "Frigate",
        "topic": "system-sensors/sensor/frigate/state",
        "qos": "1",
        "datatype": "utf8",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 90,
        "y": 520,
        "wires": [
            [
                "82318ead05fc29bb"
            ]
        ]
    },
    {
        "id": "82318ead05fc29bb",
        "type": "json",
        "z": "b57132d6949dd8f7",
        "g": "4fc89c93f3f2dd2d",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 270,
        "y": 520,
        "wires": [
            [
                "30308f742db3f165"
            ]
        ]
    },
    {
        "id": "61a3a0c5e5546e94",
        "type": "function",
        "z": "b57132d6949dd8f7",
        "g": "4fc89c93f3f2dd2d",
        "name": "Generate Screen",
        "func": "msg.payload = \"[Background]awtrixhd-black.jpg[/Background][TextSize=40]\";\nmsg.payload += \"[Vertical=40][Alignment=Center]\";\nmsg.payload += \"[img FileName=frigate.jpg width=250/] \\n\";\n//CPU TEMP\nmsg.payload += \"[img FileName=cpu.png width=50/] \";\nmsg.payload += flow.get(\"temperature\");\nmsg.payload += \"°C - \";\n//CPU USAGE\nmsg.payload += flow.get(\"cpu_usage\");\nmsg.payload += \"%\\n\";\n//HDD USAGE\nmsg.payload += \"[img FileName=hdd.png width=50/] \";\nmsg.payload += flow.get(\"disk_use\");\nmsg.payload += \"%\\n\";\n// RAM USAGE\nmsg.payload += \"[img FileName=ram.png width=50/] \";\nmsg.payload += flow.get(\"memory_use\");\nmsg.payload += \"%[/Alignment][/Vertical]\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 520,
        "wires": [
            [
                "44006c1d04398a3c"
            ]
        ]
    },
    {
        "id": "30308f742db3f165",
        "type": "function",
        "z": "b57132d6949dd8f7",
        "g": "4fc89c93f3f2dd2d",
        "name": "Store data",
        "func": "topic = msg.topic;\nfrigate_temp = msg.payload.temperature;\nfrigate_name = topic.split('\\/')[3];\nfrigate_disk_use = msg.payload.disk_use;\nfrigate_cpu_usage = msg.payload.cpu_usage;\nfrigate_memory_use = msg.payload.memory_use;\n\nflow.set('nom',frigate_name);\nflow.set('temperature',frigate_temp);\nflow.set('disk_use',frigate_disk_use);\nflow.set('cpu_usage',frigate_cpu_usage);\nflow.set('memory_use',frigate_cpu_usage);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 520,
        "wires": [
            [
                "61a3a0c5e5546e94"
            ]
        ]
    },
    {
        "id": "e77a52ac394b4826",
        "type": "mqtt out",
        "z": "b57132d6949dd8f7",
        "g": "a4d10e3019b9b0f6",
        "name": "AWTRIX CustomApp",
        "topic": "AWTRIXHD/alert",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6ab4d33316cf218b",
        "x": 480,
        "y": 620,
        "wires": []
    },
    {
        "id": "e05ab56dc40ccc41",
        "type": "inject",
        "z": "b57132d6949dd8f7",
        "g": "a4d10e3019b9b0f6",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\t   \"alertType\":\"warning\",\t   \"content\":\"Dois-je ouvrir?\",\t   \"title\":\"Sonnette\",\t   \"confirmText\":\"Ouverture garage\",\t   \"onConfirm\":{\t      \"topic\":\"AWTRIXHD/porte\",\t      \"payload\":\"open\"\t   },\t   \"cancelText\":\"Ignorer\"\t}",
        "payloadType": "jsonata",
        "x": 110,
        "y": 620,
        "wires": [
            [
                "e77a52ac394b4826"
            ]
        ]
    },
    {
        "id": "947546aad46b6082",
        "type": "mqtt in",
        "z": "b57132d6949dd8f7",
        "g": "a4d10e3019b9b0f6",
        "name": "",
        "topic": "AWTRIXHD/porte",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 120,
        "y": 700,
        "wires": [
            [
                "99c8946ef341c73e"
            ]
        ]
    },
    {
        "id": "9ecd91a36a8c6e76",
        "type": "delay",
        "z": "b57132d6949dd8f7",
        "g": "a4d10e3019b9b0f6",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 470,
        "y": 700,
        "wires": [
            [
                "ba065a0fa7166d3e"
            ]
        ]
    },
    {
        "id": "ba065a0fa7166d3e",
        "type": "api-call-service",
        "z": "b57132d6949dd8f7",
        "g": "a4d10e3019b9b0f6",
        "name": "Bool portail off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.portail"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 460,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "99c8946ef341c73e",
        "type": "api-call-service",
        "z": "b57132d6949dd8f7",
        "g": "a4d10e3019b9b0f6",
        "name": "Bool portail on",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.portail"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 300,
        "y": 700,
        "wires": [
            [
                "9ecd91a36a8c6e76"
            ]
        ]
    },
    {
        "id": "5dc93e2e.a062a",
        "type": "inject",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "TTS",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1310,
        "y": 180,
        "wires": [
            [
                "fcfdb1bc.fc1b7"
            ]
        ]
    },
    {
        "id": "f0b8dcce.917a8",
        "type": "inject",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "Telegram notif",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 1330,
        "y": 100,
        "wires": [
            [
                "413e5e10.3cf13"
            ]
        ]
    },
    {
        "id": "80f0ba5b.812bb8",
        "type": "inject",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1320,
        "y": 140,
        "wires": [
            [
                "3af1c5fc.14661a"
            ]
        ]
    },
    {
        "id": "68a67a32.73a2c4",
        "type": "inject",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "awtrix",
        "props": [
            {
                "p": "dest",
                "v": "awtrix",
                "vt": "str"
            },
            {
                "p": "message",
                "v": "bonjour ceci est un test",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1310,
        "y": 60,
        "wires": [
            [
                "c3735e49.6614e"
            ]
        ]
    },
    {
        "id": "3af1c5fc.14661a",
        "type": "function",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = \"Eclairage\"\nmsg.embeds_title = \"Grenier allumé\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/bi_rue.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1510,
        "y": 140,
        "wires": [
            [
                "c3735e49.6614e"
            ]
        ]
    },
    {
        "id": "e5a5fa56.2bdc98",
        "type": "inject",
        "z": "797e40da.11773",
        "g": "a0b00255.fbed9",
        "name": "on",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 1310,
        "y": 440,
        "wires": [
            [
                "48c9eb9c.dadfa4"
            ]
        ]
    },
    {
        "id": "e24496a2.dbe1f8",
        "type": "inject",
        "z": "797e40da.11773",
        "g": "a0b00255.fbed9",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10;NewKaku;297ce2;1;OFF;",
        "payloadType": "str",
        "x": 1310,
        "y": 480,
        "wires": [
            [
                "29e57792.c46908"
            ]
        ]
    },
    {
        "id": "48c9eb9c.dadfa4",
        "type": "change",
        "z": "797e40da.11773",
        "g": "a0b00255.fbed9",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "10;NewKaku;297ce2;1;ON;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "29e57792.c46908",
        "type": "change",
        "z": "797e40da.11773",
        "g": "a0b00255.fbed9",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "10;NewKaku;297ce2;1;OFF;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "972e847d.d50688",
        "type": "inject",
        "z": "797e40da.11773",
        "g": "74b2a6a2.9e98b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1320,
        "y": 280,
        "wires": [
            [
                "c4392aad.4befa8"
            ]
        ]
    },
    {
        "id": "c9218987.519048",
        "type": "switch",
        "z": "797e40da.11773",
        "g": "74b2a6a2.9e98b8",
        "name": "",
        "property": "payload.event.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "yes",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "no",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1510,
        "y": 340,
        "wires": [
            [],
            [
                "fcae0e2b.aea49"
            ]
        ]
    },
    {
        "id": "413e5e10.3cf13",
        "type": "function",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "Telegram Notif",
        "func": "msg.dest = \"telegram_jona\";\nmsg.title = \"Poubelles\";\nmsg.message = \"Levez-vous il est temps de sortir les poubelles!\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 100,
        "wires": [
            [
                "c3735e49.6614e"
            ]
        ]
    },
    {
        "id": "fcfdb1bc.fc1b7",
        "type": "change",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_gh_mini_bureau",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "N oubliez pas de sortir les poubelles s il vous plait",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 180,
        "wires": [
            [
                "c3735e49.6614e"
            ]
        ]
    },
    {
        "id": "dc2c80bd.fc5db",
        "type": "http request",
        "z": "797e40da.11773",
        "name": "Screen On",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.10.35:2323/?cmd=screenOn&password=Willowversus1",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1850,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "d565b6f4.a47a08",
        "type": "http request",
        "z": "797e40da.11773",
        "name": "Screen Off",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.10.35:2323/?cmd=screenOff&password=Willowversus1",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1850,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "78fe26c0.005fb8",
        "type": "function",
        "z": "797e40da.11773",
        "g": "319c7d7d.cd7122",
        "name": "youtube",
        "func": "youtube_url = msg.data.attributes.url;\nyoutube_friendly_name = msg.data.attributes.friendly_name;\nmsg.payload = \"Hey \"+youtube_friendly_name+\" vient de publier une video check ici : \"+youtube_url",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1300,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "8394270d.7e7758",
        "type": "change",
        "z": "797e40da.11773",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "discord_notifications",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "N oubliez pas de sortir les poubelles s il vous plait",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 80,
        "wires": [
            [
                "c3735e49.6614e"
            ]
        ]
    },
    {
        "id": "3c1128c0.26fa18",
        "type": "inject",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1530,
        "y": 60,
        "wires": [
            [
                "8394270d.7e7758"
            ]
        ]
    },
    {
        "id": "c3735e49.6614e",
        "type": "subflow:711f44dc.b8379c",
        "z": "797e40da.11773",
        "g": "6688e9c2.1e3678",
        "name": "",
        "env": [],
        "x": 1930,
        "y": 180,
        "wires": []
    },
    {
        "id": "f8b278b.08bca88",
        "type": "function",
        "z": "797e40da.11773",
        "g": "319c7d7d.cd7122",
        "name": "",
        "func": "let temp = msg.payload / 100;\n\n// =========================================\n\nmsg.payload =  `Il fait actuellement : ${temp} degré`\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1480,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "81bb9d24.9941e",
        "type": "function",
        "z": "797e40da.11773",
        "g": "319c7d7d.cd7122",
        "name": "batterie ha global",
        "func": "const ha = global.get('homeassistant').homeAssistantIp;\n\n// get all batteries\nconst batteries = [];\nfor (const name in ha.states) {\n    const entity = ha.states[name];\n    // all battery\n    if (entity.attributes.device_class === 'battery' && entity.attributes.unit_of_measurement === '%') {\n        batteries.push({\n            entity_id: entity.entity_id,\n            name: entity.attributes.friendly_name,\n            battery: +entity.state\n        });\n    }\n    // all others with a battery attribute\n    if (entity.attributes.battery_level && !name.startsWith('device_tracker')) {\n        batteries.push({\n            entity_id: entity.entity_id,\n            name: entity.attributes.friendly_name,\n            battery: +entity.attributes.battery_level\n        });\n    }\n}\n \nmsg.payload = batteries.filter(b => b.battery <= 15);\n \nif (msg.payload.length > 0) return msg;\nelse return null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1670,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "e302f6749b7f3c50",
        "type": "template",
        "z": "797e40da.11773",
        "g": "85a97edfa1d2390b",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n \"name\":\"NodeRedNotification\",\n \"icon\":225,\n \"moveIcon\":true,\n \"lifetime\":999999,\n \"text\":\"{{payload}}\",\n \"repeat\":2,\n \"color\":[0,255,0]\n}",
        "output": "str",
        "x": 1480,
        "y": 760,
        "wires": [
            [
                "fdea6814b2e92985"
            ]
        ]
    },
    {
        "id": "3fea72d5a3dd20fb",
        "type": "http request",
        "z": "797e40da.11773",
        "g": "85a97edfa1d2390b",
        "name": "awtrix notify",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.16:7000/api/v3/notify",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 1870,
        "y": 760,
        "wires": [
            [
                "f9309445854b6453",
                "3315a1a9722e29a9"
            ]
        ]
    },
    {
        "id": "fdea6814b2e92985",
        "type": "function",
        "z": "797e40da.11773",
        "g": "85a97edfa1d2390b",
        "name": "awtrix headers",
        "func": "msg.headers = {}\nmsg.headers[\"content-type\"] = \"application/json\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 760,
        "wires": [
            [
                "3fea72d5a3dd20fb"
            ]
        ]
    },
    {
        "id": "f9309445854b6453",
        "type": "function",
        "z": "797e40da.11773",
        "g": "85a97edfa1d2390b",
        "name": "Log",
        "func": "node.log(\"NOTIF / Awtrix => OK\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2030,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "c5eb0710d25f5545",
        "type": "change",
        "z": "797e40da.11773",
        "g": "85a97edfa1d2390b",
        "name": "Message2Payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "message",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 760,
        "wires": [
            [
                "e302f6749b7f3c50"
            ]
        ]
    },
    {
        "id": "53b69b4b8750c932",
        "type": "inject",
        "z": "797e40da.11773",
        "name": "awtrix",
        "props": [
            {
                "p": "message",
                "v": "bonjour ceci est un test",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "str",
        "x": 1050,
        "y": 760,
        "wires": [
            [
                "c5eb0710d25f5545"
            ]
        ]
    },
    {
        "id": "f7f662062788d0ec",
        "type": "inject",
        "z": "797e40da.11773",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "ceeci est un test",
        "payloadType": "str",
        "x": 1320,
        "y": 680,
        "wires": [
            [
                "e302f6749b7f3c50"
            ]
        ]
    },
    {
        "id": "3315a1a9722e29a9",
        "type": "debug",
        "z": "797e40da.11773",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2030,
        "y": 660,
        "wires": []
    },
    {
        "id": "fcae0e2b.aea49",
        "type": "api-call-service",
        "z": "797e40da.11773",
        "g": "74b2a6a2.9e98b8",
        "name": "Notif Simple",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_mi_9t_pro",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Salut Jona\",\"title\":\"DCJ Channel\",\"data\":{\"color\":\"red\",\"clickAction\":\"http://www.google.be\",\"channel\":\"Alarm\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1710,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "c4392aad.4befa8",
        "type": "api-call-service",
        "z": "797e40da.11773",
        "g": "74b2a6a2.9e98b8",
        "name": "Notif bouton",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_mi_9t_pro",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"On sonne, dois-je ouvrir?\",\"title\":\"DCJ Channel\",\"data\":{\"actions\":[{\"action\":\"yes\",\"title\":\"Oui\"},{\"action\":\"no\",\"title\":\"Non\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1530,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "aab3de1d.9993c",
        "type": "server-events",
        "z": "797e40da.11773",
        "g": "74b2a6a2.9e98b8",
        "name": "Action app",
        "server": "5261c37d2408eef8",
        "version": 1,
        "event_type": "mobile_app_notification_action",
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            },
            {
                "property": "event_type",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 1330,
        "y": 340,
        "wires": [
            [
                "c9218987.519048"
            ]
        ]
    },
    {
        "id": "90eae997.db5198",
        "type": "node-red-contrib-whatsapp-cmb-send-message",
        "z": "797e40da.11773",
        "name": "",
        "account": "47ace9966baf50cb",
        "text": "",
        "inputtypemessage": "str",
        "rejectssl": true,
        "x": 1420,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "9b666f3e.797cb",
        "type": "inject",
        "z": "797e40da.11773",
        "name": "",
        "props": [
            {
                "p": "text",
                "v": "This is the Message Text",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1250,
        "y": 860,
        "wires": [
            [
                "90eae997.db5198"
            ]
        ]
    },
    {
        "id": "e6dfcd2a3a9fe586",
        "type": "http request",
        "z": "797e40da.11773",
        "name": "Post",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.49:5000/api/brightness",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 610,
        "y": 280,
        "wires": [
            [
                "7eced0365e41c76d"
            ]
        ]
    },
    {
        "id": "3ff2bda6d2f67cfe",
        "type": "inject",
        "z": "797e40da.11773",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 280,
        "wires": [
            [
                "768524cbec315131"
            ]
        ]
    },
    {
        "id": "768524cbec315131",
        "type": "function",
        "z": "797e40da.11773",
        "name": "PingPongClock Sleep",
        "func": "msg.payload = { 'brightness': '0' };\nmsg.headers = {\n    'content-type': 'application/x-www-form-urlencoded'\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 280,
        "wires": [
            [
                "e6dfcd2a3a9fe586"
            ]
        ]
    },
    {
        "id": "ad97c5d506c7e410",
        "type": "http request",
        "z": "797e40da.11773",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.49:5000/api/brightness",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 590,
        "y": 420,
        "wires": [
            [
                "7eced0365e41c76d"
            ]
        ]
    },
    {
        "id": "8fc8fa6b348283eb",
        "type": "inject",
        "z": "797e40da.11773",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 420,
        "wires": [
            [
                "7312aa456cd47d66"
            ]
        ]
    },
    {
        "id": "7312aa456cd47d66",
        "type": "change",
        "z": "797e40da.11773",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"brightness\":\"0\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 420,
        "wires": [
            [
                "ad97c5d506c7e410"
            ]
        ]
    },
    {
        "id": "7eced0365e41c76d",
        "type": "debug",
        "z": "797e40da.11773",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 320,
        "wires": []
    },
    {
        "id": "d2706a2c.2df268",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "CheckPiece",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 60,
        "wires": [
            [
                "69911.670426ef8"
            ]
        ]
    },
    {
        "id": "f5225c15.f42b8",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "12bd6589.118aba",
        "name": "",
        "func": "// Debug - commenter hors debug\n//node.warn(msg.payload)\n//node.warn(msg.pieceactive)\n//node.warn(msg.CheckPiece)\n\n// Recoit les nouvelles pièces qui demandent du chauffage\nvar PieceActive = 0;\nvar garage = flow.get('garage') || 0;\nvar cuisine = flow.get('cuisine') || 0;\nvar salon = flow.get('salon') || 0;\nvar sdb = flow.get('sdb') || 0;\nvar couloir = flow.get('couloir') || 0;\nvar bureau = flow.get('bureau') || 0;\nvar ch_stelio = flow.get('ch_stelio') || 0;\nvar loop = flow.get('loop') || 0;\nvar PieceActive = garage + cuisine + salon + sdb + couloir + bureau + ch_stelio;\nmsg.pieceactive = PieceActive;\n//node.warn(msg.pieceactive)\n//Check config piece minimum pour déclencher la chaudière\nvar CheckPiece = flow.get('CheckPiece', CheckPiece) ;\nmsg.pieces = CheckPiece;\n\n// Calcul si activation chaudière ou pas\nif (PieceActive >= CheckPiece) {\n    if (loop == \"OFF\") {\n        msg.payload = \"start\";\n        return [ msg, null ];\n        }\n    else {\n        return [ null, null ];\n    }\n} else {\n    msg.payload = \"stop\";\n    msg.reset = \"reset\";\n    return [ msg, msg ];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 640,
        "wires": [
            [
                "bd519d8a.209ce"
            ],
            [
                "6d1065a5.49037c"
            ]
        ],
        "outputLabels": [
            "Chaudiere ON",
            "Chaudiere OFF"
        ]
    },
    {
        "id": "27dc91ff.88c0de",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "garage",
        "func": "var garage\nmsg.original = msg.payload;\nif (msg.payload === true || msg.payload === true) {\n    garage = 1;\n    flow.set('garage', garage);\n    msg.garage = garage;\n} else {\n    garage = 0;\n    flow.set('garage', garage);\n    msg.garage = garage;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 340,
        "wires": [
            [
                "a956d5d4.2fc4a8"
            ]
        ]
    },
    {
        "id": "1abd3991.6c7cd6",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "cuisine",
        "func": "msg.original = msg.payload;\nif (msg.payload === true || msg.payload === true) {\n    var cuisine = 1;\n    flow.set('cuisine', cuisine);\n    msg.cuisine = cuisine;\n} else {\n    var cuisine = 0;\n    flow.set('cuisine', cuisine);\n    msg.cuisine = cuisine;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 360,
        "y": 400,
        "wires": [
            [
                "33a24e68.670002"
            ]
        ]
    },
    {
        "id": "19413449.27c3ec",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "salon",
        "func": "msg.original = msg.payload;\nif (msg.payload === true || msg.payload === true) {\n    var salon = 1;\n    flow.set('salon', salon);\n    msg.salon = salon;\n} else {\n    var salon = 0;\n    flow.set('salon', salon);\n    msg.salon = salon;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 350,
        "y": 460,
        "wires": [
            [
                "337eb353.e14c6c"
            ]
        ]
    },
    {
        "id": "8b80fd11.6e616",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "SDB",
        "func": "msg.original = msg.payload;\nif (msg.payload === true || msg.payload === true) {\n    var sdb = 3;\n    flow.set('sdb', sdb);\n    msg.sdb = sdb;\n} else {\n    var sdb = 0;\n    flow.set('sdb', sdb);\n    msg.sdb = sdb;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 350,
        "y": 520,
        "wires": [
            [
                "78dca0f.9ae0e6"
            ]
        ]
    },
    {
        "id": "cdad6abf.0c27d8",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "Couloir",
        "func": "msg.original = msg.payload;\nif (msg.payload === true || msg.payload === true) {\n    var couloir = 1;\n    flow.set('couloir', couloir);\n    msg.couloir = couloir;\n} else {\n    var couloir = 0;\n    flow.set('couloir', couloir);\n    msg.couloir = couloir;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 360,
        "y": 580,
        "wires": [
            [
                "decf01d4.99f6e"
            ]
        ]
    },
    {
        "id": "1039e0ad.186e5f",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "Bureau",
        "func": "msg.original = msg.payload;\nif (msg.payload === true || msg.payload === true) {\n    var bureau = 1;\n    flow.set('bureau', bureau);\n    msg.bureau = bureau;\n} else {\n    var bureau = 0;\n    flow.set('bureau', bureau);\n    msg.bureau = bureau;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 360,
        "y": 640,
        "wires": [
            [
                "31c901d1.e5842e"
            ]
        ]
    },
    {
        "id": "6941d16a.41299",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "ch_stelio",
        "func": "msg.original = msg.payload;\nif (msg.payload === true || msg.payload === true) {\n    var ch_stelio = 1;\n    flow.set('ch_stelio', ch_stelio);\n    msg.ch_stelio = ch_stelio;\n} else {\n    var ch_stelio = 0;\n    flow.set('ch_stelio', ch_stelio);\n    msg.ch_stelio = ch_stelio;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 360,
        "y": 700,
        "wires": [
            [
                "459d3155.f0f08"
            ]
        ]
    },
    {
        "id": "85d00bb6.8a15c8",
        "type": "inject",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "START",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "02 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start",
        "payloadType": "str",
        "x": 640,
        "y": 340,
        "wires": [
            [
                "bbd1993b.9f4a88"
            ]
        ]
    },
    {
        "id": "7ef871c8.9b21a",
        "type": "inject",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "STOP",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "reset",
                "v": "reset",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "01 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "stop",
        "payloadType": "str",
        "x": 640,
        "y": 440,
        "wires": [
            [
                "d03bf577.917b98",
                "bd519d8a.209ce"
            ]
        ]
    },
    {
        "id": "5b96cb42.220294",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "set flow Tempo ON",
        "rules": [
            {
                "t": "set",
                "p": "tempoON",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 120,
        "wires": [
            [
                "a1d56fc2.e671f"
            ]
        ]
    },
    {
        "id": "40967acc.b10f44",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "set flowTempo OFF",
        "rules": [
            {
                "t": "set",
                "p": "tempoOFF",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 180,
        "wires": [
            [
                "a939ca81.cff148"
            ]
        ]
    },
    {
        "id": "bd519d8a.209ce",
        "type": "delay",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Protection 30 sec",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 710,
        "y": 540,
        "wires": [
            [
                "7aee84fb.28371c",
                "a5c44e77.b060b"
            ]
        ]
    },
    {
        "id": "11bbdbe3.ec8ed4",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "d0789cc6.3bfb8",
        "name": "Loop OFF",
        "func": "// Déclare la boucle arretée\n// Set global.loop = OFF \nvar loop = \"OFF\";\nflow.set('loop', loop);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1200,
        "y": 640,
        "wires": [
            [
                "1f253a30.6bf6c6"
            ]
        ]
    },
    {
        "id": "998e83ab.a74bb",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "12bd6589.118aba",
        "name": "Main function IN",
        "links": [
            "69911.670426ef8",
            "e983b2e0.2e458",
            "a939ca81.cff148",
            "a956d5d4.2fc4a8",
            "33a24e68.670002",
            "337eb353.e14c6c",
            "78dca0f.9ae0e6",
            "decf01d4.99f6e",
            "31c901d1.e5842e",
            "459d3155.f0f08",
            "f7c26307.35111",
            "9c49785c.909cb8",
            "11f36ffc.1f467"
        ],
        "x": 575,
        "y": 641,
        "wires": [
            [
                "bf79dbd5.609718"
            ]
        ]
    },
    {
        "id": "69911.670426ef8",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "CheckPiece OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 695,
        "y": 60,
        "wires": []
    },
    {
        "id": "e983b2e0.2e458",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "TempoON OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 895,
        "y": 120,
        "wires": []
    },
    {
        "id": "a939ca81.cff148",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "TempoOFF OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 695,
        "y": 180,
        "wires": []
    },
    {
        "id": "a956d5d4.2fc4a8",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "charthval OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 475,
        "y": 340,
        "wires": []
    },
    {
        "id": "33a24e68.670002",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "bureau OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 475,
        "y": 400,
        "wires": []
    },
    {
        "id": "337eb353.e14c6c",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "chewen OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 475,
        "y": 460,
        "wires": []
    },
    {
        "id": "78dca0f.9ae0e6",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "chouan OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 475,
        "y": 520,
        "wires": []
    },
    {
        "id": "decf01d4.99f6e",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "chmaxence OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 475,
        "y": 580,
        "wires": []
    },
    {
        "id": "31c901d1.e5842e",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "chparents OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 475,
        "y": 640,
        "wires": []
    },
    {
        "id": "459d3155.f0f08",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "entree OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 475,
        "y": 700,
        "wires": []
    },
    {
        "id": "d03bf577.917b98",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "STOP OUT",
        "links": [
            "a9ca0b05.e8fb38",
            "239bf4e0.af23fc",
            "90c01ec7.300d4",
            "2f8b2d3a.71b222",
            "f2e99cf0.3212a",
            "b278f0e4.da466"
        ],
        "x": 1375,
        "y": 420,
        "wires": []
    },
    {
        "id": "239bf4e0.af23fc",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "d0789cc6.3bfb8",
        "name": "Loop OFF IN",
        "links": [
            "d03bf577.917b98",
            "6d1065a5.49037c",
            "2fb540db.2c9ce",
            "daa85135.d84e7"
        ],
        "x": 1095,
        "y": 640,
        "wires": [
            [
                "11bbdbe3.ec8ed4"
            ]
        ]
    },
    {
        "id": "6d1065a5.49037c",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "12bd6589.118aba",
        "name": "Main function LOW OUT",
        "links": [
            "90c01ec7.300d4",
            "239bf4e0.af23fc",
            "f2e99cf0.3212a",
            "2f8b2d3a.71b222",
            "b278f0e4.da466"
        ],
        "x": 975,
        "y": 661,
        "wires": []
    },
    {
        "id": "87c39f7.5ac086",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "update thermostats vanne",
        "info": "",
        "x": 170,
        "y": 900,
        "wires": []
    },
    {
        "id": "bbd1993b.9f4a88",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "START OUT",
        "links": [
            "2e003dec.c3bb52"
        ],
        "x": 1375,
        "y": 340,
        "wires": []
    },
    {
        "id": "350bcb42.7f3ed4",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Loop ON OUT",
        "links": [
            "2e003dec.c3bb52"
        ],
        "x": 1695,
        "y": 540,
        "wires": []
    },
    {
        "id": "b7463a39.655388",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "En Millisecondes",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload*60000",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 120,
        "wires": [
            [
                "5b96cb42.220294"
            ]
        ]
    },
    {
        "id": "c940d183.3527e",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "En Millisecondes",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload*60000",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 180,
        "wires": [
            [
                "40967acc.b10f44"
            ]
        ]
    },
    {
        "id": "11f36ffc.1f467",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "charthval OUT",
        "links": [
            "998e83ab.a74bb"
        ],
        "x": 255,
        "y": 240,
        "wires": []
    },
    {
        "id": "b3435c78.d5178",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "delay IN",
        "links": [
            "daa85135.d84e7"
        ],
        "x": 575,
        "y": 480,
        "wires": [
            [
                "bd519d8a.209ce"
            ]
        ]
    },
    {
        "id": "f7941bb4.4e7cb8",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Get ID",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$substringAfter(topic, \"climate.thermostat_generique_\")\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 940,
        "wires": [
            [
                "6f477ab8.52b6b4"
            ]
        ]
    },
    {
        "id": "9b90e987.a8b4e8",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Set ID",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"climate.vanne_\" & payload2 ",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 940,
        "wires": [
            [
                "af37765f.ff1fe8"
            ]
        ]
    },
    {
        "id": "6f477ab8.52b6b4",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "save room radiateur",
        "rules": [
            {
                "t": "set",
                "p": "payload2",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 940,
        "wires": [
            [
                "f7059103.4472a"
            ]
        ]
    },
    {
        "id": "9b253da4.3af51",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "",
        "func": "msg.payload= [\n  {\n    \"command\": \"add\",\n    \"name\": \"bed children\",\n    \"topic\": \"bedchildren\",\n    \"expression\": msg.cronbed,\n    \"expressionType\": \"cron\",\n    \"payloadType\": \"str\",\n    \"limit\": null \n  },\n  {\n    \"command\": \"add\",\n    \"name\": \"wake children\",\n    \"topic\": \"wakechildren\",\n    \"expression\": msg.cronwake,\n    \"expressionType\": \"cron\",\n    \"payloadType\": \"str\",\n    \"limit\": null \n  }\n]  \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 1300,
        "wires": [
            [
                "2e36fcca.134b74"
            ]
        ]
    },
    {
        "id": "34e7c104.b3cdbe",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Cron bedtime",
        "rules": [
            {
                "t": "set",
                "p": "hourbed",
                "pt": "msg",
                "to": "$substring(bedchildren,0,2)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "minbed",
                "pt": "msg",
                "to": "$substring(bedchildren,3,2)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "cronbed",
                "pt": "msg",
                "to": "\"0 \" & minbed & \" \" & hourbed & \" ? * MON-FRI *\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1240,
        "wires": [
            [
                "367944cb.95f89c"
            ]
        ]
    },
    {
        "id": "64e09796.df9918",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Cron waketime",
        "rules": [
            {
                "t": "set",
                "p": "hourwake",
                "pt": "msg",
                "to": "$substring(wakechildren,0,2)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "minwake",
                "pt": "msg",
                "to": "$substring(wakechildren,3,2)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "cronwake",
                "pt": "msg",
                "to": "\"0 \" & minwake & \" \" & hourwake & \" ? * MON-FRI *\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 1300,
        "wires": [
            [
                "9b253da4.3af51"
            ]
        ]
    },
    {
        "id": "3c6b4976.f551f6",
        "type": "switch",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "On/Off ?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "bedchildren",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "wakechildren",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 820,
        "y": 1378,
        "wires": [
            [
                "85b5a9ab.dff898"
            ],
            [
                "2c67dc8.23a0624"
            ]
        ]
    },
    {
        "id": "e11a551a.747ee8",
        "type": "switch",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "On/Off ?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "bedchildrenwe",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "wakechildrenwe",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 820,
        "y": 1472,
        "wires": [
            [
                "a7ff1532.fc7e98"
            ],
            [
                "cbcfbaa0.eb8648"
            ]
        ]
    },
    {
        "id": "5af38d30.24c1c4",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "",
        "func": "msg.payload= [\n  {\n    \"command\": \"add\",\n    \"name\": \"bed parents\",\n    \"topic\": \"bedparents\",\n    \"expression\": msg.cronbed,\n    \"expressionType\": \"cron\",\n    \"payloadType\": \"str\",\n    \"limit\": null \n  },\n  {\n    \"command\": \"add\",\n    \"name\": \"wake parents\",\n    \"topic\": \"wakeparents\",\n    \"expression\": msg.cronwake,\n    \"expressionType\": \"cron\",\n    \"payloadType\": \"str\",\n    \"limit\": null \n  }\n]  \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 1566,
        "wires": [
            [
                "f599be67.52147"
            ]
        ]
    },
    {
        "id": "a7bda212.07d05",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Cron bedtime",
        "rules": [
            {
                "t": "set",
                "p": "hourbed",
                "pt": "msg",
                "to": "$substring(bedparents,0,2)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "minbed",
                "pt": "msg",
                "to": "$substring(bedparents,3,2)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "cronbed",
                "pt": "msg",
                "to": "\"0 \" & minbed & \" \" & hourbed & \" ? * MON-FRI *\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 1500,
        "wires": [
            [
                "7a9a9345.eb9f1c"
            ]
        ]
    },
    {
        "id": "2eb8d5a8.be4f4a",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Cron waketime",
        "rules": [
            {
                "t": "set",
                "p": "hourwake",
                "pt": "msg",
                "to": "$substring(wakeparents,0,2)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "minwake",
                "pt": "msg",
                "to": "$substring(wakeparents,3,2)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "cronwake",
                "pt": "msg",
                "to": "\"0 \" & minwake & \" \" & hourwake & \" ? * MON-FRI *\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 1566,
        "wires": [
            [
                "5af38d30.24c1c4"
            ]
        ]
    },
    {
        "id": "c5b37eaf.0c796",
        "type": "switch",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "On/Off ?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "bedparents",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "wakeparents",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 820,
        "y": 1566,
        "wires": [
            [
                "d49564bb.4c1998"
            ],
            [
                "3fafaf8f.20d2a"
            ]
        ]
    },
    {
        "id": "35734743.2aa508",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° garage IN",
        "links": [
            "85a1f748.dbcf58",
            "f7fc7abf.4f6578"
        ],
        "x": 1595,
        "y": 1360,
        "wires": [
            [
                "40ae5376.25507c"
            ]
        ]
    },
    {
        "id": "8d9ba74f.4c86b8",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° cuisine IN",
        "links": [
            "2d274f18.ceee",
            "f325126b.171aa"
        ],
        "x": 1595,
        "y": 1407,
        "wires": [
            [
                "3afddd80.866692"
            ]
        ]
    },
    {
        "id": "1e47434e.41b6dd",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° Salon IN",
        "links": [
            "1cf982e1.43812d",
            "d2b44d78.42457"
        ],
        "x": 1595,
        "y": 1454,
        "wires": [
            [
                "2b024ea3.78f8c2"
            ]
        ]
    },
    {
        "id": "b861131.a9f39f",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° SDB IN",
        "links": [
            "141423b0.69f89c",
            "336a6d11.28fcd2"
        ],
        "x": 1595,
        "y": 1500,
        "wires": [
            [
                "b8d4d752.9dc418"
            ]
        ]
    },
    {
        "id": "5be57e9c.ec668",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° couloir IN",
        "links": [
            "9b35f35a.e6a5a"
        ],
        "x": 1595,
        "y": 1548,
        "wires": [
            [
                "b3827640.f5ca68"
            ]
        ]
    },
    {
        "id": "640d9069.79a23",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° bureau IN",
        "links": [
            "51f68b3.c5ce874"
        ],
        "x": 1595,
        "y": 1595,
        "wires": [
            [
                "8bc6e501.94bc38"
            ]
        ]
    },
    {
        "id": "7819f490.69f12c",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° ch_stelio IN",
        "links": [
            "18910328.9c3c0d"
        ],
        "x": 1595,
        "y": 1320,
        "wires": [
            [
                "1f85e450.63502c"
            ]
        ]
    },
    {
        "id": "51f68b3.c5ce874",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° bureau OUT",
        "links": [
            "640d9069.79a23"
        ],
        "x": 1295,
        "y": 1600,
        "wires": []
    },
    {
        "id": "336a6d11.28fcd2",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° SDB OUT",
        "links": [
            "b861131.a9f39f"
        ],
        "x": 1295,
        "y": 1500,
        "wires": []
    },
    {
        "id": "9b35f35a.e6a5a",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° couloir OUT",
        "links": [
            "5be57e9c.ec668"
        ],
        "x": 1295,
        "y": 1548,
        "wires": []
    },
    {
        "id": "f7fc7abf.4f6578",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° garage OUT",
        "links": [
            "35734743.2aa508"
        ],
        "x": 1295,
        "y": 1360,
        "wires": []
    },
    {
        "id": "1cf982e1.43812d",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° Salon OUT",
        "links": [
            "1e47434e.41b6dd"
        ],
        "x": 1295,
        "y": 1454,
        "wires": []
    },
    {
        "id": "cf824ce2.2f2bb",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "SDB",
        "info": "",
        "x": 1370,
        "y": 1500,
        "wires": []
    },
    {
        "id": "acffb982.450bc8",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Couloir",
        "info": "",
        "x": 1370,
        "y": 1548,
        "wires": []
    },
    {
        "id": "580c5c77.8b24a4",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Bureau",
        "info": "",
        "x": 1370,
        "y": 1595,
        "wires": []
    },
    {
        "id": "450e2f64.b653c",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Garage",
        "info": "",
        "x": 1370,
        "y": 1360,
        "wires": []
    },
    {
        "id": "b9263148.8f736",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Salon",
        "info": "",
        "x": 1370,
        "y": 1454,
        "wires": []
    },
    {
        "id": "18910328.9c3c0d",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° ch_stelio OUT",
        "links": [
            "7819f490.69f12c"
        ],
        "x": 1295,
        "y": 1317,
        "wires": []
    },
    {
        "id": "be4815df.6538c8",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Chambre Stelio",
        "info": "",
        "x": 1401,
        "y": 1319,
        "wires": []
    },
    {
        "id": "2d274f18.ceee",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "T° cuisine OUT",
        "links": [
            "8d9ba74f.4c86b8"
        ],
        "x": 1295,
        "y": 1407,
        "wires": []
    },
    {
        "id": "368cad4c.90efc2",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Cuisine",
        "info": "",
        "x": 1370,
        "y": 1407,
        "wires": []
    },
    {
        "id": "c911efa5.aaee5",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "6e05e79b.e13118",
        "name": "Allumer",
        "links": [
            "5db845bd.b77a5c",
            "7aee84fb.28371c"
        ],
        "x": 610,
        "y": 760,
        "wires": [
            [
                "feb94bbe.be1038"
            ]
        ],
        "l": true
    },
    {
        "id": "7aee84fb.28371c",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Email OUT",
        "links": [
            "c911efa5.aaee5"
        ],
        "x": 835,
        "y": 540,
        "wires": []
    },
    {
        "id": "b5b88804.3ba0b8",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "d0789cc6.3bfb8",
        "name": "Email OUT",
        "links": [
            "8276d7b9.4b4818"
        ],
        "x": 1475,
        "y": 640,
        "wires": []
    },
    {
        "id": "2bd79bc9.d809c4",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Set tempo",
        "func": "// Set global.loop = ON ---> Empeche la fonction principale\n// de relancer si la boucle est en cours\nvar loop = \"ON\";\nflow.set('loop', loop);\n\n//Definit delay TempoON 35% plus long que celui paramatré par l'utilisateur\nvar tempoON = flow.get('tempoON', tempoON);\nmsg.delay = tempoON * 1.35;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1090,
        "y": 500,
        "wires": [
            [
                "e0d99edd.b33ee"
            ]
        ]
    },
    {
        "id": "e0d99edd.b33ee",
        "type": "delay",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Tempo On",
        "pauseType": "delayv",
        "timeout": "25",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1250,
        "y": 500,
        "wires": [
            [
                "46abd808.25a858"
            ]
        ]
    },
    {
        "id": "b82cf43d.059698",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "1st loop (35% longer)",
        "info": "****",
        "x": 920,
        "y": 460,
        "wires": []
    },
    {
        "id": "32d75399.6d2a3c",
        "type": "delay",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Tempo Off",
        "pauseType": "delayv",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1590,
        "y": 540,
        "wires": [
            [
                "350bcb42.7f3ed4"
            ]
        ]
    },
    {
        "id": "f2e99cf0.3212a",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Tempo ON IN",
        "links": [
            "d03bf577.917b98",
            "6d1065a5.49037c",
            "daa85135.d84e7"
        ],
        "x": 1135,
        "y": 460,
        "wires": [
            [
                "e0d99edd.b33ee"
            ]
        ]
    },
    {
        "id": "b278f0e4.da466",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Temp OFF IN",
        "links": [
            "6d1065a5.49037c",
            "d03bf577.917b98",
            "daa85135.d84e7"
        ],
        "x": 1455,
        "y": 540,
        "wires": [
            [
                "32d75399.6d2a3c"
            ]
        ]
    },
    {
        "id": "a1d56fc2.e671f",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "global set tempoON",
        "func": "var tempoON = msg.payload;\nflow.set('tempoON', tempoON);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 760,
        "y": 120,
        "wires": [
            [
                "e983b2e0.2e458"
            ]
        ]
    },
    {
        "id": "9a7f7114.0b502",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "set Tempo OFF",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "tempoOFF",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 500,
        "wires": [
            [
                "32d75399.6d2a3c"
            ]
        ]
    },
    {
        "id": "725a0328.37e16c",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Get ID",
        "rules": [
            {
                "t": "set",
                "p": "person",
                "pt": "msg",
                "to": "$substringAfter(topic, \"calendar.pres_\")\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 1080,
        "wires": [
            [
                "c2aa47a9.a52bb8"
            ]
        ]
    },
    {
        "id": "3b5c1318.1cc38c",
        "type": "switch",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "On/Off ?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 560,
        "y": 1080,
        "wires": [
            [
                "83408481.0713c8"
            ],
            [
                "f859dc03.678eb"
            ]
        ]
    },
    {
        "id": "dd7d60dd.faa3",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Getsion des t° selon la calendrier Google (basé sur la présence)",
        "info": "",
        "x": 290,
        "y": 1000,
        "wires": []
    },
    {
        "id": "7c0a2c99.ca2514",
        "type": "inject",
        "z": "5316d42f.ab97dc",
        "d": true,
        "name": "4:00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 04 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 1780,
        "wires": [
            [
                "5dac70f.923639"
            ]
        ]
    },
    {
        "id": "7d983d4.9bdc6c4",
        "type": "inject",
        "z": "5316d42f.ab97dc",
        "d": true,
        "name": "15:30",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "30 15 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 1820,
        "wires": [
            [
                "5dac70f.923639"
            ]
        ]
    },
    {
        "id": "e1438735.3ee798",
        "type": "switch",
        "z": "5316d42f.ab97dc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "40",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "60",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 1720,
        "wires": [
            [
                "bedcf06b.89888"
            ],
            [
                "8875f3ec.6648c"
            ]
        ]
    },
    {
        "id": "9782ace2.9a343",
        "type": "delay",
        "z": "5316d42f.ab97dc",
        "name": "",
        "pauseType": "delay",
        "timeout": "1.5",
        "timeoutUnits": "hours",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 670,
        "y": 1720,
        "wires": [
            [
                "8875f3ec.6648c"
            ]
        ]
    },
    {
        "id": "912fb467.7530a8",
        "type": "comment",
        "z": "5316d42f.ab97dc",
        "name": "Gestion boiler Garage______________________________________________________",
        "info": "",
        "x": 330,
        "y": 1680,
        "wires": []
    },
    {
        "id": "feb94bbe.be1038",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6e05e79b.e13118",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = \"Chauffage\"\nmsg.embeds_title = \"Chaudière  allumée\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/bi_rue.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 830,
        "y": 760,
        "wires": [
            [
                "dbc6f0c.f2db81"
            ]
        ]
    },
    {
        "id": "8276d7b9.4b4818",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "6e05e79b.e13118",
        "name": "Eteindre",
        "links": [
            "4021fdef.2dc5d4",
            "830572c.899969",
            "b5b88804.3ba0b8"
        ],
        "x": 620,
        "y": 800,
        "wires": [
            [
                "2b8b0fe.db714f"
            ]
        ],
        "l": true
    },
    {
        "id": "4021fdef.2dc5d4",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Email OUT",
        "links": [
            "8276d7b9.4b4818"
        ],
        "x": 1555,
        "y": 460,
        "wires": []
    },
    {
        "id": "2b8b0fe.db714f",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "6e05e79b.e13118",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_notifications\";\nmsg.message = \"Chauffage\"\nmsg.embeds_title = \"Chaudière Eteinte\";\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/bi_rue.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 830,
        "y": 800,
        "wires": [
            [
                "dbc6f0c.f2db81"
            ]
        ]
    },
    {
        "id": "b6b736fb.a4a748",
        "type": "inject",
        "z": "5316d42f.ab97dc",
        "d": true,
        "g": "c009a51c.e26758",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "45 05 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "23",
        "payloadType": "num",
        "x": 1260,
        "y": 760,
        "wires": [
            [
                "768ddad7.a78fd4"
            ]
        ]
    },
    {
        "id": "f8ef8c71.b1114",
        "type": "inject",
        "z": "5316d42f.ab97dc",
        "d": true,
        "g": "c009a51c.e26758",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "15 06 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 1260,
        "y": 800,
        "wires": [
            [
                "768ddad7.a78fd4"
            ]
        ]
    },
    {
        "id": "244f7773.d6cf78",
        "type": "switch",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 380,
        "wires": [
            [
                "55ceb40c.9ba0bc"
            ],
            [
                "b6afba77.ee63b8"
            ]
        ]
    },
    {
        "id": "55ceb40c.9ba0bc",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "start",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 360,
        "wires": [
            [
                "bbd1993b.9f4a88"
            ]
        ]
    },
    {
        "id": "b6afba77.ee63b8",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "stop",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "stop",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "reset",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 400,
        "wires": [
            [
                "d03bf577.917b98",
                "bd519d8a.209ce"
            ]
        ]
    },
    {
        "id": "dbc6f0c.f2db81",
        "type": "subflow:711f44dc.b8379c",
        "z": "5316d42f.ab97dc",
        "d": true,
        "g": "6e05e79b.e13118",
        "name": "",
        "env": [],
        "x": 1030,
        "y": 780,
        "wires": []
    },
    {
        "id": "3759a47d.64fe3c",
        "type": "inject",
        "z": "5316d42f.ab97dc",
        "d": true,
        "g": "ece9d4bb.8ea598",
        "name": "set séjour 23.5",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 07 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "23.5",
        "payloadType": "num",
        "x": 1220,
        "y": 1240,
        "wires": [
            [
                "2d274f18.ceee",
                "1cf982e1.43812d"
            ]
        ]
    },
    {
        "id": "938e111e.e21e3",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "-2 °C",
        "func": "msg.payload = msg.payload - 3;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1130,
        "y": 1300,
        "wires": [
            [
                "18910328.9c3c0d"
            ]
        ]
    },
    {
        "id": "49125c55.e618a4",
        "type": "delay",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Tempo On",
        "pauseType": "delayv",
        "timeout": "25",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1690,
        "y": 100,
        "wires": [
            [
                "677fe3f3.a5cacc"
            ]
        ]
    },
    {
        "id": "41f2ec18.f327a4",
        "type": "delay",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Tempo Off",
        "pauseType": "delayv",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1690,
        "y": 180,
        "wires": [
            [
                "4158019f.c2d1"
            ]
        ]
    },
    {
        "id": "cfc8aba9.c066b8",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "set Tempo ON",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "tempoON",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 100,
        "wires": [
            [
                "49125c55.e618a4"
            ]
        ]
    },
    {
        "id": "3990396e.63cee6",
        "type": "change",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "set Tempo OFF",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "tempoOFF",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 180,
        "wires": [
            [
                "41f2ec18.f327a4"
            ]
        ]
    },
    {
        "id": "402f6f6d.aedda",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "loop",
        "func": "// Contrôle de la boucle :\n// Start -> Continue de boucler\n// Stop -> arrête la boucle\n// Loop function\nswitch (msg.payload) {\n\tcase \"stop\":\n\t\tmsg.payload = \"stopped\";\n\t\treturn [msg,null];\n\tcase \"start\":\n\t\tmsg.payload = \"start\";\n\t\treturn [null,msg];\n\t\t}",
        "outputs": "2",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 80,
        "wires": [
            [
                "2fb540db.2c9ce"
            ],
            [
                "922f45e6.ea3f58",
                "5db845bd.b77a5c"
            ]
        ]
    },
    {
        "id": "90c01ec7.300d4",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Temp OFF IN",
        "links": [
            "6d1065a5.49037c",
            "d03bf577.917b98",
            "daa85135.d84e7"
        ],
        "x": 1575,
        "y": 240,
        "wires": [
            [
                "41f2ec18.f327a4"
            ]
        ]
    },
    {
        "id": "2f8b2d3a.71b222",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Tempo ON IN",
        "links": [
            "d03bf577.917b98",
            "6d1065a5.49037c",
            "daa85135.d84e7"
        ],
        "x": 1575,
        "y": 60,
        "wires": [
            [
                "49125c55.e618a4"
            ]
        ]
    },
    {
        "id": "2e003dec.c3bb52",
        "type": "link in",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Loop ON IN",
        "links": [
            "350bcb42.7f3ed4",
            "4158019f.c2d1",
            "bbd1993b.9f4a88"
        ],
        "x": 995,
        "y": 80,
        "wires": [
            [
                "402f6f6d.aedda"
            ]
        ]
    },
    {
        "id": "4158019f.c2d1",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Loop ON OUT",
        "links": [
            "2e003dec.c3bb52"
        ],
        "x": 1795,
        "y": 180,
        "wires": []
    },
    {
        "id": "830572c.899969",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Email OUT",
        "links": [
            "8276d7b9.4b4818"
        ],
        "x": 1375,
        "y": 240,
        "wires": []
    },
    {
        "id": "5db845bd.b77a5c",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Email OUT",
        "links": [
            "c911efa5.aaee5"
        ],
        "x": 1195,
        "y": 140,
        "wires": []
    },
    {
        "id": "2fb540db.2c9ce",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Loop OFF OUT",
        "links": [
            "239bf4e0.af23fc"
        ],
        "x": 1195,
        "y": 60,
        "wires": []
    },
    {
        "id": "e888cdb5.664d7",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "-2 °C",
        "func": "msg.payload = msg.payload - 2;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 1620,
        "wires": [
            [
                "f7fc7abf.4f6578"
            ]
        ]
    },
    {
        "id": "fb04e7c36c8153cb",
        "type": "delay",
        "z": "5316d42f.ab97dc",
        "g": "98e748f4598d0b92",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 490,
        "y": 1940,
        "wires": [
            [
                "bba20cc89393abcd"
            ]
        ]
    },
    {
        "id": "90c18c516416799f",
        "type": "function",
        "z": "5316d42f.ab97dc",
        "g": "98e748f4598d0b92",
        "name": "",
        "func": "msg.title = \"Chauffage\"\nmsg.dest = \"tel_jona;telegram_jona\"\nmsg.message = \"reset chauffage ok\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1900,
        "wires": [
            [
                "6aefb37fe32bd79e"
            ]
        ]
    },
    {
        "id": "6aefb37fe32bd79e",
        "type": "link out",
        "z": "5316d42f.ab97dc",
        "g": "98e748f4598d0b92",
        "name": "Notif out",
        "links": [
            "cbe69ae6.559a48"
        ],
        "x": 480,
        "y": 1900,
        "wires": [],
        "l": true
    },
    {
        "id": "c942b62767d1ee82",
        "type": "switch",
        "z": "5316d42f.ab97dc",
        "g": "ec122d7706b9e41c",
        "name": "",
        "property": "payload.event.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "yes",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "no",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 300,
        "y": 2100,
        "wires": [
            [
                "db2fd94a50ff3fde"
            ],
            []
        ]
    },
    {
        "id": "2e36fcca.134b74",
        "type": "cronplus",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Scheduler",
        "outputField": "payload",
        "timeZone": "",
        "persistDynamic": true,
        "commandResponseMsgOutput": "output1",
        "outputs": 1,
        "options": [
            {
                "name": "bed children",
                "topic": "bedchildren",
                "payloadType": "str",
                "payload": "bedchildren",
                "expressionType": "cron",
                "expression": "0 15 22 ? * MON-FRI *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            },
            {
                "name": "wake children",
                "topic": "wakechildren",
                "payloadType": "str",
                "payload": "wakechildren",
                "expressionType": "cron",
                "expression": "0 45 5 ? * MON-FRI *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 720,
        "y": 1300,
        "wires": [
            [
                "3c6b4976.f551f6"
            ]
        ]
    },
    {
        "id": "d6efedf8.9d3e3",
        "type": "cronplus",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Schedule Children Weekend",
        "outputField": "topic",
        "timeZone": "",
        "persistDynamic": true,
        "commandResponseMsgOutput": "output1",
        "outputs": 1,
        "options": [
            {
                "name": "bed children",
                "topic": "bedchildren",
                "payloadType": "str",
                "payload": "bedchildrenwe",
                "expressionType": "cron",
                "expression": "0 15 23 ? * SAT-SUN *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            },
            {
                "name": "wake children",
                "topic": "wakechildren",
                "payloadType": "str",
                "payload": "wakechildrenwe",
                "expressionType": "cron",
                "expression": "0 30 7 ? * SAT-SUN *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 180,
        "y": 1386,
        "wires": [
            [
                "80532a8.7d95ed8"
            ]
        ]
    },
    {
        "id": "f599be67.52147",
        "type": "cronplus",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Scheduler",
        "outputField": "payload",
        "timeZone": "",
        "persistDynamic": true,
        "commandResponseMsgOutput": "output1",
        "outputs": 1,
        "options": [
            {
                "name": "bed parents",
                "topic": "bedparents",
                "payloadType": "str",
                "payload": "bedparents",
                "expressionType": "cron",
                "expression": "0 15 22 ? * MON-FRI *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            },
            {
                "name": "wake parents",
                "topic": "wakeparents",
                "payloadType": "str",
                "payload": "wakeparents",
                "expressionType": "cron",
                "expression": "0 45 5 ? * MON-FRI *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 680,
        "y": 1566,
        "wires": [
            [
                "c5b37eaf.0c796"
            ]
        ]
    },
    {
        "id": "1f253a30.6bf6c6",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "d0789cc6.3bfb8",
        "name": "Eteint chaudière",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1360,
        "y": 640,
        "wires": [
            [
                "b5b88804.3ba0b8"
            ]
        ]
    },
    {
        "id": "af37765f.ff1fe8",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Set T°",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload}}"
        ],
        "data": "{\"temperature\": \"{{data.attributes.temperature}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1130,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "40ae5376.25507c",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Set T° Garage",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_garage"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1740,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "3afddd80.866692",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Set T° Cuisine",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_cuisine"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1740,
        "y": 1407,
        "wires": [
            []
        ]
    },
    {
        "id": "2b024ea3.78f8c2",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Set T° Salon",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_salon"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1730,
        "y": 1454,
        "wires": [
            []
        ]
    },
    {
        "id": "b8d4d752.9dc418",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Set T° SDB",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_sdb"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1730,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "b3827640.f5ca68",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Set T° Couloir",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_couloir"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1740,
        "y": 1548,
        "wires": [
            []
        ]
    },
    {
        "id": "8bc6e501.94bc38",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Set T° Bureau",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_bureau"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1740,
        "y": 1595,
        "wires": [
            []
        ]
    },
    {
        "id": "1f85e450.63502c",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Set T° ch stelio",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_ch_stelio"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1740,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "a5c44e77.b060b",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Allume chaudière",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 910,
        "y": 500,
        "wires": [
            [
                "2bd79bc9.d809c4"
            ]
        ]
    },
    {
        "id": "46abd808.25a858",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Eteint chaudière",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1420,
        "y": 500,
        "wires": [
            [
                "9a7f7114.0b502",
                "4021fdef.2dc5d4"
            ]
        ]
    },
    {
        "id": "625ce033.28ad5",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Piece ON",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_bureau",
            "climate.thermostat_generique_cuisine",
            "climate.thermostat_generique_salon"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1000,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "b5b0323a.bb924",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Piece OFF",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.thermostat_generique_bureau",
            "climate.thermostat_generique_cuisine",
            "climate.thermostat_generique_salon"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1010,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "bedcf06b.89888",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "name": "Allumer Boiler",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_boiler"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 460,
        "y": 1720,
        "wires": [
            [
                "9782ace2.9a343"
            ]
        ]
    },
    {
        "id": "8875f3ec.6648c",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "name": "Eteindre Boiler",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.sonoff_boiler"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 460,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "768ddad7.a78fd4",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "c009a51c.e26758",
        "name": "Sdb +",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.vanne_sdb"
        ],
        "data": "{\"temperature\": \"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "temp",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "x": 1530,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "922f45e6.ea3f58",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Allume chaudière",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1270,
        "y": 100,
        "wires": [
            [
                "cfc8aba9.c066b8"
            ]
        ]
    },
    {
        "id": "677fe3f3.a5cacc",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "3deb6699.aaf26a",
        "name": "Eteint chaudière",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1260,
        "y": 180,
        "wires": [
            [
                "3990396e.63cee6",
                "830572c.899969"
            ]
        ]
    },
    {
        "id": "d24570b0d5a62f60",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "98e748f4598d0b92",
        "name": "Bool reset chaud off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.reset_chaudiere"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 880,
        "y": 1940,
        "wires": [
            []
        ]
    },
    {
        "id": "bba20cc89393abcd",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "98e748f4598d0b92",
        "name": "Sw reset chaud off",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 1940,
        "wires": [
            [
                "d24570b0d5a62f60"
            ]
        ]
    },
    {
        "id": "46d2df53d6d8dd76",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "98e748f4598d0b92",
        "name": "Sw reset chaud ",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 1940,
        "wires": [
            [
                "fb04e7c36c8153cb"
            ]
        ]
    },
    {
        "id": "d20af4f085bc9480",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ec122d7706b9e41c",
        "name": "Notif bouton",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_11tpro",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Relais Off , dois-je rallumer?\",\"title\":\"DCJ Channel\",\"data\":{\"actions\":[{\"action\":\"yes\",\"title\":\"Oui\"},{\"action\":\"no\",\"title\":\"Non\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 490,
        "y": 2040,
        "wires": [
            []
        ]
    },
    {
        "id": "db2fd94a50ff3fde",
        "type": "api-call-service",
        "z": "5316d42f.ab97dc",
        "g": "ec122d7706b9e41c",
        "name": "Relais On",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.inter_chaudiere_l4"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 430,
        "y": 2100,
        "wires": [
            []
        ]
    },
    {
        "id": "2da6ef2c.c8c01",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "Nbre de pièces",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.offset_nbre_pieces_chauffage",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 320,
        "y": 60,
        "wires": [
            [
                "d2706a2c.2df268"
            ]
        ]
    },
    {
        "id": "bf79dbd5.609718",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "12bd6589.118aba",
        "name": "Chauffage On ?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.chauffage_on_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 690,
        "y": 641,
        "wires": [
            [
                "f5225c15.f42b8"
            ],
            [
                "6d1065a5.49037c"
            ]
        ]
    },
    {
        "id": "f7059103.4472a",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Get generic device",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "{{topic}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 810,
        "y": 940,
        "wires": [
            [
                "9b90e987.a8b4e8"
            ]
        ]
    },
    {
        "id": "ffb2503b.66ba2",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Bed time children week",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_datetime.heure_couche_enfants",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "bedchildren",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 510,
        "y": 1240,
        "wires": [
            [
                "34e7c104.b3cdbe"
            ]
        ]
    },
    {
        "id": "367944cb.95f89c",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Wake-up children week",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_datetime.heure_reveil_enfants",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "wakechildren",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 930,
        "y": 1240,
        "wires": [
            [
                "64e09796.df9918"
            ]
        ]
    },
    {
        "id": "85b5a9ab.dff898",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "t° when OFF",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 970,
        "y": 1352,
        "wires": [
            [
                "18910328.9c3c0d"
            ]
        ]
    },
    {
        "id": "2c67dc8.23a0624",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "t° when ON",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_on",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 969,
        "y": 1402,
        "wires": [
            [
                "938e111e.e21e3"
            ]
        ]
    },
    {
        "id": "a7ff1532.fc7e98",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "t° when OFF",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 969,
        "y": 1450,
        "wires": [
            [
                "18910328.9c3c0d"
            ]
        ]
    },
    {
        "id": "cbcfbaa0.eb8648",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "t° when ON",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_on",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 970,
        "y": 1495,
        "wires": [
            [
                "938e111e.e21e3"
            ]
        ]
    },
    {
        "id": "ec60e73.5894a18",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Bed time parents week",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_datetime.heure_couche_parents",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "bedparents",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 480,
        "y": 1500,
        "wires": [
            [
                "a7bda212.07d05"
            ]
        ]
    },
    {
        "id": "7a9a9345.eb9f1c",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Wake-up parents week",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_datetime.heure_reveil_parents",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "wakeparents",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 180,
        "y": 1566,
        "wires": [
            [
                "2eb8d5a8.be4f4a"
            ]
        ]
    },
    {
        "id": "d49564bb.4c1998",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "t° when OFF",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 971,
        "y": 1540,
        "wires": [
            [
                "2d274f18.ceee",
                "1cf982e1.43812d",
                "336a6d11.28fcd2",
                "9b35f35a.e6a5a",
                "51f68b3.c5ce874",
                "f7fc7abf.4f6578"
            ]
        ]
    },
    {
        "id": "3fafaf8f.20d2a",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "t° when ON",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_on",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 970,
        "y": 1590,
        "wires": [
            [
                "2d274f18.ceee",
                "1cf982e1.43812d",
                "336a6d11.28fcd2",
                "9b35f35a.e6a5a",
                "51f68b3.c5ce874",
                "e888cdb5.664d7"
            ]
        ]
    },
    {
        "id": "c2aa47a9.a52bb8",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Etat",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "{{topic}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 390,
        "y": 1080,
        "wires": [
            [
                "3b5c1318.1cc38c"
            ]
        ]
    },
    {
        "id": "f859dc03.678eb",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "t° when OFF",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 790,
        "y": 1120,
        "wires": [
            [
                "b5b0323a.bb924"
            ]
        ]
    },
    {
        "id": "83408481.0713c8",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "t° when ON",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.temperature_when_on",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 790,
        "y": 1060,
        "wires": [
            [
                "625ce033.28ad5"
            ]
        ]
    },
    {
        "id": "5dac70f.923639",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "name": "<50",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "50",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.esp_temp_boiler",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 250,
        "y": 1780,
        "wires": [
            [
                "bedcf06b.89888"
            ],
            []
        ]
    },
    {
        "id": "80532a8.7d95ed8",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Chauffage On ?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.chauffage_on_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 460,
        "y": 1400,
        "wires": [
            [
                "e11a551a.747ee8"
            ],
            []
        ]
    },
    {
        "id": "a2f58bf0.c33858",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Chauffage On ?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.chauffage_on_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 280,
        "y": 1500,
        "wires": [
            [
                "ec60e73.5894a18"
            ],
            []
        ]
    },
    {
        "id": "9dbbef8b.74a79",
        "type": "api-current-state",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Chauffage On ?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.chauffage_on_off",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 300,
        "y": 1240,
        "wires": [
            [
                "ffb2503b.66ba2"
            ],
            []
        ]
    },
    {
        "id": "c90b24dbf3ab0105",
        "type": "server-events",
        "z": "5316d42f.ab97dc",
        "g": "ec122d7706b9e41c",
        "name": "Action app",
        "server": "5261c37d2408eef8",
        "version": 1,
        "event_type": "mobile_app_notification_action",
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            },
            {
                "property": "event_type",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 120,
        "y": 2100,
        "wires": [
            [
                "c942b62767d1ee82"
            ]
        ]
    },
    {
        "id": "86133cf8.f7ce4",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "Cuisine",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chauffe_cuisine",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "habool",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 400,
        "wires": [
            [
                "1abd3991.6c7cd6"
            ]
        ]
    },
    {
        "id": "90407985.fbd0c8",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "Garage",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chauffe_garage",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "habool",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 340,
        "wires": [
            [
                "27dc91ff.88c0de"
            ]
        ]
    },
    {
        "id": "8f7d2532.cd5958",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "Salon",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chauffe_salon",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "habool",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 460,
        "wires": [
            [
                "19413449.27c3ec"
            ]
        ]
    },
    {
        "id": "6eb156e3.a95a78",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "SDB",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chauffe_sdb",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "habool",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 520,
        "wires": [
            [
                "8b80fd11.6e616"
            ]
        ]
    },
    {
        "id": "d178cc61.9825c",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "Bureau",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chauffe_bureau",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "habool",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 640,
        "wires": [
            [
                "1039e0ad.186e5f"
            ]
        ]
    },
    {
        "id": "db0742c9.c207f",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "Nbre de pièces",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_number.offset_nbre_pieces_chauffage",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "num",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 60,
        "wires": [
            [
                "2da6ef2c.c8c01"
            ]
        ]
    },
    {
        "id": "a3644352.942da",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "Tempo ON",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_number.tempo_on",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "num",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 120,
        "wires": [
            [
                "b7463a39.655388"
            ]
        ]
    },
    {
        "id": "65d49a3c.097ad4",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "Tempo OFF",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_number.tempo_off",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "num",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 180,
        "wires": [
            [
                "c940d183.3527e"
            ]
        ]
    },
    {
        "id": "da010c39.896b1",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "Couloir",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chauffe_couloir",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "habool",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 580,
        "wires": [
            [
                "cdad6abf.0c27d8"
            ]
        ]
    },
    {
        "id": "8a2e8e6c.6c60d",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "6177905c.1d86",
        "name": "Ch Stelio",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chauffe_ch_stelio",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "habool",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 700,
        "wires": [
            [
                "6941d16a.41299"
            ]
        ]
    },
    {
        "id": "252b54b7.35d51c",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "64acaad.81af854",
        "name": "Chauffage on/off",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chauffage_on_off",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "habool",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 240,
        "wires": [
            [
                "11f36ffc.1f467"
            ]
        ]
    },
    {
        "id": "ddc05028.38801",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Couché enfants",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_datetime.heure_couche_enfants",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 1220,
        "wires": [
            [
                "9dbbef8b.74a79"
            ]
        ]
    },
    {
        "id": "2e6ef18c.80b20e",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Levé enfants",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_datetime.heure_reveil_enfants",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 1280,
        "wires": [
            [
                "9dbbef8b.74a79"
            ]
        ]
    },
    {
        "id": "feef8515.675498",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Couché parents",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_datetime.heure_couche_parents",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 1440,
        "wires": [
            [
                "a2f58bf0.c33858"
            ]
        ]
    },
    {
        "id": "38d58f7a.08e0c",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "ece9d4bb.8ea598",
        "name": "Levé parents",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_datetime.heure_reveil_parents",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 1500,
        "wires": [
            [
                "a2f58bf0.c33858"
            ]
        ]
    },
    {
        "id": "6443a49b.69f77c",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Présence",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "calendar.pres_*",
        "entityidfiltertype": "regex",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 1080,
        "wires": [
            [
                "725a0328.37e16c"
            ]
        ]
    },
    {
        "id": "c35e6234.eb60f",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "d": true,
        "name": "T° Boiler",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.esp_temp_boiler",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "num",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 1720,
        "wires": [
            [
                "e1438735.3ee798"
            ]
        ]
    },
    {
        "id": "6da07b9.dae7884",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "2b3a788f.9c40d8",
        "name": "Chaudiere",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.chaudiere_on_off",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 620,
        "y": 380,
        "wires": [
            [
                "244f7773.d6cf78"
            ]
        ]
    },
    {
        "id": "ba522bb983727114",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "98e748f4598d0b92",
        "name": "Bool reset chaud",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.reset_chaudiere",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "x": 140,
        "y": 1920,
        "wires": [
            [
                "90c18c516416799f",
                "46d2df53d6d8dd76"
            ],
            []
        ]
    },
    {
        "id": "b01a4f6ca32e69b7",
        "type": "server-state-changed",
        "z": "5316d42f.ab97dc",
        "g": "ec122d7706b9e41c",
        "name": "Relais Chauidiere",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "switch.inter_chaudiere_l4",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "30",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "str"
            }
        ],
        "x": 130,
        "y": 2040,
        "wires": [
            [
                "6804063ea0604dc8"
            ],
            []
        ]
    },
    {
        "id": "6804063ea0604dc8",
        "type": "ha-get-entities",
        "z": "5316d42f.ab97dc",
        "g": "ec122d7706b9e41c",
        "name": "NB boolean on",
        "server": "5261c37d2408eef8",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.chauffe_",
                "valueType": "str"
            }
        ],
        "output_type": "count",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 320,
        "y": 2040,
        "wires": [
            [
                "d20af4f085bc9480"
            ]
        ]
    },
    {
        "id": "17d9aef.722b051",
        "type": "trigger-state",
        "z": "5316d42f.ab97dc",
        "g": "449a1278.f6048c",
        "name": "Thermostat triggered",
        "server": "5261c37d2408eef8",
        "version": 2,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityid": "climate.thermostat_generique_*",
        "entityidfiltertype": "regex",
        "debugenabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "current_state",
                "propertyValue": "new_state.state",
                "comparatorType": "is_not",
                "comparatorValueDatatype": "str",
                "comparatorValue": ""
            }
        ],
        "inputs": 1,
        "outputs": 2,
        "customoutputs": [],
        "outputinitially": false,
        "state_type": "str",
        "enableInput": true,
        "x": 160,
        "y": 940,
        "wires": [
            [
                "f7941bb4.4e7cb8"
            ],
            []
        ]
    },
    {
        "id": "0775f79c333d2cae",
        "type": "switch",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Filter Alarm Status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "armed_home",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "armed_away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "disarmed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triggered",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 350,
        "y": 140,
        "wires": [
            [
                "58932bddee668cd7"
            ],
            [
                "94b8f5d3bf9f5e53"
            ],
            [
                "531068958d33d3af"
            ],
            [
                "471d72c424dc741c"
            ]
        ]
    },
    {
        "id": "bf2c1e5afb50b175",
        "type": "comment",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Trigger automation________________________________",
        "info": "",
        "x": 250,
        "y": 220,
        "wires": []
    },
    {
        "id": "58932bddee668cd7",
        "type": "subflow:b1abe7bc.8854d8",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Armed Home",
        "env": [],
        "x": 610,
        "y": 60,
        "wires": []
    },
    {
        "id": "94b8f5d3bf9f5e53",
        "type": "subflow:5e7c5319.89a77c",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Armed Away",
        "env": [],
        "x": 610,
        "y": 160,
        "wires": []
    },
    {
        "id": "027c2e59cae0384b",
        "type": "subflow:d6013eec.a94ed",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Disarmed",
        "env": [],
        "x": 820,
        "y": 220,
        "wires": []
    },
    {
        "id": "bfb725b83259f2cf",
        "type": "subflow:6574230f.4c620c",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Déclencheurs -> triggered",
        "env": [],
        "x": 150,
        "y": 260,
        "wires": []
    },
    {
        "id": "94142499b7ebf664",
        "type": "template",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "STOP",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "STOP",
        "x": 810,
        "y": 180,
        "wires": [
            [
                "ccd349fa94172973",
                "15175bfd97b6fdb2"
            ]
        ]
    },
    {
        "id": "cd0b6b2fd1412e93",
        "type": "subflow:167adec2.4f41e1",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Sirène Faible",
        "env": [],
        "x": 830,
        "y": 280,
        "wires": [
            [
                "ccd349fa94172973"
            ]
        ]
    },
    {
        "id": "4cba1e705fcaa022",
        "type": "subflow:39624737.4b1738",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Alarme",
        "env": [],
        "x": 1260,
        "y": 200,
        "wires": [
            [
                "15175bfd97b6fdb2"
            ]
        ]
    },
    {
        "id": "e4e7358fc695d372",
        "type": "template",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Message intrusion",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarme declenchée par : {{global.declencheur}}",
        "x": 1290,
        "y": 140,
        "wires": [
            [
                "8b2f82fb40695986"
            ]
        ]
    },
    {
        "id": "ec945dab9b6ba07b",
        "type": "comment",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Alarm Panel_______________________________",
        "info": "",
        "x": 230,
        "y": 60,
        "wires": []
    },
    {
        "id": "9ef1d6f537c3ad3c",
        "type": "mqtt in",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "RFID",
        "topic": "/ESP_RFID/RFID/Tag",
        "qos": "1",
        "datatype": "auto",
        "broker": "6ab4d33316cf218b",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 90,
        "y": 440,
        "wires": [
            [
                "443a5b9f060b9a41"
            ]
        ]
    },
    {
        "id": "443a5b9f060b9a41",
        "type": "switch",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Tag",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "10590542",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "6953180",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "10531109",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 230,
        "y": 440,
        "wires": [
            [
                "519d470d0ae1fe69"
            ],
            [
                "519d470d0ae1fe69"
            ],
            [
                "519d470d0ae1fe69"
            ]
        ]
    },
    {
        "id": "e218c78833b1311c",
        "type": "link out",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Check Capteurs in",
        "links": [
            "3c0a6eb6f5fe61de",
            "e979f42820fb2461"
        ],
        "x": 610,
        "y": 480,
        "wires": [],
        "l": true
    },
    {
        "id": "196b01a3084a84ae",
        "type": "link in",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Alarm Off In",
        "links": [
            "b1df8b44.c7d148",
            "c45c16f1.cbb798"
        ],
        "x": 370,
        "y": 380,
        "wires": [
            [
                "ba62bebc1790567e"
            ]
        ],
        "l": true
    },
    {
        "id": "ba62bebc1790567e",
        "type": "http request",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Alarm off",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.100.37/control?cmd=Nextion_2.4_Intell,alarm.picc=2",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 600,
        "y": 400,
        "wires": [
            [
                "5eeb3110497e52a1"
            ]
        ]
    },
    {
        "id": "829c81b0260784bc",
        "type": "link in",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "telco blanche",
        "links": [
            "9189fa3.ccee608"
        ],
        "x": 110,
        "y": 500,
        "wires": [
            [
                "596477291cb39cb7"
            ]
        ],
        "l": true
    },
    {
        "id": "3c0a6eb6f5fe61de",
        "type": "link in",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Check Capteurs out",
        "links": [
            "e218c78833b1311c",
            "d852843b.1e97b8"
        ],
        "x": 130,
        "y": 620,
        "wires": [
            [
                "bb7f2244e0a43b88"
            ]
        ],
        "l": true
    },
    {
        "id": "fd339fa9457ad791",
        "type": "template",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Création Msg",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " {{{payload.attributes.friendly_name}}} semble ouverte merci de vérifier son état",
        "output": "str",
        "x": 830,
        "y": 600,
        "wires": [
            [
                "a35fe8ed6f473973",
                "4ccde99b034a3d61",
                "c04b1cdce59c5080"
            ]
        ]
    },
    {
        "id": "a35fe8ed6f473973",
        "type": "join",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 990,
        "y": 580,
        "wires": [
            [
                "f2cc26b9f50da218"
            ]
        ]
    },
    {
        "id": "ffbc3ea924677dfd",
        "type": "change",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_nesthub_garage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "Alarme activée",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 720,
        "wires": [
            [
                "8b2f82fb40695986"
            ]
        ]
    },
    {
        "id": "372f97f89b3b87e3",
        "type": "change",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_20_salon",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 560,
        "wires": [
            [
                "8b2f82fb40695986"
            ]
        ]
    },
    {
        "id": "8b2f82fb40695986",
        "type": "subflow:711f44dc.b8379c",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "",
        "env": [],
        "x": 1310,
        "y": 660,
        "wires": []
    },
    {
        "id": "4ccde99b034a3d61",
        "type": "function",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Telegram Notif",
        "func": "msg.dest = \"telegram_jona\";\nmsg.title = \"Alarme\";\nmsg.message = msg.payload\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1020,
        "y": 660,
        "wires": [
            [
                "8b2f82fb40695986"
            ]
        ]
    },
    {
        "id": "c04b1cdce59c5080",
        "type": "function",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Discord Notif",
        "func": "msg.dest = \"discord_alarme\";\nmsg.message = \"Alarme\";\nmsg.embeds_title = msg.payload;\n//msg.embeds_url = \"http://www.google.fr\"\n//msg.embeds_description = \"embeds_description\";\n//msg.embeds_image = \"http://hassos.dcjona.one/local/cam_captures/bi_rue.jpg\";\n//msg.embeds_thumbnail = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\";\nmsg.embeds_footer = \"By Dcjona\";\n//msg.embeds_author_name = \"Dcjona\"\n//msg.embeds_author_url = \"http://www.google.fr\"\n//msg.embeds_author_icon_url = \"https://silanus.fr/sin/wp-content/uploads/2018/02/node-red-icon.png\"\nmsg.embeds_color = \"FF0000\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1010,
        "y": 620,
        "wires": [
            [
                "8b2f82fb40695986"
            ]
        ]
    },
    {
        "id": "d25b5f2df9a2fe01",
        "type": "inject",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 700,
        "wires": [
            [
                "bb7f2244e0a43b88"
            ]
        ]
    },
    {
        "id": "2be6503ef6db922a",
        "type": "change",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "TTS",
        "rules": [
            {
                "t": "set",
                "p": "dest",
                "pt": "msg",
                "to": "tts_50_garage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "message",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 600,
        "wires": [
            [
                "8b2f82fb40695986"
            ]
        ]
    },
    {
        "id": "7fc668e7a75e2651",
        "type": "delay",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "",
        "pauseType": "delay",
        "timeout": "60",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 620,
        "y": 720,
        "wires": [
            [
                "9320c6fe7a53ae8d"
            ]
        ]
    },
    {
        "id": "ccd349fa94172973",
        "type": "stoptimer",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "duration": "60",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1050,
        "y": 180,
        "wires": [
            [
                "4cba1e705fcaa022",
                "e4e7358fc695d372"
            ],
            []
        ]
    },
    {
        "id": "15175bfd97b6fdb2",
        "type": "stoptimer",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "duration": "8",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1060,
        "y": 240,
        "wires": [
            [
                "4cba1e705fcaa022"
            ],
            []
        ]
    },
    {
        "id": "5eeb3110497e52a1",
        "type": "api-call-service",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "desarmer",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "alarm_control_panel",
        "service": "alarm_disarm",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "alarm_control_panel.home_alarm"
        ],
        "data": "{\"code\":\"3521\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 840,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "084d5126d66e1842",
        "type": "api-call-service",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "armer nuit",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "alarm_control_panel",
        "service": "alarm_arm_home",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "alarm_control_panel.home_alarm"
        ],
        "data": "{\"code\":\"3521\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 760,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "1cddf54f28ad91d6",
        "type": "api-call-service",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "armer absent",
        "server": "5261c37d2408eef8",
        "version": 5,
        "debugenabled": false,
        "domain": "alarm_control_panel",
        "service": "alarm_arm_away",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "alarm_control_panel.home_alarm"
        ],
        "data": "{\"code\":\"3521\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 950,
        "y": 720,
        "wires": [
            [
                "ffbc3ea924677dfd"
            ]
        ]
    },
    {
        "id": "531068958d33d3af",
        "type": "api-current-state",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Disarmed?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "disarmed",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "alarm_control_panel.home_alarm",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 610,
        "y": 220,
        "wires": [
            [
                "94142499b7ebf664",
                "027c2e59cae0384b"
            ],
            []
        ]
    },
    {
        "id": "471d72c424dc741c",
        "type": "api-current-state",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Déclenchée?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "triggered",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "alarm_control_panel.home_alarm",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 610,
        "y": 280,
        "wires": [
            [
                "cd0b6b2fd1412e93"
            ],
            []
        ]
    },
    {
        "id": "519d470d0ae1fe69",
        "type": "api-current-state",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Armée?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "armed_away",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "alarm_control_panel.home_alarm",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 380,
        "y": 440,
        "wires": [
            [
                "ba62bebc1790567e"
            ],
            [
                "e218c78833b1311c"
            ]
        ]
    },
    {
        "id": "596477291cb39cb7",
        "type": "api-current-state",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Armée?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "disarmed",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "alarm_control_panel.home_alarm",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 260,
        "y": 500,
        "wires": [
            [
                "e218c78833b1311c"
            ],
            []
        ]
    },
    {
        "id": "bb7f2244e0a43b88",
        "type": "api-current-state",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Etat périmétrique",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.doors",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 330,
        "y": 620,
        "wires": [
            [
                "3f334373d0af2c05"
            ],
            [
                "6b02246508612df0"
            ]
        ]
    },
    {
        "id": "6b02246508612df0",
        "type": "api-current-state",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Mode nuit ?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nuit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 530,
        "y": 660,
        "wires": [
            [
                "084d5126d66e1842"
            ],
            [
                "7fc668e7a75e2651"
            ]
        ]
    },
    {
        "id": "9320c6fe7a53ae8d",
        "type": "api-current-state",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Armed away?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "armed_away",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "alarm_control_panel.home_alarm",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 780,
        "y": 720,
        "wires": [
            [],
            [
                "1cddf54f28ad91d6"
            ]
        ]
    },
    {
        "id": "f2cc26b9f50da218",
        "type": "api-current-state",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Mode nuit ?",
        "server": "5261c37d2408eef8",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nuit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mode_ambiance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "",
        "forType": "num",
        "x": 1130,
        "y": 580,
        "wires": [
            [
                "372f97f89b3b87e3"
            ],
            [
                "2be6503ef6db922a"
            ]
        ]
    },
    {
        "id": "d9485414201a85b0",
        "type": "server-state-changed",
        "z": "263d20821b09b78e",
        "g": "0eba983f137ff62c",
        "name": "Home Alarm Mode",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [],
        "entityidfilter": "alarm_control_panel.home_alarm",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 55,
        "y": 140,
        "wires": [
            [
                "0775f79c333d2cae"
            ]
        ],
        "l": false
    },
    {
        "id": "9511dabae5df82f9",
        "type": "server-state-changed",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "jona finger",
        "server": "5261c37d2408eef8",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.fingerprint_person",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "jona",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 380,
        "wires": [
            [
                "519d470d0ae1fe69"
            ],
            []
        ]
    },
    {
        "id": "3f334373d0af2c05",
        "type": "ha-get-entities",
        "z": "263d20821b09b78e",
        "g": "9105dff9c696bb0b",
        "name": "Portes/Fenetres ouvertes?",
        "server": "5261c37d2408eef8",
        "version": 0,
        "rules": [
            {
                "property": "attributes.device_class",
                "logic": "is",
                "value": "door",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 580,
        "y": 600,
        "wires": [
            [
                "fd339fa9457ad791"
            ]
        ]
    }
]